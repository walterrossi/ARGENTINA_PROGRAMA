"use strict";(self.webpackChunkportfolio=self.webpackChunkportfolio||[]).push([[179],{2011:(ht,Re,O)=>{O.d(Re,{Dh:()=>he,GT:()=>ye,cc:()=>ke,hO:()=>$e,on:()=>H,pX:()=>ae,xv:()=>ve});var h=O(4650),V=O(127),R=O(5813);ht=O.hmd(ht);const se=["ngOnDestroy"],ae=(ge,et,tt,Fe={})=>new Proxy(ge,{get:(Oe,be)=>tt.runOutsideAngular(()=>{var Ze;if(ge[be])return!(null===(Ze=Fe?.spy)||void 0===Ze)&&Ze.get&&Fe.spy.get(be,ge[be]),ge[be];if(se.indexOf(be)>-1)return()=>{};const ie=et.toPromise().then(ue=>{const _e=ue&&ue[be];return"function"==typeof _e?_e.bind(ue):_e&&_e.then?_e.then(X=>tt.run(()=>X)):tt.run(()=>_e)});return new Proxy(()=>{},{get:(ue,_e)=>ie[_e],apply:(ue,_e,X)=>ie.then(te=>{var fe;const oe=te&&te(...X);return!(null===(fe=Fe?.spy)||void 0===fe)&&fe.apply&&Fe.spy.apply(be,X,oe),oe})})})}),ye=(ge,et)=>{et.forEach(tt=>{Object.getOwnPropertyNames(tt.prototype||tt).forEach(Fe=>{Object.defineProperty(ge.prototype,Fe,Object.getOwnPropertyDescriptor(tt.prototype||tt,Fe))})})};class pe{constructor(et){return et}}const he=new h.OlP("angularfire2.app.options"),ve=new h.OlP("angularfire2.app.name");function H(ge,et,tt){const Oe="object"==typeof tt&&tt||{};Oe.name=Oe.name||"string"==typeof tt&&tt||"[DEFAULT]";const Ze=V.Z.apps.filter(ie=>ie&&ie.name===Oe.name)[0]||et.runOutsideAngular(()=>V.Z.initializeApp(ge,Oe));try{JSON.stringify(ge)!==JSON.stringify(Ze.options)&&G("error",`${Ze.name} Firebase App already initialized with different options${ht.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new pe(Ze)}const G=(ge,...et)=>{(0,h.X6Q)()&&typeof console<"u"&&console[ge](...et)},ee={provide:pe,useFactory:H,deps:[he,h.R0b,[new h.FiY,ve]]};let $e=(()=>{class ge{constructor(tt){V.Z.registerVersion("angularfire",R.q4.full,"core"),V.Z.registerVersion("angularfire",R.q4.full,"app-compat"),V.Z.registerVersion("angular",h.q4F.full,tt.toString())}static initializeApp(tt,Fe){return{ngModule:ge,providers:[{provide:he,useValue:tt},{provide:ve,useValue:Fe}]}}}return ge.\u0275fac=function(tt){return new(tt||ge)(h.LFG(h.Lbi))},ge.\u0275mod=h.oAB({type:ge}),ge.\u0275inj=h.cJS({providers:[ee]}),ge})();function ke(ge,et,tt,Fe,Oe){const[,be,Ze]=globalThis.\u0275AngularfireInstanceCache.find(ie=>ie[0]===ge)||[];if(be)return function De(ge,et){try{return ge.toString()===et.toString()}catch{return ge===et}}(Oe,Ze)||(we("error",`${et} was already initialized on the ${tt} Firebase App with different settings.${it?" You may need to reload as Firebase is not HMR aware.":""}`),we("warn",{is:Oe,was:Ze})),be;{const ie=Fe();return globalThis.\u0275AngularfireInstanceCache.push([ge,ie,Oe]),ie}}const it=!!ht.hot,we=(ge,...et)=>{(0,h.X6Q)()&&typeof console<"u"&&console[ge](...et)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(ht,Re,O)=>{O.d(Re,{q4:()=>$h,iC:()=>eu,HU:()=>Zt,vb:()=>ks,JM:()=>Qa,u3:()=>ms});var h=O(4650),V=O(5867),R=O(5861),se=O(9681),ae=O(2090),ye=O(4859),pe=O(1877),he=O(8766);const ve="@firebase/installations",H="0.5.12",ee=`w:${H}`,$e="FIS_v2",et=new ae.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function tt(b){return b instanceof ae.ZR&&b.code.includes("request-failed")}function Fe({projectId:b}){return`https://firebaseinstallations.googleapis.com/v1/projects/${b}/installations`}function Oe(b){return{token:b.token,requestStatus:2,expiresIn:te(b.expiresIn),creationTime:Date.now()}}function be(b,C){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,R.Z)(function*(b,C){const F=(yield C.json()).error;return et.create("request-failed",{requestName:b,serverCode:F.code,serverMessage:F.message,serverStatus:F.status})})).apply(this,arguments)}function ie({apiKey:b}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":b})}function ue(b,{refreshToken:C}){const x=ie(b);return x.append("Authorization",function fe(b){return`${$e} ${b}`}(C)),x}function _e(b){return X.apply(this,arguments)}function X(){return(X=(0,R.Z)(function*(b){const C=yield b();return C.status>=500&&C.status<600?b():C})).apply(this,arguments)}function te(b){return Number(b.replace("s","000"))}function oe(b,C){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,R.Z)(function*({appConfig:b,heartbeatServiceProvider:C},{fid:x}){const F=Fe(b),J=ie(b),le=C.getImmediate({optional:!0});if(le){const St=yield le.getHeartbeatsHeader();St&&J.append("x-firebase-client",St)}const Ye={method:"POST",headers:J,body:JSON.stringify({fid:x,authVersion:$e,appId:b.appId,sdkVersion:ee})},yt=yield _e(()=>fetch(F,Ye));if(yt.ok){const St=yield yt.json();return{fid:St.fid||x,registrationStatus:2,refreshToken:St.refreshToken,authToken:Oe(St.authToken)}}throw yield be("Create Installation",yt)})).apply(this,arguments)}function Ue(b){return new Promise(C=>{setTimeout(C,b)})}const en=/^[cdef][\w-]{21}$/;function Ke(){try{const b=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(b),b[0]=112+b[0]%16;const x=function yn(b){return function gt(b){return btoa(String.fromCharCode(...b)).replace(/\+/g,"-").replace(/\//g,"_")}(b).substr(0,22)}(b);return en.test(x)?x:""}catch{return""}}function kn(b){return`${b.appName}!${b.appId}`}const on=new Map;function tn(b,C){const x=kn(b);Tr(x,C),function Ys(b,C){const x=function Tn(){return!Ar&&"BroadcastChannel"in self&&(Ar=new BroadcastChannel("[Firebase] FID Change"),Ar.onmessage=b=>{Tr(b.data.key,b.data.fid)}),Ar}();x&&x.postMessage({key:b,fid:C}),function Ri(){0===on.size&&Ar&&(Ar.close(),Ar=null)}()}(x,C)}function Tr(b,C){const x=on.get(b);if(x)for(const F of x)F(C)}let Ar=null;const Bn="firebase-installations-store";let ns=null;function ft(){return ns||(ns=(0,he.X3)("firebase-installations-database",1,{upgrade:(b,C)=>{0===C&&b.createObjectStore(Bn)}})),ns}function _n(b,C){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,R.Z)(function*(b,C){const x=kn(b),J=(yield ft()).transaction(Bn,"readwrite"),le=J.objectStore(Bn),Ne=yield le.get(x);return yield le.put(C,x),yield J.done,(!Ne||Ne.fid!==C.fid)&&tn(b,C.fid),C})).apply(this,arguments)}function nn(b){return rr.apply(this,arguments)}function rr(){return(rr=(0,R.Z)(function*(b){const C=kn(b),F=(yield ft()).transaction(Bn,"readwrite");yield F.objectStore(Bn).delete(C),yield F.done})).apply(this,arguments)}function Pr(b,C){return dr.apply(this,arguments)}function dr(){return(dr=(0,R.Z)(function*(b,C){const x=kn(b),J=(yield ft()).transaction(Bn,"readwrite"),le=J.objectStore(Bn),Ne=yield le.get(x),Ye=C(Ne);return void 0===Ye?yield le.delete(x):yield le.put(Ye,x),yield J.done,Ye&&(!Ne||Ne.fid!==Ye.fid)&&tn(b,Ye.fid),Ye})).apply(this,arguments)}function pn(b){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,R.Z)(function*(b){let C;const x=yield Pr(b.appConfig,F=>{const J=En(F),le=st(b,J);return C=le.registrationPromise,le.installationEntry});return""===x.fid?{installationEntry:yield C}:{installationEntry:x,registrationPromise:C}})).apply(this,arguments)}function En(b){return Pn(b||{fid:Ke(),registrationStatus:0})}function st(b,C){if(0===C.registrationStatus){if(!navigator.onLine)return{installationEntry:C,registrationPromise:Promise.reject(et.create("app-offline"))};const x={fid:C.fid,registrationStatus:1,registrationTime:Date.now()},F=function rt(b,C){return An.apply(this,arguments)}(b,x);return{installationEntry:x,registrationPromise:F}}return 1===C.registrationStatus?{installationEntry:C,registrationPromise:Or(b)}:{installationEntry:C}}function An(){return(An=(0,R.Z)(function*(b,C){try{const x=yield oe(b,C);return _n(b.appConfig,x)}catch(x){throw tt(x)&&409===x.customData.serverCode?yield nn(b.appConfig):yield _n(b.appConfig,{fid:C.fid,registrationStatus:0}),x}})).apply(this,arguments)}function Or(b){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,R.Z)(function*(b){let C=yield $t(b.appConfig);for(;1===C.registrationStatus;)yield Ue(100),C=yield $t(b.appConfig);if(0===C.registrationStatus){const{installationEntry:x,registrationPromise:F}=yield pn(b);return F||x}return C})).apply(this,arguments)}function $t(b){return Pr(b,C=>{if(!C)throw et.create("installation-not-found");return Pn(C)})}function Pn(b){return function kr(b){return 1===b.registrationStatus&&b.registrationTime+1e4<Date.now()}(b)?{fid:b.fid,registrationStatus:0}:b}function Pt(b,C){return ui.apply(this,arguments)}function ui(){return(ui=(0,R.Z)(function*({appConfig:b,heartbeatServiceProvider:C},x){const F=Rt(b,x),J=ue(b,x),le=C.getImmediate({optional:!0});if(le){const St=yield le.getHeartbeatsHeader();St&&J.append("x-firebase-client",St)}const Ye={method:"POST",headers:J,body:JSON.stringify({installation:{sdkVersion:ee,appId:b.appId}})},yt=yield _e(()=>fetch(F,Ye));if(yt.ok)return Oe(yield yt.json());throw yield be("Generate Auth Token",yt)})).apply(this,arguments)}function Rt(b,{fid:C}){return`${Fe(b)}/${C}/authTokens:generate`}function Q(b){return $.apply(this,arguments)}function $(){return($=(0,R.Z)(function*(b,C=!1){let x;const F=yield Pr(b.appConfig,le=>{if(!Dt(le))throw et.create("not-registered");const Ne=le.authToken;if(!C&&an(Ne))return le;if(1===Ne.requestStatus)return x=U(b,C),le;{if(!navigator.onLine)throw et.create("app-offline");const Ye=Wn(le);return x=Ae(b,Ye),Ye}});return x?yield x:F.authToken})).apply(this,arguments)}function U(b,C){return W.apply(this,arguments)}function W(){return(W=(0,R.Z)(function*(b,C){let x=yield Z(b.appConfig);for(;1===x.authToken.requestStatus;)yield Ue(100),x=yield Z(b.appConfig);const F=x.authToken;return 0===F.requestStatus?Q(b,C):F})).apply(this,arguments)}function Z(b){return Pr(b,C=>{if(!Dt(C))throw et.create("not-registered");return function Y(b){return 1===b.requestStatus&&b.requestTime+1e4<Date.now()}(C.authToken)?Object.assign(Object.assign({},C),{authToken:{requestStatus:0}}):C})}function Ae(b,C){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,R.Z)(function*(b,C){try{const x=yield Pt(b,C),F=Object.assign(Object.assign({},C),{authToken:x});return yield _n(b.appConfig,F),x}catch(x){if(!tt(x)||401!==x.customData.serverCode&&404!==x.customData.serverCode){const F=Object.assign(Object.assign({},C),{authToken:{requestStatus:0}});yield _n(b.appConfig,F)}else yield nn(b.appConfig);throw x}})).apply(this,arguments)}function Dt(b){return void 0!==b&&2===b.registrationStatus}function an(b){return 2===b.requestStatus&&!function un(b){const C=Date.now();return C<b.creationTime||b.creationTime+b.expiresIn<C+36e5}(b)}function Wn(b){const C={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},b),{authToken:C})}function j(){return(j=(0,R.Z)(function*(b){const C=b,{installationEntry:x,registrationPromise:F}=yield pn(C);return F?F.catch(console.error):Q(C).catch(console.error),x.fid})).apply(this,arguments)}function He(){return(He=(0,R.Z)(function*(b,C=!1){const x=b;return yield Se(x),(yield Q(x,C)).token})).apply(this,arguments)}function Se(b){return qe.apply(this,arguments)}function qe(){return(qe=(0,R.Z)(function*(b){const{registrationPromise:C}=yield pn(b);C&&(yield C)})).apply(this,arguments)}function Ut(b){return et.create("missing-app-config-values",{valueName:b})}const Aa="installations",Ro=b=>{const C=b.getProvider("app").getImmediate(),x=function rs(b){if(!b||!b.options)throw Ut("App Configuration");if(!b.name)throw Ut("App Name");const C=["projectId","apiKey","appId"];for(const x of C)if(!b.options[x])throw Ut(x);return{appName:b.name,projectId:b.options.projectId,apiKey:b.options.apiKey,appId:b.options.appId}}(C);return{app:C,appConfig:x,heartbeatServiceProvider:(0,se._getProvider)(C,"heartbeat"),_delete:()=>Promise.resolve()}},Js=b=>{const C=b.getProvider("app").getImmediate(),x=(0,se._getProvider)(C,Aa).getImmediate();return{getId:()=>function z(b){return j.apply(this,arguments)}(x),getToken:J=>function Ee(b){return He.apply(this,arguments)}(x,J)}};(function hr(){(0,se._registerComponent)(new ye.wA(Aa,Ro,"PUBLIC")),(0,se._registerComponent)(new ye.wA("installations-internal",Js,"PRIVATE"))})(),(0,se.registerVersion)(ve,H),(0,se.registerVersion)(ve,H,"esm2017");const Xs="@firebase/remote-config",Wt=new ae.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class jc{constructor(C,x,F,J){this.client=C,this.storage=x,this.storageCache=F,this.logger=J}isCachedDataFresh(C,x){if(!x)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const F=Date.now()-x,J=F<=C;return this.logger.debug(`Config fetch cache check. Cache age millis: ${F}. Cache max age millis (minimumFetchIntervalMillis setting): ${C}. Is cache hit: ${J}.`),J}fetch(C){var x=this;return(0,R.Z)(function*(){const[F,J]=yield Promise.all([x.storage.getLastSuccessfulFetchTimestampMillis(),x.storage.getLastSuccessfulFetchResponse()]);if(J&&x.isCachedDataFresh(C.cacheMaxAgeMillis,F))return J;C.eTag=J&&J.eTag;const le=yield x.client.fetch(C),Ne=[x.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===le.status&&Ne.push(x.storage.setLastSuccessfulFetchResponse(le)),yield Promise.all(Ne),le})()}}function yu(b=navigator){return b.languages&&b.languages[0]||b.language}class no{constructor(C,x,F,J,le,Ne){this.firebaseInstallations=C,this.sdkVersion=x,this.namespace=F,this.projectId=J,this.apiKey=le,this.appId=Ne}fetch(C){var x=this;return(0,R.Z)(function*(){var F,J,le;const[Ne,Ye]=yield Promise.all([x.firebaseInstallations.getId(),x.firebaseInstallations.getToken()]),St=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${x.projectId}/namespaces/${x.namespace}:fetch?key=${x.apiKey}`,Mt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":C.eTag||"*"},wt={sdk_version:x.sdkVersion,app_instance_id:Ne,app_instance_id_token:Ye,app_id:x.appId,language_code:yu()},_r={method:"POST",headers:Mt,body:JSON.stringify(wt)},Br=fetch(St,_r),Hi=new Promise((Ls,vo)=>{C.signal.addEventListener(()=>{const nd=new Error("The operation was aborted.");nd.name="AbortError",vo(nd)})});let ys;try{yield Promise.race([Br,Hi]),ys=yield Br}catch(Ls){let vo="fetch-client-network";throw"AbortError"===(null===(F=Ls)||void 0===F?void 0:F.name)&&(vo="fetch-timeout"),Wt.create(vo,{originalErrorMessage:null===(J=Ls)||void 0===J?void 0:J.message})}let _s=ys.status;const tu=ys.headers.get("ETag")||void 0;let Ou,bi;if(200===ys.status){let Ls;try{Ls=yield ys.json()}catch(vo){throw Wt.create("fetch-client-parse",{originalErrorMessage:null===(le=vo)||void 0===le?void 0:le.message})}Ou=Ls.entries,bi=Ls.state}if("INSTANCE_STATE_UNSPECIFIED"===bi?_s=500:"NO_CHANGE"===bi?_s=304:("NO_TEMPLATE"===bi||"EMPTY_CONFIG"===bi)&&(Ou={}),304!==_s&&200!==_s)throw Wt.create("fetch-status",{httpStatus:_s});return{status:_s,eTag:tu,config:Ou}})()}}class ss{constructor(C,x){this.client=C,this.storage=x}fetch(C){var x=this;return(0,R.Z)(function*(){const F=(yield x.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return x.attemptFetch(C,F)})()}attemptFetch(C,{throttleEndTimeMillis:x,backoffCount:F}){var J=this;return(0,R.Z)(function*(){yield function li(b,C){return new Promise((x,F)=>{const J=Math.max(C-Date.now(),0),le=setTimeout(x,J);b.addEventListener(()=>{clearTimeout(le),F(Wt.create("fetch-throttle",{throttleEndTimeMillis:C}))})})}(C.signal,x);try{const le=yield J.client.fetch(C);return yield J.storage.deleteThrottleMetadata(),le}catch(le){if(!function wp(b){if(!(b instanceof ae.ZR&&b.customData))return!1;const C=Number(b.customData.httpStatus);return 429===C||500===C||503===C||504===C}(le))throw le;const Ne={throttleEndTimeMillis:Date.now()+(0,ae.$s)(F),backoffCount:F+1};return yield J.storage.setThrottleMetadata(Ne),J.attemptFetch(C,Ne)}})()}}class Ip{constructor(C,x,F,J,le){this.app=C,this._client=x,this._storageCache=F,this._storage=J,this._logger=le,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ma(b,C){var x;const F=b.target.error||void 0;return Wt.create(C,{originalErrorMessage:F&&(null===(x=F)||void 0===x?void 0:x.message)})}const Oo="app_namespace_store";class _u{constructor(C,x,F,J=function bp(){return new Promise((b,C)=>{var x;try{const F=indexedDB.open("firebase_remote_config",1);F.onerror=J=>{C(Ma(J,"storage-open"))},F.onsuccess=J=>{b(J.target.result)},F.onupgradeneeded=J=>{0===J.oldVersion&&J.target.result.createObjectStore(Oo,{keyPath:"compositeKey"})}}catch(F){C(Wt.create("storage-open",{originalErrorMessage:null===(x=F)||void 0===x?void 0:x.message}))}})}()){this.appId=C,this.appName=x,this.namespace=F,this.openDbPromise=J}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(C){return this.set("last_fetch_status",C)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(C){return this.set("last_successful_fetch_timestamp_millis",C)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(C){return this.set("last_successful_fetch_response",C)}getActiveConfig(){return this.get("active_config")}setActiveConfig(C){return this.set("active_config",C)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(C){return this.set("active_config_etag",C)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(C){return this.set("throttle_metadata",C)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(C){var x=this;return(0,R.Z)(function*(){const F=yield x.openDbPromise;return new Promise((J,le)=>{var Ne;const yt=F.transaction([Oo],"readonly").objectStore(Oo),St=x.createCompositeKey(C);try{const Mt=yt.get(St);Mt.onerror=wt=>{le(Ma(wt,"storage-get"))},Mt.onsuccess=wt=>{const _r=wt.target.result;J(_r?_r.value:void 0)}}catch(Mt){le(Wt.create("storage-get",{originalErrorMessage:null===(Ne=Mt)||void 0===Ne?void 0:Ne.message}))}})})()}set(C,x){var F=this;return(0,R.Z)(function*(){const J=yield F.openDbPromise;return new Promise((le,Ne)=>{var Ye;const St=J.transaction([Oo],"readwrite").objectStore(Oo),Mt=F.createCompositeKey(C);try{const wt=St.put({compositeKey:Mt,value:x});wt.onerror=_r=>{Ne(Ma(_r,"storage-set"))},wt.onsuccess=()=>{le()}}catch(wt){Ne(Wt.create("storage-set",{originalErrorMessage:null===(Ye=wt)||void 0===Ye?void 0:Ye.message}))}})})()}delete(C){var x=this;return(0,R.Z)(function*(){const F=yield x.openDbPromise;return new Promise((J,le)=>{var Ne;const yt=F.transaction([Oo],"readwrite").objectStore(Oo),St=x.createCompositeKey(C);try{const Mt=yt.delete(St);Mt.onerror=wt=>{le(Ma(wt,"storage-delete"))},Mt.onsuccess=()=>{J()}}catch(Mt){le(Wt.create("storage-delete",{originalErrorMessage:null===(Ne=Mt)||void 0===Ne?void 0:Ne.message}))}})})()}createCompositeKey(C){return[this.appId,this.appName,this.namespace,C].join()}}class os{constructor(C){this.storage=C}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var C=this;return(0,R.Z)(function*(){const x=C.storage.getLastFetchStatus(),F=C.storage.getLastSuccessfulFetchTimestampMillis(),J=C.storage.getActiveConfig(),le=yield x;le&&(C.lastFetchStatus=le);const Ne=yield F;Ne&&(C.lastSuccessfulFetchTimestampMillis=Ne);const Ye=yield J;Ye&&(C.activeConfig=Ye)})()}setLastFetchStatus(C){return this.lastFetchStatus=C,this.storage.setLastFetchStatus(C)}setLastSuccessfulFetchTimestampMillis(C){return this.lastSuccessfulFetchTimestampMillis=C,this.storage.setLastSuccessfulFetchTimestampMillis(C)}setActiveConfig(C){return this.activeConfig=C,this.storage.setActiveConfig(C)}}function Fo(){return xa.apply(this,arguments)}function xa(){return(xa=(0,R.Z)(function*(){if(!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch{return!1}})).apply(this,arguments)}!function Cp(){(0,se._registerComponent)(new ye.wA("remote-config",function b(C,{instanceIdentifier:x}){const F=C.getProvider("app").getImmediate(),J=C.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Wt.create("registration-window");if(!(0,ae.hl)())throw Wt.create("indexed-db-unavailable");const{projectId:le,apiKey:Ne,appId:Ye}=F.options;if(!le)throw Wt.create("registration-project-id");if(!Ne)throw Wt.create("registration-api-key");if(!Ye)throw Wt.create("registration-app-id");const yt=new _u(Ye,F.name,x=x||"firebase"),St=new os(yt),Mt=new pe.Yd(Xs);Mt.logLevel=pe.in.ERROR;const wt=new no(J,se.SDK_VERSION,x,le,Ne,Ye),_r=new ss(wt,yt),Br=new jc(_r,yt,St,Mt),Hi=new Ip(F,Br,St,yt,Mt);return function wr(b){const C=(0,ae.m9)(b);C._initializePromise||(C._initializePromise=C._storageCache.loadFromStorage().then(()=>{C._isInitializationComplete=!0}))}(Hi),Hi},"PUBLIC").setMultipleInstances(!0)),(0,se.registerVersion)(Xs,"0.3.11"),(0,se.registerVersion)(Xs,"0.3.11","esm2017")}();const ci="/firebase-messaging-sw.js",ro="/firebase-cloud-messaging-push-scope",Lo="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Na="google.c.a.c_id",vu="google.c.a.c_l",Th="google.c.a.ts",io="google.c.a.e";var Ln=(()=>{return(b=Ln||(Ln={})).PUSH_RECEIVED="push-received",b.NOTIFICATION_CLICKED="notification-clicked",Ln;var b})();function yi(b){const C=new Uint8Array(b);return btoa(String.fromCharCode(...C)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Gc(b){const x=(b+"=".repeat((4-b.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),F=atob(x),J=new Uint8Array(F.length);for(let le=0;le<F.length;++le)J[le]=F.charCodeAt(le);return J}const so="fcm_token_details_db",_l="fcm_token_object_Store";function Kn(b){return wu.apply(this,arguments)}function wu(){return wu=(0,R.Z)(function*(b){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(le=>le.name).includes(so))return null;let C=null;return(yield(0,he.X3)(so,5,{upgrade:(F=(0,R.Z)(function*(J,le,Ne,Ye){var yt;if(le<2||!J.objectStoreNames.contains(_l))return;const St=Ye.objectStore(_l),Mt=yield St.index("fcmSenderId").get(b);if(yield St.clear(),Mt)if(2===le){const wt=Mt;if(!wt.auth||!wt.p256dh||!wt.endpoint)return;C={token:wt.fcmToken,createTime:null!==(yt=wt.createTime)&&void 0!==yt?yt:Date.now(),subscriptionOptions:{auth:wt.auth,p256dh:wt.p256dh,endpoint:wt.endpoint,swScope:wt.swScope,vapidKey:"string"==typeof wt.vapidKey?wt.vapidKey:yi(wt.vapidKey)}}}else if(3===le){const wt=Mt;C={token:wt.fcmToken,createTime:wt.createTime,subscriptionOptions:{auth:yi(wt.auth),p256dh:yi(wt.p256dh),endpoint:wt.endpoint,swScope:wt.swScope,vapidKey:yi(wt.vapidKey)}}}else if(4===le){const wt=Mt;C={token:wt.fcmToken,createTime:wt.createTime,subscriptionOptions:{auth:yi(wt.auth),p256dh:yi(wt.p256dh),endpoint:wt.endpoint,swScope:wt.swScope,vapidKey:yi(wt.vapidKey)}}}}),function(le,Ne,Ye,yt){return F.apply(this,arguments)})})).close(),yield(0,he.Lj)(so),yield(0,he.Lj)("fcm_vapid_details_db"),yield(0,he.Lj)("undefined"),zc(C)?C:null;var F}),wu.apply(this,arguments)}function zc(b){if(!b||!b.subscriptionOptions)return!1;const{subscriptionOptions:C}=b;return"number"==typeof b.createTime&&b.createTime>0&&"string"==typeof b.token&&b.token.length>0&&"string"==typeof C.auth&&C.auth.length>0&&"string"==typeof C.p256dh&&C.p256dh.length>0&&"string"==typeof C.endpoint&&C.endpoint.length>0&&"string"==typeof C.swScope&&C.swScope.length>0&&"string"==typeof C.vapidKey&&C.vapidKey.length>0}const xs="firebase-messaging-store";let oo=null;function as(){return oo||(oo=(0,he.X3)("firebase-messaging-database",1,{upgrade:(b,C)=>{0===C&&b.createObjectStore(xs)}})),oo}function fr(b){return ao.apply(this,arguments)}function ao(){return(ao=(0,R.Z)(function*(b){const C=uo(b),F=yield(yield as()).transaction(xs).objectStore(xs).get(C);if(F)return F;{const J=yield Kn(b.appConfig.senderId);if(J)return yield ki(b,J),J}})).apply(this,arguments)}function ki(b,C){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,R.Z)(function*(b,C){const x=uo(b),J=(yield as()).transaction(xs,"readwrite");return yield J.objectStore(xs).put(C,x),yield J.done,C})).apply(this,arguments)}function Fi(b){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,R.Z)(function*(b){const C=uo(b),F=(yield as()).transaction(xs,"readwrite");yield F.objectStore(xs).delete(C),yield F.done})).apply(this,arguments)}function uo({appConfig:b}){return b.appId}const jn=new ae.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Ah(b,C){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,R.Z)(function*(b,C){var x;const F=yield Me(b),J=Bo(C),le={method:"POST",headers:F,body:JSON.stringify(J)};let Ne;try{Ne=yield(yield fetch(Eu(b.appConfig),le)).json()}catch(Ye){throw jn.create("token-subscribe-failed",{errorInfo:null===(x=Ye)||void 0===x?void 0:x.toString()})}if(Ne.error)throw jn.create("token-subscribe-failed",{errorInfo:Ne.error.message});if(!Ne.token)throw jn.create("token-subscribe-no-token");return Ne.token})).apply(this,arguments)}function Wc(b,C){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,R.Z)(function*(b,C){var x;const F=yield Me(b),J=Bo(C.subscriptionOptions),le={method:"PATCH",headers:F,body:JSON.stringify(J)};let Ne;try{Ne=yield(yield fetch(`${Eu(b.appConfig)}/${C.token}`,le)).json()}catch(Ye){throw jn.create("token-update-failed",{errorInfo:null===(x=Ye)||void 0===x?void 0:x.toString()})}if(Ne.error)throw jn.create("token-update-failed",{errorInfo:Ne.error.message});if(!Ne.token)throw jn.create("token-update-no-token");return Ne.token})).apply(this,arguments)}function Vo(b,C){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,R.Z)(function*(b,C){var x;const J={method:"DELETE",headers:yield Me(b)};try{const Ne=yield(yield fetch(`${Eu(b.appConfig)}/${C}`,J)).json();if(Ne.error)throw jn.create("token-unsubscribe-failed",{errorInfo:Ne.error.message})}catch(le){throw jn.create("token-unsubscribe-failed",{errorInfo:null===(x=le)||void 0===x?void 0:x.toString()})}})).apply(this,arguments)}function Eu({projectId:b}){return`https://fcmregistrations.googleapis.com/v1/projects/${b}/registrations`}function Me(b){return qt.apply(this,arguments)}function qt(){return(qt=(0,R.Z)(function*({appConfig:b,installations:C}){const x=yield C.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":b.apiKey,"x-goog-firebase-installations-auth":`FIS ${x}`})})).apply(this,arguments)}function Bo({p256dh:b,auth:C,endpoint:x,vapidKey:F}){const J={web:{endpoint:x,auth:C,p256dh:b}};return F!==Lo&&(J.web.applicationPubKey=F),J}const jo=6048e5;function $n(b){return lo.apply(this,arguments)}function lo(){return(lo=(0,R.Z)(function*(b){const C=yield ry(b.swRegistration,b.vapidKey),x={vapidKey:b.vapidKey,swScope:b.swRegistration.scope,endpoint:C.endpoint,auth:yi(C.getKey("auth")),p256dh:yi(C.getKey("p256dh"))},F=yield fr(b.firebaseDependencies);if(F){if(pr(F.subscriptionOptions,x))return Date.now()>=F.createTime+jo?vl(b,{token:F.token,createTime:Date.now(),subscriptionOptions:x}):F.token;try{yield Vo(b.firebaseDependencies,F.token)}catch(J){console.warn(J)}return Oa(b.firebaseDependencies,x)}return Oa(b.firebaseDependencies,x)})).apply(this,arguments)}function $o(b){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,R.Z)(function*(b){const C=yield fr(b.firebaseDependencies);C&&(yield Vo(b.firebaseDependencies,C.token),yield Fi(b.firebaseDependencies));const x=yield b.swRegistration.pushManager.getSubscription();return!x||x.unsubscribe()})).apply(this,arguments)}function vl(b,C){return co.apply(this,arguments)}function co(){return(co=(0,R.Z)(function*(b,C){try{const x=yield Wc(b.firebaseDependencies,C),F=Object.assign(Object.assign({},C),{token:x,createTime:Date.now()});return yield ki(b.firebaseDependencies,F),x}catch(x){throw yield $o(b),x}})).apply(this,arguments)}function Oa(b,C){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,R.Z)(function*(b,C){const F={token:yield Ah(b,C),createTime:Date.now(),subscriptionOptions:C};return yield ki(b,F),F.token})).apply(this,arguments)}function ry(b,C){return vi.apply(this,arguments)}function vi(){return(vi=(0,R.Z)(function*(b,C){return(yield b.pushManager.getSubscription())||b.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Gc(C)})})).apply(this,arguments)}function pr(b,C){return C.vapidKey===b.vapidKey&&C.endpoint===b.endpoint&&C.auth===b.auth&&C.p256dh===b.p256dh}function di(b){const C={from:b.from,collapseKey:b.collapse_key,messageId:b.fcmMessageId};return function wl(b,C){if(!C.notification)return;b.notification={};const x=C.notification.title;x&&(b.notification.title=x);const F=C.notification.body;F&&(b.notification.body=F);const J=C.notification.image;J&&(b.notification.image=J)}(C,b),function ho(b,C){!C.data||(b.data=C.data)}(C,b),function wi(b,C){var x,F,J,le,Ne;if(!(C.fcmOptions||null!==(x=C.notification)&&void 0!==x&&x.click_action))return;b.fcmOptions={};const Ye=null!==(J=null===(F=C.fcmOptions)||void 0===F?void 0:F.link)&&void 0!==J?J:null===(le=C.notification)||void 0===le?void 0:le.click_action;Ye&&(b.fcmOptions.link=Ye);const yt=null===(Ne=C.fcmOptions)||void 0===Ne?void 0:Ne.analytics_label;yt&&(b.fcmOptions.analyticsLabel=yt)}(C,b),C}function Sh(b){return"object"==typeof b&&!!b&&Na in b}function El(b,C){const x=[];for(let F=0;F<b.length;F++)x.push(b.charAt(F)),F<C.length&&x.push(C.charAt(F));return x.join("")}function Il(b){return jn.create("missing-app-config-values",{valueName:b})}El("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),El("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ka{constructor(C,x,F){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const J=function Iu(b){if(!b||!b.options)throw Il("App Configuration Object");if(!b.name)throw Il("App Name");const C=["projectId","apiKey","appId","messagingSenderId"],{options:x}=b;for(const F of C)if(!x[F])throw Il(F);return{appName:b.name,projectId:x.projectId,apiKey:x.apiKey,appId:x.appId,senderId:x.messagingSenderId}}(C);this.firebaseDependencies={app:C,appConfig:J,installations:x,analyticsProvider:F}}_delete(){return Promise.resolve()}}function Fa(b){return Go.apply(this,arguments)}function Go(){return(Go=(0,R.Z)(function*(b){var C;try{b.swRegistration=yield navigator.serviceWorker.register(ci,{scope:ro}),b.swRegistration.update().catch(()=>{})}catch(x){throw jn.create("failed-service-worker-registration",{browserErrorMessage:null===(C=x)||void 0===C?void 0:C.message})}})).apply(this,arguments)}function Dl(b,C){return La.apply(this,arguments)}function La(){return(La=(0,R.Z)(function*(b,C){if(!C&&!b.swRegistration&&(yield Fa(b)),C||!b.swRegistration){if(!(C instanceof ServiceWorkerRegistration))throw jn.create("invalid-sw-registration");b.swRegistration=C}})).apply(this,arguments)}function Du(b,C){return zo.apply(this,arguments)}function zo(){return(zo=(0,R.Z)(function*(b,C){C?b.vapidKey=C:b.vapidKey||(b.vapidKey=Lo)})).apply(this,arguments)}function Wo(){return(Wo=(0,R.Z)(function*(b,C){if(!navigator)throw jn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw jn.create("permission-blocked");return yield Du(b,C?.vapidKey),yield Dl(b,C?.serviceWorkerRegistration),$n(b)})).apply(this,arguments)}function Zc(b,C,x){return qo.apply(this,arguments)}function qo(){return(qo=(0,R.Z)(function*(b,C,x){const F=bu(C);(yield b.firebaseDependencies.analyticsProvider.get()).logEvent(F,{message_id:x[Na],message_name:x[vu],message_time:x[Th],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function bu(b){switch(b){case Ln.NOTIFICATION_CLICKED:return"notification_open";case Ln.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Va(){return(Va=(0,R.Z)(function*(b,C){const x=C.data;if(!x.isFirebaseMessaging)return;b.onMessageHandler&&x.messageType===Ln.PUSH_RECEIVED&&("function"==typeof b.onMessageHandler?b.onMessageHandler(di(x)):b.onMessageHandler.next(di(x)));const F=x.data;Sh(F)&&"1"===F[io]&&(yield Zc(b,x.messageType,F))})).apply(this,arguments)}const Yn="@firebase/messaging",mn=b=>{const C=new ka(b.getProvider("app").getImmediate(),b.getProvider("installations-internal").getImmediate(),b.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",x=>function Mh(b,C){return Va.apply(this,arguments)}(C,x)),C},xh=b=>{const C=b.getProvider("messaging").getImmediate();return{getToken:F=>function qc(b,C){return Wo.apply(this,arguments)}(C,F)}};function Rh(){return bl.apply(this,arguments)}function bl(){return(bl=(0,R.Z)(function*(){try{yield(0,ae.eu)()}catch{return!1}return typeof window<"u"&&(0,ae.hl)()&&(0,ae.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Nh(){(0,se._registerComponent)(new ye.wA("messaging",mn,"PUBLIC")),(0,se._registerComponent)(new ye.wA("messaging-internal",xh,"PRIVATE")),(0,se.registerVersion)(Yn,"0.9.16"),(0,se.registerVersion)(Yn,"0.9.16","esm2017")}();const Ei="analytics",Zo="firebase_id",Yo="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Al="https://www.googletagmanager.com/gtag/js",gr=new pe.Yd("@firebase/analytics");function kh(b){return Promise.all(b.map(C=>C.catch(x=>x)))}function sy(b,C){const x=document.createElement("script");x.src=`${Al}?l=${b}&id=${C}`,x.async=!0,document.head.appendChild(x)}function Ba(b,C,x,F,J,le){return Sl.apply(this,arguments)}function Sl(){return(Sl=(0,R.Z)(function*(b,C,x,F,J,le){const Ne=F[J];try{if(Ne)yield C[Ne];else{const yt=(yield kh(x)).find(St=>St.measurementId===J);yt&&(yield C[yt.appId])}}catch(Ye){gr.error(Ye)}b("config",J,le)})).apply(this,arguments)}function ja(b,C,x,F,J){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,R.Z)(function*(b,C,x,F,J){try{let le=[];if(J&&J.send_to){let Ne=J.send_to;Array.isArray(Ne)||(Ne=[Ne]);const Ye=yield kh(x);for(const yt of Ne){const St=Ye.find(wt=>wt.measurementId===yt),Mt=St&&C[St.appId];if(!Mt){le=[];break}le.push(Mt)}}0===le.length&&(le=Object.values(C)),yield Promise.all(le),b("event",F,J||{})}catch(le){gr.error(le)}})).apply(this,arguments)}function $a(){const b=window.document.getElementsByTagName("script");for(const C of Object.values(b))if(C.src&&C.src.includes(Al))return C;return null}const ir=new ae.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Yc=new class Ap{constructor(C={},x=1e3){this.throttleMetadata=C,this.intervalMillis=x}getThrottleMetadata(C){return this.throttleMetadata[C]}setThrottleMetadata(C,x){this.throttleMetadata[C]=x}deleteThrottleMetadata(C){delete this.throttleMetadata[C]}};function cn(b){return new Headers({Accept:"application/json","x-goog-api-key":b})}function Jo(b){return ze.apply(this,arguments)}function ze(){return(ze=(0,R.Z)(function*(b){var C;const{appId:x,apiKey:F}=b,J={method:"GET",headers:cn(F)},le=Yo.replace("{app-id}",x),Ne=yield fetch(le,J);if(200!==Ne.status&&304!==Ne.status){let Ye="";try{const yt=yield Ne.json();null!==(C=yt.error)&&void 0!==C&&C.message&&(Ye=yt.error.message)}catch{}throw ir.create("config-fetch-failed",{httpStatus:Ne.status,responseMessage:Ye})}return Ne.json()})).apply(this,arguments)}function us(b){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,R.Z)(function*(b,C=Yc,x){const{appId:F,apiKey:J,measurementId:le}=b.options;if(!F)throw ir.create("no-app-id");if(!J){if(le)return{measurementId:le,appId:F};throw ir.create("no-api-key")}const Ne=C.getThrottleMetadata(F)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ye=new Qc;return setTimeout((0,R.Z)(function*(){Ye.abort()}),void 0!==x?x:6e4),Tu({appId:F,apiKey:J,measurementId:le},Ne,Ye,C)})).apply(this,arguments)}function Tu(b,C,x){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,R.Z)(function*(b,{throttleEndTimeMillis:C,backoffCount:x},F,J=Yc){var le,Ne;const{appId:Ye,measurementId:yt}=b;try{yield ei(F,C)}catch(St){if(yt)return gr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${yt} provided in the "measurementId" field in the local Firebase config. [${null===(le=St)||void 0===le?void 0:le.message}]`),{appId:Ye,measurementId:yt};throw St}try{const St=yield Jo(b);return J.deleteThrottleMetadata(Ye),St}catch(St){const Mt=St;if(!Au(Mt)){if(J.deleteThrottleMetadata(Ye),yt)return gr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${yt} provided in the "measurementId" field in the local Firebase config. [${Mt?.message}]`),{appId:Ye,measurementId:yt};throw St}const wt=503===Number(null===(Ne=Mt?.customData)||void 0===Ne?void 0:Ne.httpStatus)?(0,ae.$s)(x,J.intervalMillis,30):(0,ae.$s)(x,J.intervalMillis),_r={throttleEndTimeMillis:Date.now()+wt,backoffCount:x+1};return J.setThrottleMetadata(Ye,_r),gr.debug(`Calling attemptFetch again in ${wt} millis`),Tu(b,_r,F,J)}})).apply(this,arguments)}function ei(b,C){return new Promise((x,F)=>{const J=Math.max(C-Date.now(),0),le=setTimeout(x,J);b.addEventListener(()=>{clearTimeout(le),F(ir.create("fetch-throttle",{throttleEndTimeMillis:C}))})})}function Au(b){if(!(b instanceof ae.ZR&&b.customData))return!1;const C=Number(b.customData.httpStatus);return 429===C||500===C||503===C||504===C}class Qc{constructor(){this.listeners=[]}addEventListener(C){this.listeners.push(C)}abort(){this.listeners.forEach(C=>C())}}let Su,Mu;function Xo(){return(Xo=(0,R.Z)(function*(b,C,x,F,J){if(J&&J.global)b("event",x,F);else{const le=yield C;b("event",x,Object.assign(Object.assign({},F),{send_to:le}))}})).apply(this,arguments)}function xu(b){Mu=b}function Nu(b){Su=b}function Bh(){return cs.apply(this,arguments)}function cs(){return(cs=(0,R.Z)(function*(){var b;if(!(0,ae.hl)())return gr.warn(ir.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ae.eu)()}catch(C){return gr.warn(ir.create("indexeddb-unavailable",{errorInfo:null===(b=C)||void 0===b?void 0:b.toString()}).message),!1}return!0})).apply(this,arguments)}function Bi(){return(Bi=(0,R.Z)(function*(b,C,x,F,J,le,Ne){var Ye;const yt=us(b);yt.then(Br=>{x[Br.measurementId]=Br.appId,b.options.measurementId&&Br.measurementId!==b.options.measurementId&&gr.warn(`The measurement ID in the local Firebase config (${b.options.measurementId}) does not match the measurement ID fetched from the server (${Br.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Br=>gr.error(Br)),C.push(yt);const St=Bh().then(Br=>{if(Br)return F.getId()}),[Mt,wt]=yield Promise.all([yt,St]);$a()||sy(le,Mt.measurementId),Mu&&(J("consent","default",Mu),xu(void 0)),J("js",new Date);const _r=null!==(Ye=Ne?.config)&&void 0!==Ye?Ye:{};return _r.origin="firebase",_r.update=!0,null!=wt&&(_r[Zo]=wt),J("config",Mt.measurementId,_r),Su&&(J("set",Su),Nu(void 0)),Mt.measurementId})).apply(this,arguments)}class ds{constructor(C){this.app=C}_delete(){return delete mr[this.app.options.appId],Promise.resolve()}}let mr={},Nl=[];const go={};let Rl,vt,Lr="dataLayer",Ru=!1;function ta(b,C,x){!function yr(){const b=[];if((0,ae.ru)()&&b.push("This is a browser extension environment."),(0,ae.zI)()||b.push("Cookies are not available."),b.length>0){const C=b.map((F,J)=>`(${J+1}) ${F}`).join(" "),x=ir.create("invalid-analytics-context",{errorInfo:C});gr.warn(x.message)}}();const F=b.options.appId;if(!F)throw ir.create("no-app-id");if(!b.options.apiKey){if(!b.options.measurementId)throw ir.create("no-api-key");gr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${b.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=mr[F])throw ir.create("already-exists",{id:F});if(!Ru){!function Fh(b){let C=[];Array.isArray(window[b])?C=window[b]:window[b]=C}(Lr);const{wrappedGtag:le,gtagCore:Ne}=function Vh(b,C,x,F,J){let le=function(...Ne){window[F].push(arguments)};return window[J]&&"function"==typeof window[J]&&(le=window[J]),window[J]=function Lh(b,C,x,F){function le(){return(le=(0,R.Z)(function*(Ne,Ye,yt){try{"event"===Ne?yield ja(b,C,x,Ye,yt):"config"===Ne?yield Ba(b,C,x,F,Ye,yt):"consent"===Ne?b("consent","update",yt):b("set",Ye)}catch(St){gr.error(St)}})).apply(this,arguments)}return function J(Ne,Ye,yt){return le.apply(this,arguments)}}(le,b,C,x),{gtagCore:le,wrappedGtag:window[J]}}(mr,Nl,go,Lr,"gtag");vt=le,Rl=Ne,Ru=!0}return mr[F]=function xl(b,C,x,F,J,le,Ne){return Bi.apply(this,arguments)}(b,Nl,go,C,Rl,Lr,x),new ds(b)}function Vr(){return ji.apply(this,arguments)}function ji(){return(ji=(0,R.Z)(function*(){if((0,ae.ru)()||!(0,ae.zI)()||!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch{return!1}})).apply(this,arguments)}const Hn="@firebase/analytics";!function za(){(0,se._registerComponent)(new ye.wA(Ei,(C,{options:x})=>ta(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),x),"PUBLIC")),(0,se._registerComponent)(new ye.wA("analytics-internal",function b(C){try{const x=C.getProvider(Ei).getImmediate();return{logEvent:(F,J,le)=>function fs(b,C,x,F){b=(0,ae.m9)(b),function Ga(b,C,x,F,J){return Xo.apply(this,arguments)}(vt,mr[b.app.options.appId],C,x,F).catch(J=>gr.error(J))}(x,F,J,le)}}catch(x){throw ir.create("interop-component-reg-failed",{reason:x})}},"PRIVATE")),(0,se.registerVersion)(Hn,"0.8.0"),(0,se.registerVersion)(Hn,"0.8.0","esm2017")}();var Pu=O(4408),_o=O(7565);const jh=new class Ht extends _o.v{}(class yo extends Pu.o{constructor(C,x){super(C,x),this.scheduler=C,this.work=x}schedule(C,x=0){return x>0?super.schedule(C,x):(this.delay=x,this.state=C,this.scheduler.flush(this),this)}execute(C,x){return x>0||this.closed?super.execute(C,x):this._execute(C,x)}requestAsyncId(C,x,F=0){return null!=F&&F>0||null==F&&this.delay>0?super.requestAsyncId(C,x,F):C.flush(this)}});var Rp=O(4986),ps=O(9751),bn=O(8505),Wa=O(9468),Os=O(5363);const $h=new h.GfV("7.4.1"),qa="__angularfire_symbol__analyticsIsSupportedValue",Gn="__angularfire_symbol__analyticsIsSupported",Di="__angularfire_symbol__remoteConfigIsSupportedValue",Za="__angularfire_symbol__remoteConfigIsSupported",Ka="__angularfire_symbol__messagingIsSupportedValue",Pl="__angularfire_symbol__messagingIsSupported";function Qa(b,C,x){if(C){if(1===C.length)return C[0];const le=C.filter(Ne=>Ne.app===x);if(1===le.length)return le[0]}return x.container.getProvider(b).getImmediate({optional:!0})}globalThis[Gn]||(globalThis[Gn]=Vr().then(b=>globalThis[qa]=b).catch(()=>globalThis[qa]=!1)),globalThis[Pl]||(globalThis[Pl]=Rh().then(b=>globalThis[Ka]=b).catch(()=>globalThis[Ka]=!1)),globalThis[Za]||(globalThis[Za]=Fo().then(b=>globalThis[Di]=b).catch(()=>globalThis[Di]=!1));const ks=(b,C)=>{const x=C?[C]:(0,V.C6)(),F=[];return x.forEach(J=>{J.container.getProvider(b).instances.forEach(Ne=>{F.includes(Ne)||F.push(Ne)})}),F};function $i(){}class Ja{constructor(C,x=jh){this.zone=C,this.delegate=x}now(){return this.delegate.now()}schedule(C,x,F){const J=this.zone;return this.delegate.schedule(function(Ne){J.runGuarded(()=>{C.apply(this,[Ne])})},x,F)}}class gs{constructor(C){this.zone=C,this.task=null}call(C,x){const F=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",$i,{},$i,$i)),x.pipe((0,bn.b)({next:F,complete:F,error:F})).subscribe(C).add(F)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Zt=(()=>{class b{constructor(x){this.ngZone=x,this.outsideAngular=x.runOutsideAngular(()=>new Ja(Zone.current)),this.insideAngular=x.run(()=>new Ja(Zone.current,Rp.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return b.\u0275fac=function(x){return new(x||b)(h.LFG(h.R0b))},b.\u0275prov=h.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})();function Ur(){const b=globalThis.\u0275AngularFireScheduler;if(!b)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return b}function Xa(b){return Ur().ngZone.runOutsideAngular(()=>b())}function Xn(b){return Ur().ngZone.run(()=>b())}function eu(b){return Ur(),function td(b){return function(x){return(x=x.lift(new gs(b.ngZone))).pipe((0,Wa.R)(b.outsideAngular),(0,Os.Q)(b.insideAngular))}}(Ur())(b)}const Fs=(b,C)=>function(){const F=arguments;return C&&setTimeout(()=>{"scheduled"===C.state&&C.invoke()},10),Xn(()=>b.apply(void 0,F))},ms=(b,C)=>function(){let x;const F=arguments;for(let le=0;le<arguments.length;le++)"function"==typeof F[le]&&(C&&(x||(x=Xn(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",$i,{},$i,$i)))),F[le]=Fs(F[le],x));const J=Xa(()=>b.apply(this,F));if(!C){if(J instanceof ps.y){const le=Ur();return J.pipe((0,Wa.R)(le.outsideAngular),(0,Os.Q)(le.insideAngular))}return Xn(()=>J)}return J instanceof ps.y?J.pipe(eu):J instanceof Promise?Xn(()=>new Promise((le,Ne)=>J.then(Ye=>Xn(()=>le(Ye)),Ye=>Xn(()=>Ne(Ye))))):"function"==typeof J&&x?function(){return setTimeout(()=>{x&&"scheduled"===x.state&&x.invoke()},10),J.apply(this,arguments)}:Xn(()=>J)}},6457:(ht,Re,O)=>{O.d(Re,{$:()=>Eu,A:()=>G,B:()=>ke,G:()=>Js,H:()=>Jr,J:()=>ss,L:()=>an,M:()=>xa,N:()=>Ch,P:()=>Rp,Q:()=>Na,R:()=>hs,T:()=>vu,U:()=>Lo,V:()=>Ln,W:()=>yi,X:()=>Kn,Y:()=>bt,Z:()=>Ah,_:()=>Wc,a:()=>Ha,a0:()=>$n,a1:()=>$o,a2:()=>vl,a3:()=>Oa,a4:()=>ry,a5:()=>pr,a6:()=>wl,a7:()=>ho,a8:()=>Sh,a9:()=>El,aA:()=>_r,aB:()=>Ye,aC:()=>Xn,aD:()=>Xa,aE:()=>Fn,aI:()=>cn,aL:()=>io,aa:()=>Fa,ab:()=>Dl,ac:()=>Du,af:()=>Zc,ag:()=>bu,ah:()=>Mh,ak:()=>xs,al:()=>Cl,an:()=>Al,ao:()=>Sl,ap:()=>qn,aq:()=>_e,ar:()=>zt,as:()=>Se,at:()=>tt,au:()=>Fu,av:()=>_s,aw:()=>Fe,ax:()=>ie,ay:()=>te,az:()=>un,b:()=>ir,c:()=>Za,d:()=>Ol,e:()=>Pl,f:()=>eu,g:()=>x,h:()=>ms,i:()=>cs,j:()=>le,k:()=>Fp,l:()=>hi,m:()=>fy,n:()=>qh,o:()=>he,r:()=>Pu,s:()=>Np,u:()=>jh,y:()=>Ei});var h=O(5861),V=O(2090),R=O(9681),se=O(655),ae=O(1877),ye=O(4859);const he={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},G={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const ke=function ee(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},De=function $e(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},it=new V.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ge=new ae.Yd("@firebase/auth");function et(v,...g){ge.logLevel<=ae.in.ERROR&&ge.error(`Auth (${R.SDK_VERSION}): ${v}`,...g)}function tt(v,...g){throw Ze(v,...g)}function Fe(v,...g){return Ze(v,...g)}function Oe(v,g,m){const I=Object.assign(Object.assign({},De()),{[g]:m});return new V.LL("auth","Firebase",I).create(g,{appName:v.name})}function be(v,g,m){if(!(g instanceof m))throw m.name!==g.constructor.name&&tt(v,"argument-error"),Oe(v,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ze(v,...g){if("string"!=typeof v){const m=g[0],I=[...g.slice(1)];return I[0]&&(I[0].appName=v.name),v._errorFactory.create(m,...I)}return it.create(v,...g)}function ie(v,g,...m){if(!v)throw Ze(g,...m)}function ue(v){const g="INTERNAL ASSERTION FAILED: "+v;throw et(g),new Error(g)}function _e(v,g){v||ue(g)}const X=new Map;function te(v){_e(v instanceof Function,"Expected a class definition");let g=X.get(v);return g?(_e(g instanceof v,"Instance stored in cache mismatched with class"),g):(g=new v,X.set(v,g),g)}function Ve(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function Ue(){return"http:"===gt()||"https:"===gt()}function gt(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class Ke{constructor(g,m){this.shortDelay=g,this.longDelay=m,_e(m>g,"Short delay should be less than long delay!"),this.isMobile=(0,V.uI)()||(0,V.b$)()}get(){return function en(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ue()||(0,V.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function yn(v,g){_e(v.emulator,"Emulator should always be set here");const{url:m}=v.emulator;return g?`${m}${g.startsWith("/")?g.slice(1):g}`:m}class kn{static initialize(g,m,I){this.fetchImpl=g,m&&(this.headersImpl=m),I&&(this.responseImpl=I)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ue("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ue("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ue("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const on={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},tn=new Ke(3e4,6e4);function Qt(v,g){return v.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:v.tenantId}):g}function Gt(v,g,m,I){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,h.Z)(function*(v,g,m,I,M={}){return Ys(v,M,(0,h.Z)(function*(){let P={},ne={};I&&("GET"===g?ne=I:P={body:JSON.stringify(I)});const xe=(0,V.xO)(Object.assign({key:v.config.apiKey},ne)).slice(1),Qe=yield v._getAdditionalHeaders();return Qe["Content-Type"]="application/json",v.languageCode&&(Qe["X-Firebase-Locale"]=v.languageCode),kn.fetch()(oi(v,v.config.apiHost,m,xe),Object.assign({method:g,headers:Qe,referrerPolicy:"no-referrer"},P))}))})).apply(this,arguments)}function Ys(v,g,m){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,h.Z)(function*(v,g,m){v._canInitEmulator=!1;const I=Object.assign(Object.assign({},on),g);try{const M=new ai(v),P=yield Promise.race([m(),M.promise]);M.clearNetworkTimeout();const ne=yield P.json();if("needConfirmation"in ne)throw Bn(v,"account-exists-with-different-credential",ne);if(P.ok&&!("errorMessage"in ne))return ne;{const xe=P.ok?ne.errorMessage:ne.error.message,[Qe,at]=xe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Qe)throw Bn(v,"credential-already-in-use",ne);if("EMAIL_EXISTS"===Qe)throw Bn(v,"email-already-in-use",ne);if("USER_DISABLED"===Qe)throw Bn(v,"user-disabled",ne);const Kt=I[Qe]||Qe.toLowerCase().replace(/[_\s]+/g,"-");if(at)throw Oe(v,Kt,at);tt(v,Kt)}}catch(M){if(M instanceof V.ZR)throw M;tt(v,"network-request-failed")}})).apply(this,arguments)}function Tn(v,g,m,I){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,h.Z)(function*(v,g,m,I,M={}){const P=yield Gt(v,g,m,I,M);return"mfaPendingCredential"in P&&tt(v,"multi-factor-auth-required",{_serverResponse:P}),P})).apply(this,arguments)}function oi(v,g,m,I){const M=`${g}${m}?${I}`;return v.config.emulator?yn(v.config,M):`${v.config.apiScheme}://${M}`}class ai{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((m,I)=>{this.timer=setTimeout(()=>I(Fe(this.auth,"network-request-failed")),tn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Bn(v,g,m){const I={appName:v.name};m.email&&(I.email=m.email),m.phoneNumber&&(I.phoneNumber=m.phoneNumber);const M=Fe(v,g,I);return M.customData._tokenResponse=m,M}function ft(){return(ft=(0,h.Z)(function*(v,g){return Gt(v,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function _n(v,g){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,h.Z)(function*(v,g){return Gt(v,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function nn(v,g){return rr.apply(this,arguments)}function rr(){return(rr=(0,h.Z)(function*(v,g){return Gt(v,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function Pr(v){if(v)try{const g=new Date(Number(v));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function Yr(){return(Yr=(0,h.Z)(function*(v,g=!1){const m=(0,V.m9)(v),I=yield m.getIdToken(g),M=st(I);ie(M&&M.exp&&M.auth_time&&M.iat,m.auth,"internal-error");const P="object"==typeof M.firebase?M.firebase:void 0,ne=P?.sign_in_provider;return{claims:M,token:I,authTime:Pr(En(M.auth_time)),issuedAtTime:Pr(En(M.iat)),expirationTime:Pr(En(M.exp)),signInProvider:ne||null,signInSecondFactor:P?.sign_in_second_factor||null}})).apply(this,arguments)}function En(v){return 1e3*Number(v)}function st(v){var g;const[m,I,M]=v.split(".");if(void 0===m||void 0===I||void 0===M)return et("JWT malformed, contained fewer than 3 sections"),null;try{const P=(0,V.tV)(I);return P?JSON.parse(P):(et("Failed to decode base64 JWT payload"),null)}catch(P){return et("Caught error parsing JWT payload as JSON",null===(g=P)||void 0===g?void 0:g.toString()),null}}function An(v,g){return Or.apply(this,arguments)}function Or(){return(Or=(0,h.Z)(function*(v,g,m=!1){if(m)return g;try{return yield g}catch(I){throw I instanceof V.ZR&&Sn(I)&&v.auth.currentUser===v&&(yield v.auth.signOut()),I}})).apply(this,arguments)}function Sn({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}class $t{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var m;if(g){const I=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),I}{this.errorBackoff=3e4;const M=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,M)}}schedule(g=!1){var m=this;if(!this.isRunning)return;const I=this.getInterval(g);this.timerId=setTimeout((0,h.Z)(function*(){yield m.iteration()}),I)}iteration(){var g=this;return(0,h.Z)(function*(){var m;try{yield g.user.getIdToken(!0)}catch(I){return void("auth/network-request-failed"===(null===(m=I)||void 0===m?void 0:m.code)&&g.schedule(!0))}g.schedule()})()}}class Pn{constructor(g,m){this.createdAt=g,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pr(this.lastLoginAt),this.creationTime=Pr(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function kr(v){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,h.Z)(function*(v){var g;const m=v.auth,I=yield v.getIdToken(),M=yield An(v,nn(m,{idToken:I}));ie(M?.users.length,m,"internal-error");const P=M.users[0];v._notifyReloadListener(P);const ne=null!==(g=P.providerUserInfo)&&void 0!==g&&g.length?$(P.providerUserInfo):[],xe=Q(v.providerData,ne),Kt=!!v.isAnonymous&&!(v.email&&P.passwordHash||xe?.length),Mn={uid:P.localId,displayName:P.displayName||null,photoURL:P.photoUrl||null,email:P.email||null,emailVerified:P.emailVerified||!1,phoneNumber:P.phoneNumber||null,tenantId:P.tenantId||null,providerData:xe,metadata:new Pn(P.createdAt,P.lastLoginAt),isAnonymous:Kt};Object.assign(v,Mn)})).apply(this,arguments)}function Rt(){return(Rt=(0,h.Z)(function*(v){const g=(0,V.m9)(v);yield kr(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function Q(v,g){return[...v.filter(I=>!g.some(M=>M.providerId===I.providerId)),...g]}function $(v){return v.map(g=>{var{providerId:m}=g,I=(0,se._T)(g,["providerId"]);return{providerId:m,uid:I.rawId||"",displayName:I.displayName||null,email:I.email||null,phoneNumber:I.phoneNumber||null,photoURL:I.photoUrl||null}})}function W(){return(W=(0,h.Z)(function*(v,g){const m=yield Ys(v,{},(0,h.Z)(function*(){const I=(0,V.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:M,apiKey:P}=v.config,ne=oi(v,M,"/v1/token",`key=${P}`),xe=yield v._getAdditionalHeaders();return xe["Content-Type"]="application/x-www-form-urlencoded",kn.fetch()(ne,{method:"POST",headers:xe,body:I})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class Z{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){ie(g.idToken,"internal-error"),ie(typeof g.idToken<"u","internal-error"),ie(typeof g.refreshToken<"u","internal-error");const m="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):function rt(v){const g=st(v);return ie(g,"internal-error"),ie(typeof g.exp<"u","internal-error"),ie(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,m)}getToken(g,m=!1){var I=this;return(0,h.Z)(function*(){return ie(!I.accessToken||I.refreshToken,g,"user-token-expired"),m||!I.accessToken||I.isExpired?I.refreshToken?(yield I.refresh(g,I.refreshToken),I.accessToken):null:I.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,m){var I=this;return(0,h.Z)(function*(){const{accessToken:M,refreshToken:P,expiresIn:ne}=yield function U(v,g){return W.apply(this,arguments)}(g,m);I.updateTokensAndExpiration(M,P,Number(ne))})()}updateTokensAndExpiration(g,m,I){this.refreshToken=m||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*I}static fromJSON(g,m){const{refreshToken:I,accessToken:M,expirationTime:P}=m,ne=new Z;return I&&(ie("string"==typeof I,"internal-error",{appName:g}),ne.refreshToken=I),M&&(ie("string"==typeof M,"internal-error",{appName:g}),ne.accessToken=M),P&&(ie("number"==typeof P,"internal-error",{appName:g}),ne.expirationTime=P),ne}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new Z,this.toJSON())}_performRefresh(){return ue("not implemented")}}function Ae(v,g){ie("string"==typeof v||typeof v>"u","internal-error",{appName:g})}class Ge{constructor(g){var{uid:m,auth:I,stsTokenManager:M}=g,P=(0,se._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new $t(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=I,this.stsTokenManager=M,this.accessToken=M.accessToken,this.displayName=P.displayName||null,this.email=P.email||null,this.emailVerified=P.emailVerified||!1,this.phoneNumber=P.phoneNumber||null,this.photoURL=P.photoURL||null,this.isAnonymous=P.isAnonymous||!1,this.tenantId=P.tenantId||null,this.providerData=P.providerData?[...P.providerData]:[],this.metadata=new Pn(P.createdAt||void 0,P.lastLoginAt||void 0)}getIdToken(g){var m=this;return(0,h.Z)(function*(){const I=yield An(m,m.stsTokenManager.getToken(m.auth,g));return ie(I,m.auth,"internal-error"),m.accessToken!==I&&(m.accessToken=I,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),I})()}getIdTokenResult(g){return function pn(v){return Yr.apply(this,arguments)}(this,g)}reload(){return function ui(v){return Rt.apply(this,arguments)}(this)}_assign(g){this!==g&&(ie(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(m=>Object.assign({},m)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new Ge(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,m=!1){var I=this;return(0,h.Z)(function*(){let M=!1;g.idToken&&g.idToken!==I.stsTokenManager.accessToken&&(I.stsTokenManager.updateFromServerResponse(g),M=!0),m&&(yield kr(I)),yield I.auth._persistUserIfCurrent(I),M&&I.auth._notifyListenersIfCurrent(I)})()}delete(){var g=this;return(0,h.Z)(function*(){const m=yield g.getIdToken();return yield An(g,function ns(v,g){return ft.apply(this,arguments)}(g.auth,{idToken:m})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,m){var I,M,P,ne,xe,Qe,at,Kt;const Mn=null!==(I=m.displayName)&&void 0!==I?I:void 0,fi=null!==(M=m.email)&&void 0!==M?M:void 0,la=null!==(P=m.phoneNumber)&&void 0!==P?P:void 0,Bl=null!==(ne=m.photoURL)&&void 0!==ne?ne:void 0,Lp=null!==(xe=m.tenantId)&&void 0!==xe?xe:void 0,iu=null!==(Qe=m._redirectEventId)&&void 0!==Qe?Qe:void 0,Lu=null!==(at=m.createdAt)&&void 0!==at?at:void 0,sd=null!==(Kt=m.lastLoginAt)&&void 0!==Kt?Kt:void 0,{uid:Vu,emailVerified:my,isAnonymous:Zh,providerData:jl,stsTokenManager:Kh}=m;ie(Vu&&Kh,g,"internal-error");const Vp=Z.fromJSON(this.name,Kh);ie("string"==typeof Vu,g,"internal-error"),Ae(Mn,g.name),Ae(fi,g.name),ie("boolean"==typeof my,g,"internal-error"),ie("boolean"==typeof Zh,g,"internal-error"),Ae(la,g.name),Ae(Bl,g.name),Ae(Lp,g.name),Ae(iu,g.name),Ae(Lu,g.name),Ae(sd,g.name);const od=new Ge({uid:Vu,auth:g,email:fi,emailVerified:my,displayName:Mn,isAnonymous:Zh,photoURL:Bl,phoneNumber:la,tenantId:Lp,stsTokenManager:Vp,createdAt:Lu,lastLoginAt:sd});return jl&&Array.isArray(jl)&&(od.providerData=jl.map(Yh=>Object.assign({},Yh))),iu&&(od._redirectEventId=iu),od}static _fromIdTokenResponse(g,m,I=!1){return(0,h.Z)(function*(){const M=new Z;M.updateFromServerResponse(m);const P=new Ge({uid:m.localId,auth:g,stsTokenManager:M,isAnonymous:I});return yield kr(P),P})()}}const an=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,h.Z)(function*(){return!0})()}_set(m,I){var M=this;return(0,h.Z)(function*(){M.storage[m]=I})()}_get(m){var I=this;return(0,h.Z)(function*(){const M=I.storage[m];return void 0===M?null:M})()}_remove(m){var I=this;return(0,h.Z)(function*(){delete I.storage[m]})()}_addListener(m,I){}_removeListener(m,I){}}return v.type="NONE",v})();function un(v,g,m){return`firebase:${v}:${g}:${m}`}class Wn{constructor(g,m,I){this.persistence=g,this.auth=m,this.userKey=I;const{config:M,name:P}=this.auth;this.fullUserKey=un(this.userKey,M.apiKey,P),this.fullPersistenceKey=un("persistence",M.apiKey,P),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,h.Z)(function*(){const m=yield g.persistence._get(g.fullUserKey);return m?Ge._fromJSON(g.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var m=this;return(0,h.Z)(function*(){if(m.persistence===g)return;const I=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=g,I?m.setCurrentUser(I):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,m,I="authUser"){return(0,h.Z)(function*(){if(!m.length)return new Wn(te(an),g,I);const M=(yield Promise.all(m.map(function(){var at=(0,h.Z)(function*(Kt){if(yield Kt._isAvailable())return Kt});return function(Kt){return at.apply(this,arguments)}}()))).filter(at=>at);let P=M[0]||te(an);const ne=un(I,g.config.apiKey,g.name);let xe=null;for(const at of m)try{const Kt=yield at._get(ne);if(Kt){const Mn=Ge._fromJSON(g,Kt);at!==P&&(xe=Mn),P=at;break}}catch{}const Qe=M.filter(at=>at._shouldAllowMigration);return P._shouldAllowMigration&&Qe.length?(P=Qe[0],xe&&(yield P._set(ne,xe.toJSON())),yield Promise.all(m.map(function(){var at=(0,h.Z)(function*(Kt){if(Kt!==P)try{yield Kt._remove(ne)}catch{}});return function(Kt){return at.apply(this,arguments)}}())),new Wn(P,g,I)):new Wn(P,g,I)})()}}function Y(v){const g=v.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(He(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(z(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(qe(g))return"Blackberry";if(mt(g))return"Webos";if(j(g))return"Safari";if((g.includes("chrome/")||Ee(g))&&!g.includes("edge/"))return"Chrome";if(Se(g))return"Android";{const I=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===I?.length)return I[1]}return"Other"}function z(v=(0,V.z$)()){return/firefox\//i.test(v)}function j(v=(0,V.z$)()){const g=v.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function Ee(v=(0,V.z$)()){return/crios\//i.test(v)}function He(v=(0,V.z$)()){return/iemobile/i.test(v)}function Se(v=(0,V.z$)()){return/android/i.test(v)}function qe(v=(0,V.z$)()){return/blackberry/i.test(v)}function mt(v=(0,V.z$)()){return/webos/i.test(v)}function zt(v=(0,V.z$)()){return/iphone|ipad|ipod/i.test(v)||/macintosh/i.test(v)&&/mobile/i.test(v)}function qn(v=(0,V.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}function rn(v=(0,V.z$)()){return zt(v)||Se(v)||mt(v)||qe(v)||/windows phone/i.test(v)||He(v)}function rs(v,g=[]){let m;switch(v){case"Browser":m=Y((0,V.z$)());break;case"Worker":m=`${Y((0,V.z$)())}-${v}`;break;default:m=v}const I=g.length?g.join(","):"FirebaseCore-web";return`${m}/JsCore/${R.SDK_VERSION}/${I}`}class Ut{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,m){const I=P=>new Promise((ne,xe)=>{try{ne(g(P))}catch(Qe){xe(Qe)}});I.onAbort=m,this.queue.push(I);const M=this.queue.length-1;return()=>{this.queue[M]=()=>Promise.resolve()}}runMiddleware(g){var m=this;return(0,h.Z)(function*(){var I;if(m.auth.currentUser===g)return;const M=[];try{for(const P of m.queue)yield P(g),P.onAbort&&M.push(P.onAbort)}catch(P){M.reverse();for(const ne of M)try{ne()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:null===(I=P)||void 0===I?void 0:I.message})}})()}}class Aa{constructor(g,m,I){this.app=g,this.heartbeatServiceProvider=m,this.config=I,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ro(this),this.idTokenSubscription=new Ro(this),this.beforeStateQueue=new Ut(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=it,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=I.sdkClientVersion}_initializeWithPersistence(g,m){var I=this;return m&&(this._popupRedirectResolver=te(m)),this._initializationPromise=this.queue((0,h.Z)(function*(){var M,P;if(!I._deleted&&(I.persistenceManager=yield Wn.create(I,g),!I._deleted)){if(null!==(M=I._popupRedirectResolver)&&void 0!==M&&M._shouldInitProactively)try{yield I._popupRedirectResolver._initialize(I)}catch{}yield I.initializeCurrentUser(m),I.lastNotifiedUid=(null===(P=I.currentUser)||void 0===P?void 0:P.uid)||null,!I._deleted&&(I._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,h.Z)(function*(){if(g._deleted)return;const m=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||m){if(g.currentUser&&m&&g.currentUser.uid===m.uid)return g._currentUser._assign(m),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(m,!0)}})()}initializeCurrentUser(g){var m=this;return(0,h.Z)(function*(){var I;const M=yield m.assertedPersistence.getCurrentUser();let P=M,ne=!1;if(g&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const xe=null===(I=m.redirectUser)||void 0===I?void 0:I._redirectEventId,Qe=P?._redirectEventId,at=yield m.tryRedirectSignIn(g);(!xe||xe===Qe)&&at?.user&&(P=at.user,ne=!0)}if(!P)return m.directlySetCurrentUser(null);if(!P._redirectEventId){if(ne)try{yield m.beforeStateQueue.runMiddleware(P)}catch(xe){P=M,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(xe))}return P?m.reloadAndSetCurrentUserOrClear(P):m.directlySetCurrentUser(null)}return ie(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===P._redirectEventId?m.directlySetCurrentUser(P):m.reloadAndSetCurrentUserOrClear(P)})()}tryRedirectSignIn(g){var m=this;return(0,h.Z)(function*(){let I=null;try{I=yield m._popupRedirectResolver._completeRedirectFn(m,g,!0)}catch{yield m._setRedirectUser(null)}return I})()}reloadAndSetCurrentUserOrClear(g){var m=this;return(0,h.Z)(function*(){var I;try{yield kr(g)}catch(M){if("auth/network-request-failed"!==(null===(I=M)||void 0===I?void 0:I.code))return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function Jt(){if(typeof navigator>"u")return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var g=this;return(0,h.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var m=this;return(0,h.Z)(function*(){const I=g?(0,V.m9)(g):null;return I&&ie(I.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(I&&I._clone(m))})()}_updateCurrentUser(g,m=!1){var I=this;return(0,h.Z)(function*(){if(!I._deleted)return g&&ie(I.tenantId===g.tenantId,I,"tenant-id-mismatch"),m||(yield I.beforeStateQueue.runMiddleware(g)),I.queue((0,h.Z)(function*(){yield I.directlySetCurrentUser(g),I.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,h.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var m=this;return this.queue((0,h.Z)(function*(){yield m.assertedPersistence.setPersistence(te(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new V.LL("auth","Firebase",g())}onAuthStateChanged(g,m,I){return this.registerStateListener(this.authStateSubscription,g,m,I)}beforeAuthStateChanged(g,m){return this.beforeStateQueue.pushCallback(g,m)}onIdTokenChanged(g,m,I){return this.registerStateListener(this.idTokenSubscription,g,m,I)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,m){var I=this;return(0,h.Z)(function*(){const M=yield I.getOrInitRedirectPersistenceManager(m);return null===g?M.removeCurrentUser():M.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var m=this;return(0,h.Z)(function*(){if(!m.redirectPersistenceManager){const I=g&&te(g)||m._popupRedirectResolver;ie(I,m,"argument-error"),m.redirectPersistenceManager=yield Wn.create(m,[te(I._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(g){var m=this;return(0,h.Z)(function*(){var I,M;return m._isInitialized&&(yield m.queue((0,h.Z)(function*(){}))),(null===(I=m._currentUser)||void 0===I?void 0:I._redirectEventId)===g?m._currentUser:(null===(M=m.redirectUser)||void 0===M?void 0:M._redirectEventId)===g?m.redirectUser:null})()}_persistUserIfCurrent(g){var m=this;return(0,h.Z)(function*(){if(g===m.currentUser)return m.queue((0,h.Z)(function*(){return m.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const I=null!==(m=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==I&&(this.lastNotifiedUid=I,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,m,I,M){if(this._deleted)return()=>{};const P="function"==typeof m?m:m.next.bind(m),ne=this._isInitialized?Promise.resolve():this._initializationPromise;return ie(ne,this,"internal-error"),ne.then(()=>P(this.currentUser)),"function"==typeof m?g.addObserver(m,I,M):g.addObserver(m)}directlySetCurrentUser(g){var m=this;return(0,h.Z)(function*(){m.currentUser&&m.currentUser!==g&&(m._currentUser._stopProactiveRefresh(),g&&m.isProactiveRefreshEnabled&&g._startProactiveRefresh()),m.currentUser=g,g?yield m.assertedPersistence.setCurrentUser(g):yield m.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=rs(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,h.Z)(function*(){var m;const I={"X-Client-Version":g.clientVersion};g.app.options.appId&&(I["X-Firebase-gmpid"]=g.app.options.appId);const M=yield null===(m=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return M&&(I["X-Firebase-Client"]=M),I})()}}function Fn(v){return(0,V.m9)(v)}class Ro{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,V.ne)(m=>this.observer=m)}get next(){return ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Js(v,g,m){const I=Fn(v);ie(I._canInitEmulator,I,"emulator-config-failed"),ie(/^https?:\/\//.test(g),I,"invalid-emulator-scheme");const M=!!m?.disableWarnings,P=hr(g),{host:ne,port:xe}=function Xs(v){const g=hr(v),m=/(\/\/)?([^?#/]+)/.exec(v.substr(g.length));if(!m)return{host:"",port:null};const I=m[2].split("@").pop()||"",M=/^(\[[^\]]+\])(:|$)/.exec(I);if(M){const P=M[1];return{host:P,port:Pi(I.substr(P.length+1))}}{const[P,ne]=I.split(":");return{host:P,port:Pi(ne)}}}(g);I.config.emulator={url:`${P}//${ne}${null===xe?"":`:${xe}`}/`},I.settings.appVerificationDisabledForTesting=!0,I.emulatorConfig=Object.freeze({host:ne,port:xe,protocol:P.replace(":",""),options:Object.freeze({disableWarnings:M})}),M||function Qr(){function v(){const g=document.createElement("p"),m=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}function hr(v){const g=v.indexOf(":");return g<0?"":v.substr(0,g+1)}function Pi(v){if(!v)return null;const g=Number(v);return isNaN(g)?null:g}class Jr{constructor(g,m){this.providerId=g,this.signInMethod=m}toJSON(){return ue("not implemented")}_getIdTokenResponse(g){return ue("not implemented")}_linkToIdToken(g,m){return ue("not implemented")}_getReauthenticationResolver(g){return ue("not implemented")}}function fl(v,g){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,h.Z)(function*(v,g){return Gt(v,"POST","/v1/accounts:resetPassword",Qt(v,g))})).apply(this,arguments)}function pl(v,g){return gl.apply(this,arguments)}function gl(){return(gl=(0,h.Z)(function*(v,g){return Gt(v,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function mu(v,g){return eo.apply(this,arguments)}function eo(){return(eo=(0,h.Z)(function*(v,g){return Gt(v,"POST","/v1/accounts:update",Qt(v,g))})).apply(this,arguments)}function Ss(){return(Ss=(0,h.Z)(function*(v,g){return Tn(v,"POST","/v1/accounts:signInWithPassword",Qt(v,g))})).apply(this,arguments)}function is(v,g){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,h.Z)(function*(v,g){return Gt(v,"POST","/v1/accounts:sendOobCode",Qt(v,g))})).apply(this,arguments)}function ml(v,g){return wr.apply(this,arguments)}function wr(){return(wr=(0,h.Z)(function*(v,g){return is(v,g)})).apply(this,arguments)}function mi(v,g){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,h.Z)(function*(v,g){return is(v,g)})).apply(this,arguments)}function Sa(v,g){return to.apply(this,arguments)}function to(){return(to=(0,h.Z)(function*(v,g){return is(v,g)})).apply(this,arguments)}function Oi(v,g){return Uc.apply(this,arguments)}function Uc(){return(Uc=(0,h.Z)(function*(v,g){return is(v,g)})).apply(this,arguments)}function yl(){return(yl=(0,h.Z)(function*(v,g){return Tn(v,"POST","/v1/accounts:signInWithEmailLink",Qt(v,g))})).apply(this,arguments)}function jc(){return(jc=(0,h.Z)(function*(v,g){return Tn(v,"POST","/v1/accounts:signInWithEmailLink",Qt(v,g))})).apply(this,arguments)}class yu extends Jr{constructor(g,m,I,M=null){super("password",I),this._email=g,this._password=m,this._tenantId=M}static _fromEmailAndPassword(g,m){return new yu(g,m,"password")}static _fromEmailAndCode(g,m,I=null){return new yu(g,m,"emailLink",I)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(g){var m=this;return(0,h.Z)(function*(){switch(m.signInMethod){case"password":return function Po(v,g){return Ss.apply(this,arguments)}(g,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function Bc(v,g){return yl.apply(this,arguments)}(g,{email:m._email,oobCode:m._password});default:tt(g,"internal-error")}})()}_linkToIdToken(g,m){var I=this;return(0,h.Z)(function*(){switch(I.signInMethod){case"password":return pl(g,{idToken:m,returnSecureToken:!0,email:I._email,password:I._password});case"emailLink":return function bh(v,g){return jc.apply(this,arguments)}(g,{idToken:m,email:I._email,oobCode:I._password});default:tt(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function no(v,g){return li.apply(this,arguments)}function li(){return(li=(0,h.Z)(function*(v,g){return Tn(v,"POST","/v1/accounts:signInWithIdp",Qt(v,g))})).apply(this,arguments)}class ss extends Jr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const m=new ss(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(m.idToken=g.idToken),g.accessToken&&(m.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(m.nonce=g.nonce),g.pendingToken&&(m.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(m.accessToken=g.oauthToken,m.secret=g.oauthTokenSecret):tt("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g,{providerId:I,signInMethod:M}=m,P=(0,se._T)(m,["providerId","signInMethod"]);if(!I||!M)return null;const ne=new ss(I,M);return ne.idToken=P.idToken||void 0,ne.accessToken=P.accessToken||void 0,ne.secret=P.secret,ne.nonce=P.nonce,ne.pendingToken=P.pendingToken||null,ne}_getIdTokenResponse(g){return no(g,this.buildRequest())}_linkToIdToken(g,m){const I=this.buildRequest();return I.idToken=m,no(g,I)}_getReauthenticationResolver(g){const m=this.buildRequest();return m.autoCreate=!1,no(g,m)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),g.postBody=(0,V.xO)(m)}return g}}function Ep(v,g){return $c.apply(this,arguments)}function $c(){return($c=(0,h.Z)(function*(v,g){return Gt(v,"POST","/v1/accounts:sendVerificationCode",Qt(v,g))})).apply(this,arguments)}function Ma(){return(Ma=(0,h.Z)(function*(v,g){return Tn(v,"POST","/v1/accounts:signInWithPhoneNumber",Qt(v,g))})).apply(this,arguments)}function Hc(){return(Hc=(0,h.Z)(function*(v,g){const m=yield Tn(v,"POST","/v1/accounts:signInWithPhoneNumber",Qt(v,g));if(m.temporaryProof)throw Bn(v,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const Dp={USER_NOT_FOUND:"user-not-found"};function _u(){return(_u=(0,h.Z)(function*(v,g){return Tn(v,"POST","/v1/accounts:signInWithPhoneNumber",Qt(v,Object.assign(Object.assign({},g),{operation:"REAUTH"})),Dp)})).apply(this,arguments)}class os extends Jr{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,m){return new os({verificationId:g,verificationCode:m})}static _fromTokenResponse(g,m){return new os({phoneNumber:g,temporaryProof:m})}_getIdTokenResponse(g){return function Ip(v,g){return Ma.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,m){return function Oo(v,g){return Hc.apply(this,arguments)}(g,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function bp(v,g){return _u.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:m,verificationId:I,verificationCode:M}=this.params;return g&&m?{temporaryProof:g,phoneNumber:m}:{sessionInfo:I,code:M}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:m,verificationCode:I,phoneNumber:M,temporaryProof:P}=g;return I||m||M||P?new os({verificationId:m,verificationCode:I,phoneNumber:M,temporaryProof:P}):null}}class ko{constructor(g){var m,I,M,P,ne,xe;const Qe=(0,V.zd)((0,V.pd)(g)),at=null!==(m=Qe.apiKey)&&void 0!==m?m:null,Kt=null!==(I=Qe.oobCode)&&void 0!==I?I:null,Mn=function Cp(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(M=Qe.mode)&&void 0!==M?M:null);ie(at&&Kt&&Mn,"argument-error"),this.apiKey=at,this.operation=Mn,this.code=Kt,this.continueUrl=null!==(P=Qe.continueUrl)&&void 0!==P?P:null,this.languageCode=null!==(ne=Qe.languageCode)&&void 0!==ne?ne:null,this.tenantId=null!==(xe=Qe.tenantId)&&void 0!==xe?xe:null}static parseLink(g){const m=function ny(v){const g=(0,V.zd)((0,V.pd)(v)).link,m=g?(0,V.zd)((0,V.pd)(g)).deep_link_id:null,I=(0,V.zd)((0,V.pd)(v)).deep_link_id;return(I?(0,V.zd)((0,V.pd)(I)).link:null)||I||m||g||v}(g);try{return new ko(m)}catch{return null}}}let xa=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(m,I){return yu._fromEmailAndPassword(m,I)}static credentialWithLink(m,I){const M=ko.parseLink(I);return ie(M,"argument-error"),yu._fromEmailAndCode(m,M.code,M.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class ci{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class ro extends ci{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class Lo extends ro{static credentialFromJSON(g){const m="string"==typeof g?JSON.parse(g):g;return ie("providerId"in m&&"signInMethod"in m,"argument-error"),ss._fromParams(m)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return ie(g.idToken||g.accessToken,"argument-error"),ss._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return Lo.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return Lo.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:m,oauthAccessToken:I,oauthTokenSecret:M,pendingToken:P,nonce:ne,providerId:xe}=g;if(!I&&!M&&!m&&!P||!xe)return null;try{return new Lo(xe)._credential({idToken:m,accessToken:I,nonce:ne,pendingToken:P})}catch{return null}}}let Ch=(()=>{class v extends ro{constructor(){super("facebook.com")}static credential(m){return ss._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch{return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),Na=(()=>{class v extends ro{constructor(){super("google.com"),this.addScope("profile")}static credential(m,I){return ss._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:I})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:I,oauthAccessToken:M}=m;if(!I&&!M)return null;try{return v.credential(I,M)}catch{return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),vu=(()=>{class v extends ro{constructor(){super("github.com")}static credential(m){return ss._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch{return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class io extends Jr{constructor(g,m){super(g,g),this.pendingToken=m}_getIdTokenResponse(g){return no(g,this.buildRequest())}_linkToIdToken(g,m){const I=this.buildRequest();return I.idToken=m,no(g,I)}_getReauthenticationResolver(g){const m=this.buildRequest();return m.autoCreate=!1,no(g,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g,{providerId:I,signInMethod:M,pendingToken:P}=m;return I&&M&&P&&I===M?new io(I,P):null}static _create(g,m){return new io(g,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ln extends ci{constructor(g){ie(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return Ln.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return Ln.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const m=io.fromJSON(g);return ie(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:m,providerId:I}=g;if(!m||!I)return null;try{return io._create(I,m)}catch{return null}}}let yi=(()=>{class v extends ro{constructor(){super("twitter.com")}static credential(m,I){return ss._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:I})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:I,oauthTokenSecret:M}=m;if(!I||!M)return null;try{return v.credential(I,M)}catch{return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function Gc(v,g){return so.apply(this,arguments)}function so(){return(so=(0,h.Z)(function*(v,g){return Tn(v,"POST","/v1/accounts:signUp",Qt(v,g))})).apply(this,arguments)}class _i{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,m,I,M=!1){return(0,h.Z)(function*(){const P=yield Ge._fromIdTokenResponse(g,I,M),ne=_l(I);return new _i({user:P,providerId:ne,_tokenResponse:I,operationType:m})})()}static _forOperation(g,m,I){return(0,h.Z)(function*(){yield g._updateTokensIfNecessary(I,!0);const M=_l(I);return new _i({user:g,providerId:M,_tokenResponse:I,operationType:m})})()}}function _l(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function Kn(v){return wu.apply(this,arguments)}function wu(){return(wu=(0,h.Z)(function*(v){var g;const m=Fn(v);if(yield m._initializationPromise,null!==(g=m.currentUser)&&void 0!==g&&g.isAnonymous)return new _i({user:m.currentUser,providerId:null,operationType:"signIn"});const I=yield Gc(m,{returnSecureToken:!0}),M=yield _i._fromIdTokenResponse(m,"signIn",I,!0);return yield m._updateCurrentUser(M.user),M})).apply(this,arguments)}class zc extends V.ZR{constructor(g,m,I,M){var P;super(m.code,m.message),this.operationType=I,this.user=M,Object.setPrototypeOf(this,zc.prototype),this.customData={appName:g.name,tenantId:null!==(P=g.tenantId)&&void 0!==P?P:void 0,_serverResponse:m.customData._serverResponse,operationType:I}}static _fromErrorAndOperation(g,m,I,M){return new zc(g,m,I,M)}}function Ra(v,g,m,I){return("reauthenticate"===g?m._getReauthenticationResolver(v):m._getIdTokenResponse(v)).catch(P=>{throw"auth/multi-factor-auth-required"===P.code?zc._fromErrorAndOperation(v,P,g,I):P})}function Xr(v){return new Set(v.map(({providerId:g})=>g).filter(g=>!!g))}function xs(v,g){return oo.apply(this,arguments)}function oo(){return(oo=(0,h.Z)(function*(v,g){const m=(0,V.m9)(v);yield ao(!0,m,g);const{providerUserInfo:I}=yield _n(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[g]}),M=Xr(I||[]);return m.providerData=m.providerData.filter(P=>M.has(P.providerId)),M.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function as(v,g){return fr.apply(this,arguments)}function fr(){return(fr=(0,h.Z)(function*(v,g,m=!1){const I=yield An(v,g._linkToIdToken(v.auth,yield v.getIdToken()),m);return _i._forOperation(v,"link",I)})).apply(this,arguments)}function ao(v,g,m){return ki.apply(this,arguments)}function ki(){return(ki=(0,h.Z)(function*(v,g,m){yield kr(g);const M=!1===v?"provider-already-linked":"no-such-provider";ie(Xr(g.providerData).has(m)===v,g.auth,M)})).apply(this,arguments)}function Ns(v,g){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,h.Z)(function*(v,g,m=!1){var I;const{auth:M}=v,P="reauthenticate";try{const ne=yield An(v,Ra(M,P,g,v),m);ie(ne.idToken,M,"internal-error");const xe=st(ne.idToken);ie(xe,M,"internal-error");const{sub:Qe}=xe;return ie(v.uid===Qe,M,"user-mismatch"),_i._forOperation(v,P,ne)}catch(ne){throw"auth/user-not-found"===(null===(I=ne)||void 0===I?void 0:I.code)&&tt(M,"user-mismatch"),ne}})).apply(this,arguments)}function Rs(v,g){return uo.apply(this,arguments)}function uo(){return(uo=(0,h.Z)(function*(v,g,m=!1){const I="signIn",M=yield Ra(v,I,g),P=yield _i._fromIdTokenResponse(v,I,M);return m||(yield v._updateCurrentUser(P.user)),P})).apply(this,arguments)}function bt(v,g){return jn.apply(this,arguments)}function jn(){return(jn=(0,h.Z)(function*(v,g){return Rs(Fn(v),g)})).apply(this,arguments)}function Ah(v,g){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,h.Z)(function*(v,g){const m=(0,V.m9)(v);return yield ao(!1,m,g.providerId),as(m,g)})).apply(this,arguments)}function Wc(v,g){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,h.Z)(function*(v,g){return Ns((0,V.m9)(v),g)})).apply(this,arguments)}function Vo(v,g){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,h.Z)(function*(v,g){return Tn(v,"POST","/v1/accounts:signInWithCustomToken",Qt(v,g))})).apply(this,arguments)}function Eu(v,g){return Me.apply(this,arguments)}function Me(){return(Me=(0,h.Z)(function*(v,g){const m=Fn(v),I=yield Vo(m,{token:g,returnSecureToken:!0}),M=yield _i._fromIdTokenResponse(m,"signIn",I);return yield m._updateCurrentUser(M.user),M})).apply(this,arguments)}class qt{constructor(g,m){this.factorId=g,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(g,m){return"phoneInfo"in m?Bo._fromServerResponse(g,m):tt(g,"internal-error")}}class Bo extends qt{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,m){return new Bo(m)}}function jo(v,g,m){var I;ie((null===(I=m.url)||void 0===I?void 0:I.length)>0,v,"invalid-continue-uri"),ie(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),g.continueUrl=m.url,g.dynamicLinkDomain=m.dynamicLinkDomain,g.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(ie(m.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),g.iOSBundleId=m.iOS.bundleId),m.android&&(ie(m.android.packageName.length>0,v,"missing-android-pkg-name"),g.androidInstallApp=m.android.installApp,g.androidMinimumVersionCode=m.android.minimumVersion,g.androidPackageName=m.android.packageName)}function $n(v,g,m){return lo.apply(this,arguments)}function lo(){return(lo=(0,h.Z)(function*(v,g,m){const I=(0,V.m9)(v),M={requestType:"PASSWORD_RESET",email:g};m&&jo(I,M,m),yield mi(I,M)})).apply(this,arguments)}function $o(v,g,m){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,h.Z)(function*(v,g,m){yield fl((0,V.m9)(v),{oobCode:g,newPassword:m})})).apply(this,arguments)}function vl(v,g){return co.apply(this,arguments)}function co(){return(co=(0,h.Z)(function*(v,g){yield mu((0,V.m9)(v),{oobCode:g})})).apply(this,arguments)}function Oa(v,g){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,h.Z)(function*(v,g){const m=(0,V.m9)(v),I=yield fl(m,{oobCode:g}),M=I.requestType;switch(ie(M,m,"internal-error"),M){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ie(I.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ie(I.mfaInfo,m,"internal-error");default:ie(I.email,m,"internal-error")}let P=null;return I.mfaInfo&&(P=qt._fromServerResponse(Fn(m),I.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.newEmail:I.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.email:I.newEmail)||null,multiFactorInfo:P},operation:M}})).apply(this,arguments)}function ry(v,g){return vi.apply(this,arguments)}function vi(){return(vi=(0,h.Z)(function*(v,g){const{data:m}=yield Oa((0,V.m9)(v),g);return m.email})).apply(this,arguments)}function pr(v,g,m){return di.apply(this,arguments)}function di(){return(di=(0,h.Z)(function*(v,g,m){const I=Fn(v),M=yield Gc(I,{returnSecureToken:!0,email:g,password:m}),P=yield _i._fromIdTokenResponse(I,"signIn",M);return yield I._updateCurrentUser(P.user),P})).apply(this,arguments)}function wl(v,g,m){return bt((0,V.m9)(v),xa.credential(g,m))}function ho(v,g,m){return wi.apply(this,arguments)}function wi(){return(wi=(0,h.Z)(function*(v,g,m){const I=(0,V.m9)(v),M={requestType:"EMAIL_SIGNIN",email:g};ie(m.handleCodeInApp,I,"argument-error"),m&&jo(I,M,m),yield Sa(I,M)})).apply(this,arguments)}function Sh(v,g){return"EMAIL_SIGNIN"===ko.parseLink(g)?.operation}function El(v,g,m){return Iu.apply(this,arguments)}function Iu(){return(Iu=(0,h.Z)(function*(v,g,m){const I=(0,V.m9)(v),M=xa.credentialWithLink(g,m||Ve());return ie(M._tenantId===(I.tenantId||null),I,"tenant-id-mismatch"),bt(I,M)})).apply(this,arguments)}function Il(v,g){return ka.apply(this,arguments)}function ka(){return(ka=(0,h.Z)(function*(v,g){return Gt(v,"POST","/v1/accounts:createAuthUri",Qt(v,g))})).apply(this,arguments)}function Fa(v,g){return Go.apply(this,arguments)}function Go(){return(Go=(0,h.Z)(function*(v,g){const I={identifier:g,continueUri:Ue()?Ve():"http://localhost"},{signinMethods:M}=yield Il((0,V.m9)(v),I);return M||[]})).apply(this,arguments)}function Dl(v,g){return La.apply(this,arguments)}function La(){return(La=(0,h.Z)(function*(v,g){const m=(0,V.m9)(v),M={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};g&&jo(m.auth,M,g);const{email:P}=yield ml(m.auth,M);P!==v.email&&(yield v.reload())})).apply(this,arguments)}function Du(v,g,m){return zo.apply(this,arguments)}function zo(){return(zo=(0,h.Z)(function*(v,g,m){const I=(0,V.m9)(v),P={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:g};m&&jo(I.auth,P,m);const{email:ne}=yield Oi(I.auth,P);ne!==v.email&&(yield v.reload())})).apply(this,arguments)}function qc(v,g){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,h.Z)(function*(v,g){return Gt(v,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Zc(v,g){return qo.apply(this,arguments)}function qo(){return(qo=(0,h.Z)(function*(v,{displayName:g,photoURL:m}){if(void 0===g&&void 0===m)return;const I=(0,V.m9)(v),P={idToken:yield I.getIdToken(),displayName:g,photoUrl:m,returnSecureToken:!0},ne=yield An(I,qc(I.auth,P));I.displayName=ne.displayName||null,I.photoURL=ne.photoUrl||null;const xe=I.providerData.find(({providerId:Qe})=>"password"===Qe);xe&&(xe.displayName=I.displayName,xe.photoURL=I.photoURL),yield I._updateTokensIfNecessary(ne)})).apply(this,arguments)}function bu(v,g){return Va((0,V.m9)(v),g,null)}function Mh(v,g){return Va((0,V.m9)(v),null,g)}function Va(v,g,m){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,h.Z)(function*(v,g,m){const{auth:I}=v,P={idToken:yield v.getIdToken(),returnSecureToken:!0};g&&(P.email=g),m&&(P.password=m);const ne=yield An(v,pl(I,P));yield v._updateTokensIfNecessary(ne,!0)})).apply(this,arguments)}class mn{constructor(g,m,I={}){this.isNewUser=g,this.providerId=m,this.profile=I}}class xh extends mn{constructor(g,m,I,M){super(g,m,I),this.username=M}}class Nh extends mn{constructor(g,m){super(g,"facebook.com",m)}}class Rh extends xh{constructor(g,m){super(g,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class bl extends mn{constructor(g,m){super(g,"google.com",m)}}class Kc extends xh{constructor(g,m,I){super(g,"twitter.com",m,I)}}function Cl(v){const{user:g,_tokenResponse:m}=v;return g.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function Li(v){var g,m;if(!v)return null;const{providerId:I}=v,M=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},P=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!I&&v?.idToken){const ne=null===(m=null===(g=st(v.idToken))||void 0===g?void 0:g.firebase)||void 0===m?void 0:m.sign_in_provider;if(ne)return new mn(P,"anonymous"!==ne&&"custom"!==ne?ne:null)}if(!I)return null;switch(I){case"facebook.com":return new Nh(P,M);case"github.com":return new Rh(P,M);case"google.com":return new bl(P,M);case"twitter.com":return new Kc(P,M,v.screenName||null);case"custom":case"anonymous":return new mn(P,null);default:return new mn(P,I,M)}}(m)}function Ei(v){return(0,V.m9)(v).signOut()}class Ko{constructor(g,m){this.type=g,this.credential=m}static _fromIdtoken(g){return new Ko("enroll",g)}static _fromMfaPendingCredential(g){return new Ko("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var m,I;if(g?.multiFactorSession){if(null!==(m=g.multiFactorSession)&&void 0!==m&&m.pendingCredential)return Ko._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(I=g.multiFactorSession)&&void 0!==I&&I.idToken)return Ko._fromIdtoken(g.multiFactorSession.idToken)}return null}}class Yo{constructor(g,m,I){this.session=g,this.hints=m,this.signInResolver=I}static _fromError(g,m){const I=Fn(g),M=m.customData._serverResponse,P=(M.mfaInfo||[]).map(xe=>qt._fromServerResponse(I,xe));ie(M.mfaPendingCredential,I,"internal-error");const ne=Ko._fromMfaPendingCredential(M.mfaPendingCredential);return new Yo(ne,P,function(){var xe=(0,h.Z)(function*(Qe){const at=yield Qe._process(I,ne);delete M.mfaInfo,delete M.mfaPendingCredential;const Kt=Object.assign(Object.assign({},M),{idToken:at.idToken,refreshToken:at.refreshToken});switch(m.operationType){case"signIn":const Mn=yield _i._fromIdTokenResponse(I,m.operationType,Kt);return yield I._updateCurrentUser(Mn.user),Mn;case"reauthenticate":return ie(m.user,I,"internal-error"),_i._forOperation(m.user,m.operationType,Kt);default:tt(I,"internal-error")}});return function(Qe){return xe.apply(this,arguments)}}())}resolveSignIn(g){var m=this;return(0,h.Z)(function*(){return m.signInResolver(g)})()}}function Al(v,g){var m;const I=(0,V.m9)(v),M=g;return ie(g.customData.operationType,I,"argument-error"),ie(null===(m=M.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,I,"argument-error"),Yo._fromError(I,M)}function gr(v,g){return Gt(v,"POST","/v2/accounts/mfaEnrollment:start",Qt(v,g))}class Fh{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(I=>qt._fromServerResponse(g.auth,I)))})}static _fromUser(g){return new Fh(g)}getSession(){var g=this;return(0,h.Z)(function*(){return Ko._fromIdtoken(yield g.user.getIdToken())})()}enroll(g,m){var I=this;return(0,h.Z)(function*(){const M=g,P=yield I.getSession(),ne=yield An(I.user,M._process(I.user.auth,P,m));return yield I.user._updateTokensIfNecessary(ne),I.user.reload()})()}unenroll(g){var m=this;return(0,h.Z)(function*(){var I;const M="string"==typeof g?g:g.uid,P=yield m.user.getIdToken(),ne=yield An(m.user,function sy(v,g){return Gt(v,"POST","/v2/accounts/mfaEnrollment:withdraw",Qt(v,g))}(m.user.auth,{idToken:P,mfaEnrollmentId:M}));m.enrolledFactors=m.enrolledFactors.filter(({uid:xe})=>xe!==M),yield m.user._updateTokensIfNecessary(ne);try{yield m.user.reload()}catch(xe){if("auth/user-token-expired"!==(null===(I=xe)||void 0===I?void 0:I.code))throw xe}})()}}const Ba=new WeakMap;function Sl(v){const g=(0,V.m9)(v);return Ba.has(g)||Ba.set(g,Fh._fromUser(g)),Ba.get(g)}const ja="__sak";class Qo{constructor(g,m){this.storageRetriever=g,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(ja,"1"),this.storage.removeItem(ja),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,m){return this.storage.setItem(g,JSON.stringify(m)),Promise.resolve()}_get(g){const m=this.storage.getItem(g);return Promise.resolve(m?JSON.parse(m):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const ir=(()=>{class v extends Qo{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,I)=>this.onStorageEvent(m,I),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Lh(){const v=(0,V.z$)();return j(v)||zt(v)}()&&function Qs(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=rn(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const I of Object.keys(this.listeners)){const M=this.storage.getItem(I),P=this.localCache[I];M!==P&&m(I,P,M)}}onStorageEvent(m,I=!1){if(!m.key)return void this.forAllChangedKeys((xe,Qe,at)=>{this.notifyListeners(xe,at)});const M=m.key;if(I?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const xe=this.storage.getItem(M);if(m.newValue!==xe)null!==m.newValue?this.storage.setItem(M,m.newValue):this.storage.removeItem(M);else if(this.localCache[M]===m.newValue&&!I)return}const P=()=>{const xe=this.storage.getItem(M);!I&&this.localCache[M]===xe||this.notifyListeners(M,xe)},ne=this.storage.getItem(M);!function Vt(){return(0,V.w1)()&&10===document.documentMode}()||ne===m.newValue||m.newValue===m.oldValue?P():setTimeout(P,10)}notifyListeners(m,I){this.localCache[m]=I;const M=this.listeners[m];if(M)for(const P of Array.from(M))P(I&&JSON.parse(I))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,I,M)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:I,newValue:M}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,I){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(I)}_removeListener(m,I){this.listeners[m]&&(this.listeners[m].delete(I),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,I){var M=()=>super._set,P=this;return(0,h.Z)(function*(){yield M().call(P,m,I),P.localCache[m]=JSON.stringify(I)})()}_get(m){var I=()=>super._get,M=this;return(0,h.Z)(function*(){const P=yield I().call(M,m);return M.localCache[m]=JSON.stringify(P),P})()}_remove(m){var I=()=>super._remove,M=this;return(0,h.Z)(function*(){yield I().call(M,m),delete M.localCache[m]})()}}return v.type="LOCAL",v})(),Ha=(()=>{class v extends Qo{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,I){}_removeListener(m,I){}}return v.type="SESSION",v})();let Yc=(()=>{class v{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const I=this.receivers.find(P=>P.isListeningto(m));if(I)return I;const M=new v(m);return this.receivers.push(M),M}isListeningto(m){return this.eventTarget===m}handleEvent(m){var I=this;return(0,h.Z)(function*(){const M=m,{eventId:P,eventType:ne,data:xe}=M.data,Qe=I.handlersMap[ne];if(!Qe?.size)return;M.ports[0].postMessage({status:"ack",eventId:P,eventType:ne});const at=Array.from(Qe).map(function(){var Mn=(0,h.Z)(function*(fi){return fi(M.origin,xe)});return function(fi){return Mn.apply(this,arguments)}}()),Kt=yield function Ap(v){return Promise.all(v.map(function(){var g=(0,h.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(I){return{fulfilled:!1,reason:I}}});return function(m){return g.apply(this,arguments)}}()))}(at);M.ports[0].postMessage({status:"done",eventId:P,eventType:ne,response:Kt})})()}_subscribe(m,I){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(I)}_unsubscribe(m,I){this.handlersMap[m]&&I&&this.handlersMap[m].delete(I),(!I||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function cn(v="",g=10){let m="";for(let I=0;I<g;I++)m+=Math.floor(10*Math.random());return v+m}class Jo{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,m,I=50){var M=this;return(0,h.Z)(function*(){const P=typeof MessageChannel<"u"?new MessageChannel:null;if(!P)throw new Error("connection_unavailable");let ne,xe;return new Promise((Qe,at)=>{const Kt=cn("",20);P.port1.start();const Mn=setTimeout(()=>{at(new Error("unsupported_event"))},I);xe={messageChannel:P,onMessage(fi){const la=fi;if(la.data.eventId===Kt)switch(la.data.status){case"ack":clearTimeout(Mn),ne=setTimeout(()=>{at(new Error("timeout"))},3e3);break;case"done":clearTimeout(ne),Qe(la.data.response);break;default:clearTimeout(Mn),clearTimeout(ne),at(new Error("invalid_response"))}}},M.handlers.add(xe),P.port1.addEventListener("message",xe.onMessage),M.target.postMessage({eventType:g,eventId:Kt,data:m},[P.port2])}).finally(()=>{xe&&M.removeMessageHandler(xe)})})()}}function ze(){return window}function Qn(){return typeof ze().WorkerGlobalScope<"u"&&"function"==typeof ze().importScripts}function Vi(){return(Vi=(0,h.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Qc="firebaseLocalStorageDb",Ga="firebaseLocalStorage",Xo="fbase_key";class ea{constructor(g){this.request=g}toPromise(){return new Promise((g,m)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function Ui(v,g){return v.transaction([Ga],g?"readwrite":"readonly").objectStore(Ga)}function ls(){const v=indexedDB.open(Qc,1);return new Promise((g,m)=>{v.addEventListener("error",()=>{m(v.error)}),v.addEventListener("upgradeneeded",()=>{const I=v.result;try{I.createObjectStore(Ga,{keyPath:Xo})}catch(M){m(M)}}),v.addEventListener("success",(0,h.Z)(function*(){const I=v.result;I.objectStoreNames.contains(Ga)?g(I):(I.close(),yield function _t(){const v=indexedDB.deleteDatabase(Qc);return new ea(v).toPromise()}(),g(yield ls()))}))})}function Jc(v,g,m){return po.apply(this,arguments)}function po(){return(po=(0,h.Z)(function*(v,g,m){const I=Ui(v,!0).put({[Xo]:g,value:m});return new ea(I).toPromise()})).apply(this,arguments)}function Dn(){return(Dn=(0,h.Z)(function*(v,g){const m=Ui(v,!1).get(g),I=yield new ea(m).toPromise();return void 0===I?null:I.value})).apply(this,arguments)}function Mu(v,g){const m=Ui(v,!0).delete(g);return new ea(m).toPromise()}const cs=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,h.Z)(function*(){return m.db||(m.db=yield ls()),m.db})()}_withRetries(m){var I=this;return(0,h.Z)(function*(){let M=0;for(;;)try{const P=yield I._openDb();return yield m(P)}catch(P){if(M++>3)throw P;I.db&&(I.db.close(),I.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,h.Z)(function*(){return Qn()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,h.Z)(function*(){m.receiver=Yc._getInstance(function Au(){return Qn()?self:null}()),m.receiver._subscribe("keyChanged",function(){var I=(0,h.Z)(function*(M,P){return{keyProcessed:(yield m._poll()).includes(P.key)}});return function(M,P){return I.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var I=(0,h.Z)(function*(M,P){return["keyChanged"]});return function(M,P){return I.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,h.Z)(function*(){var I,M;if(m.activeServiceWorker=yield function Tu(){return Vi.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Jo(m.activeServiceWorker);const P=yield m.sender._send("ping",{},800);!P||(null===(I=P[0])||void 0===I?void 0:I.fulfilled)&&(null===(M=P[0])||void 0===M?void 0:M.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var I=this;return(0,h.Z)(function*(){if(I.sender&&I.activeServiceWorker&&function ei(){var v;return(null===(v=navigator?.serviceWorker)||void 0===v?void 0:v.controller)||null}()===I.activeServiceWorker)try{yield I.sender._send("keyChanged",{key:m},I.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,h.Z)(function*(){try{if(!indexedDB)return!1;const m=yield ls();return yield Jc(m,ja,"1"),yield Mu(m,ja),!0}catch{}return!1})()}_withPendingWrite(m){var I=this;return(0,h.Z)(function*(){I.pendingWrites++;try{yield m()}finally{I.pendingWrites--}})()}_set(m,I){var M=this;return(0,h.Z)(function*(){return M._withPendingWrite((0,h.Z)(function*(){return yield M._withRetries(P=>Jc(P,m,I)),M.localCache[m]=I,M.notifyServiceWorker(m)}))})()}_get(m){var I=this;return(0,h.Z)(function*(){const M=yield I._withRetries(P=>function Ml(v,g){return Dn.apply(this,arguments)}(P,m));return I.localCache[m]=M,M})()}_remove(m){var I=this;return(0,h.Z)(function*(){return I._withPendingWrite((0,h.Z)(function*(){return yield I._withRetries(M=>Mu(M,m)),delete I.localCache[m],I.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,h.Z)(function*(){const I=yield m._withRetries(ne=>{const xe=Ui(ne,!1).getAll();return new ea(xe).toPromise()});if(!I)return[];if(0!==m.pendingWrites)return[];const M=[],P=new Set;for(const{fbase_key:ne,value:xe}of I)P.add(ne),JSON.stringify(m.localCache[ne])!==JSON.stringify(xe)&&(m.notifyListeners(ne,xe),M.push(ne));for(const ne of Object.keys(m.localCache))m.localCache[ne]&&!P.has(ne)&&(m.notifyListeners(ne,null),M.push(ne));return M})()}notifyListeners(m,I){this.localCache[m]=I;const M=this.listeners[m];if(M)for(const P of Array.from(M))P(I)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,h.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,I){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(I)}_removeListener(m,I){this.listeners[m]&&(this.listeners[m].delete(I),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();function xl(v,g){return Gt(v,"POST","/v2/accounts/mfaSignIn:start",Qt(v,g))}function mr(){return(mr=(0,h.Z)(function*(v){return(yield Gt(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function go(v){return new Promise((g,m)=>{const I=document.createElement("script");I.setAttribute("src",v),I.onload=g,I.onerror=M=>{const P=Fe("internal-error");P.customData=M,m(P)},I.type="text/javascript",I.charset="UTF-8",function Nl(){var v,g;return null!==(g=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==g?g:document}().appendChild(I)})}function Lr(v){return`__${v}${Math.floor(1e6*Math.random())}`}const vt=1e12;class Ru{constructor(g){this.auth=g,this.counter=vt,this._widgets=new Map}render(g,m){const I=this.counter;return this._widgets.set(I,new Sp(g,this.auth.name,m||{})),this.counter++,I}reset(g){var m;const I=g||vt;null===(m=this._widgets.get(I))||void 0===m||m.delete(),this._widgets.delete(I)}getResponse(g){var m;return(null===(m=this._widgets.get(g||vt))||void 0===m?void 0:m.getResponse())||""}execute(g){var m=this;return(0,h.Z)(function*(){var I;return null===(I=m._widgets.get(g||vt))||void 0===I||I.execute(),""})()}}class Sp{constructor(g,m,I){this.params=I,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const M="string"==typeof g?document.getElementById(g):g;ie(M,"argument-error",{appName:m}),this.container=M,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function yr(v){const g=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let I=0;I<v;I++)g.push(m.charAt(Math.floor(Math.random()*m.length)));return g.join("")}(50);const{callback:g,"expired-callback":m}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ta=Lr("rcb"),Xc=new Ke(3e4,6e4);class Vr{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=ze().grecaptcha)||void 0===g||!g.render)}load(g,m=""){return ie(function ji(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(m),g,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(ze().grecaptcha):new Promise((I,M)=>{const P=ze().setTimeout(()=>{M(Fe(g,"network-request-failed"))},Xc.get());ze()[ta]=()=>{ze().clearTimeout(P),delete ze()[ta];const xe=ze().grecaptcha;if(!xe)return void M(Fe(g,"internal-error"));const Qe=xe.render;xe.render=(at,Kt)=>{const Mn=Qe(at,Kt);return this.counter++,Mn},this.hostLanguage=m,I(xe)},go(`https://www.google.com/recaptcha/api.js??${(0,V.xO)({onload:ta,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(P),M(Fe(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var m;return!(null===(m=ze().grecaptcha)||void 0===m||!m.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Mp{load(g){return(0,h.Z)(function*(){return new Ru(g)})()}clearedOneInstance(){}}const xp="recaptcha",In={theme:"light",type:"image"};class hs{constructor(g,m=Object.assign({},In),I){this.parameters=m,this.type=xp,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Fn(I),this.isInvisible="invisible"===this.parameters.size,ie(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const M="string"==typeof g?document.getElementById(g):g;ie(M,this.auth,"argument-error"),this.container=M,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Mp:new Vr,this.validateStartingState()}verify(){var g=this;return(0,h.Z)(function*(){g.assertNotDestroyed();const m=yield g.render(),I=g.getAssertedRecaptcha();return I.getResponse(m)||new Promise(P=>{const ne=xe=>{!xe||(g.tokenChangeListeners.delete(ne),P(xe))};g.tokenChangeListeners.add(ne),g.isInvisible&&I.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){ie(!this.parameters.sitekey,this.auth,"argument-error"),ie(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ie(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return m=>{if(this.tokenChangeListeners.forEach(I=>I(m)),"function"==typeof g)g(m);else if("string"==typeof g){const I=ze()[g];"function"==typeof I&&I(m)}}}assertNotDestroyed(){ie(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,h.Z)(function*(){if(yield g.init(),!g.widgetId){let m=g.container;if(!g.isInvisible){const I=document.createElement("div");m.appendChild(I),m=I}g.widgetId=g.getAssertedRecaptcha().render(m,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,h.Z)(function*(){ie(Ue()&&!Qn(),g.auth,"internal-error"),yield function Jn(){let v=null;return new Promise(g=>{"complete"!==document.readyState?(v=()=>g(),window.addEventListener("load",v)):g()}).catch(g=>{throw v&&window.removeEventListener("load",v),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const m=yield function ds(v){return mr.apply(this,arguments)}(g.auth);ie(m,g.auth,"internal-error"),g.parameters.sitekey=m})()}getAssertedRecaptcha(){return ie(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class fs{constructor(g,m){this.verificationId=g,this.onConfirmation=m}confirm(g){const m=os._fromVerification(this.verificationId,g);return this.onConfirmation(m)}}function Np(v,g,m){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,h.Z)(function*(v,g,m){const I=Fn(v),M=yield _o(I,g,(0,V.m9)(m));return new fs(M,P=>bt(I,P))})).apply(this,arguments)}function hi(v,g,m){return za.apply(this,arguments)}function za(){return(za=(0,h.Z)(function*(v,g,m){const I=(0,V.m9)(v);yield ao(!1,I,"phone");const M=yield _o(I.auth,g,(0,V.m9)(m));return new fs(M,P=>Ah(I,P))})).apply(this,arguments)}function Pu(v,g,m){return yo.apply(this,arguments)}function yo(){return(yo=(0,h.Z)(function*(v,g,m){const I=(0,V.m9)(v),M=yield _o(I.auth,g,(0,V.m9)(m));return new fs(M,P=>Wc(I,P))})).apply(this,arguments)}function _o(v,g,m){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,h.Z)(function*(v,g,m){var I;const M=yield m.verify();try{let P;if(ie("string"==typeof M,v,"argument-error"),ie(m.type===xp,v,"argument-error"),P="string"==typeof g?{phoneNumber:g}:g,"session"in P){const ne=P.session;if("phoneNumber"in P)return ie("enroll"===ne.type,v,"internal-error"),(yield gr(v,{idToken:ne.credential,phoneEnrollmentInfo:{phoneNumber:P.phoneNumber,recaptchaToken:M}})).phoneSessionInfo.sessionInfo;{ie("signin"===ne.type,v,"internal-error");const xe=(null===(I=P.multiFactorHint)||void 0===I?void 0:I.uid)||P.multiFactorUid;return ie(xe,v,"missing-multi-factor-info"),(yield xl(v,{mfaPendingCredential:ne.credential,mfaEnrollmentId:xe,phoneSignInInfo:{recaptchaToken:M}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ne}=yield Ep(v,{phoneNumber:P.phoneNumber,recaptchaToken:M});return ne}}finally{m._reset()}})).apply(this,arguments)}function jh(v,g){return na.apply(this,arguments)}function na(){return(na=(0,h.Z)(function*(v,g){yield as((0,V.m9)(v),g)})).apply(this,arguments)}let Rp=(()=>{class v{constructor(m){this.providerId=v.PROVIDER_ID,this.auth=Fn(m)}verifyPhoneNumber(m,I){return _o(this.auth,m,(0,V.m9)(I))}static credential(m,I){return os._fromVerification(m,I)}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:I,temporaryProof:M}=m;return I&&M?os._fromTokenResponse(I,M):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function ps(v,g){return g?te(g):(ie(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class bn extends Jr{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return no(g,this._buildIdpRequest())}_linkToIdToken(g,m){return no(g,this._buildIdpRequest(m))}_getReauthenticationResolver(g){return no(g,this._buildIdpRequest())}_buildIdpRequest(g){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(m.idToken=g),m}}function Wa(v){return Rs(v.auth,new bn(v),v.bypassAuthState)}function Os(v){const{auth:g,user:m}=v;return ie(m,g,"internal-error"),Ns(m,new bn(v),v.bypassAuthState)}function $h(v){return qa.apply(this,arguments)}function qa(){return(qa=(0,h.Z)(function*(v){const{auth:g,user:m}=v;return ie(m,g,"internal-error"),as(m,new bn(v),v.bypassAuthState)})).apply(this,arguments)}class Gn{constructor(g,m,I,M,P=!1){this.auth=g,this.resolver=I,this.user=M,this.bypassAuthState=P,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var g=this;return new Promise(function(){var m=(0,h.Z)(function*(I,M){g.pendingPromise={resolve:I,reject:M};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(P){g.reject(P)}});return function(I,M){return m.apply(this,arguments)}}())}onAuthEvent(g){var m=this;return(0,h.Z)(function*(){const{urlResponse:I,sessionId:M,postBody:P,tenantId:ne,error:xe,type:Qe}=g;if(xe)return void m.reject(xe);const at={auth:m.auth,requestUri:I,sessionId:M,tenantId:ne||void 0,postBody:P||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Qe)(at))}catch(Kt){m.reject(Kt)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return Wa;case"linkViaPopup":case"linkViaRedirect":return $h;case"reauthViaPopup":case"reauthViaRedirect":return Os;default:tt(this.auth,"internal-error")}}resolve(g){_e(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){_e(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Di=new Ke(2e3,1e4);function Za(v,g,m){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,h.Z)(function*(v,g,m){const I=Fn(v);be(v,g,ci);const M=ps(I,m);return new ed(I,"signInViaPopup",g,M).executeNotNull()})).apply(this,arguments)}function Pl(v,g,m){return ra.apply(this,arguments)}function ra(){return(ra=(0,h.Z)(function*(v,g,m){const I=(0,V.m9)(v);be(I.auth,g,ci);const M=ps(I.auth,m);return new ed(I.auth,"reauthViaPopup",g,M,I).executeNotNull()})).apply(this,arguments)}function Ol(v,g,m){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,h.Z)(function*(v,g,m){const I=(0,V.m9)(v);be(I.auth,g,ci);const M=ps(I.auth,m);return new ed(I.auth,"linkViaPopup",g,M,I).executeNotNull()})).apply(this,arguments)}let ed=(()=>{class v extends Gn{constructor(m,I,M,P,ne){super(m,I,P,ne),this.provider=M,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var m=this;return(0,h.Z)(function*(){const I=yield m.execute();return ie(I,m.auth,"internal-error"),I})()}onExecution(){var m=this;return(0,h.Z)(function*(){_e(1===m.filter.length,"Popup operations only handle one event");const I=cn();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],I),m.authWindow.associatedEvent=I,m.resolver._originValidation(m.auth).catch(M=>{m.reject(M)}),m.resolver._isIframeWebStorageSupported(m.auth,M=>{M||m.reject(Fe(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Fe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const m=()=>{var I,M;this.pollId=null!==(M=null===(I=this.authWindow)||void 0===I?void 0:I.window)&&void 0!==M&&M.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Fe(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,Di.get())};m()}}return v.currentPopupAction=null,v})();const ks=new Map;class $i extends Gn{constructor(g,m,I=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,I),this.eventId=null}execute(){var g=()=>super.execute,m=this;return(0,h.Z)(function*(){let I=ks.get(m.auth._key());if(!I){try{const P=(yield function Ja(v,g){return gs.apply(this,arguments)}(m.resolver,m.auth))?yield g().call(m):null;I=()=>Promise.resolve(P)}catch(M){I=()=>Promise.reject(M)}ks.set(m.auth._key(),I)}return m.bypassAuthState||ks.set(m.auth._key(),()=>Promise.resolve(null)),I()})()}onAuthEvent(g){var m=()=>super.onAuthEvent,I=this;return(0,h.Z)(function*(){if("signInViaRedirect"===g.type)return m().call(I,g);if("unknown"!==g.type){if(g.eventId){const M=yield I.auth._redirectUserForId(g.eventId);if(M)return I.user=M,m().call(I,g);I.resolve(null)}}else I.resolve(null)})()}onExecution(){return(0,h.Z)(function*(){})()}cleanUp(){}}function gs(){return(gs=(0,h.Z)(function*(v,g){const m=Vn(g),I=Hh(v);if(!(yield I._isAvailable()))return!1;const M="true"===(yield I._get(m));return yield I._remove(m),M})).apply(this,arguments)}function Zt(v,g){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,h.Z)(function*(v,g){return Hh(v)._set(Vn(g),"true")})).apply(this,arguments)}function Xa(){ks.clear()}function Xn(v,g){ks.set(v._key(),g)}function Hh(v){return te(v._redirectPersistence)}function Vn(v){return un("pendingRedirect",v.config.apiKey,v.name)}function eu(v,g,m){return function td(v,g,m){return Fs.apply(this,arguments)}(v,g,m)}function Fs(){return(Fs=(0,h.Z)(function*(v,g,m){const I=Fn(v);be(v,g,ci);const M=ps(I,m);return yield Zt(M,I),M._openRedirect(I,g,"signInViaRedirect")})).apply(this,arguments)}function ms(v,g,m){return function b(v,g,m){return C.apply(this,arguments)}(v,g,m)}function C(){return(C=(0,h.Z)(function*(v,g,m){const I=(0,V.m9)(v);be(I.auth,g,ci);const M=ps(I.auth,m);yield Zt(M,I.auth);const P=yield St(I);return M._openRedirect(I.auth,g,"reauthViaRedirect",P)})).apply(this,arguments)}function x(v,g,m){return function F(v,g,m){return J.apply(this,arguments)}(v,g,m)}function J(){return(J=(0,h.Z)(function*(v,g,m){const I=(0,V.m9)(v);be(I.auth,g,ci);const M=ps(I.auth,m);yield ao(!1,I,g.providerId),yield Zt(M,I.auth);const P=yield St(I);return M._openRedirect(I.auth,g,"linkViaRedirect",P)})).apply(this,arguments)}function le(v,g){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,h.Z)(function*(v,g){return yield Fn(v)._initializationPromise,Ye(v,g,!1)})).apply(this,arguments)}function Ye(v,g){return yt.apply(this,arguments)}function yt(){return(yt=(0,h.Z)(function*(v,g,m=!1){const I=Fn(v),M=ps(I,g),ne=yield new $i(I,M,m).execute();return ne&&!m&&(delete ne.user._redirectEventId,yield I._persistUserIfCurrent(ne.user),yield I._setRedirectUser(null,g)),ne})).apply(this,arguments)}function St(v){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,h.Z)(function*(v){const g=cn(`${v.uid}:::`);return v._redirectEventId=g,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),g})).apply(this,arguments)}class _r{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let m=!1;return this.consumers.forEach(I=>{this.isEventForConsumer(g,I)&&(m=!0,this.sendToConsumer(g,I),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function ys(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Hi(v);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=g,m=!0)),m}sendToConsumer(g,m){var I;if(g.error&&!Hi(g)){const M=(null===(I=g.error.code)||void 0===I?void 0:I.split("auth/")[1])||"internal-error";m.onError(Fe(this.auth,M))}else m.onAuthEvent(g)}isEventForConsumer(g,m){const I=null===m.eventId||!!g.eventId&&g.eventId===m.eventId;return m.filter.includes(g.type)&&I}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Br(g))}saveEventToCache(g){this.cachedEventUids.add(Br(g)),this.lastProcessedEventTime=Date.now()}}function Br(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(g=>g).join("-")}function Hi({type:v,error:g}){return"unknown"===v&&"auth/no-auth-event"===g?.code}function _s(v){return tu.apply(this,arguments)}function tu(){return(tu=(0,h.Z)(function*(v,g={}){return Gt(v,"GET","/v1/projects",g)})).apply(this,arguments)}const Ou=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bi=/^https?/;function vo(){return(vo=(0,h.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:g}=yield _s(v);for(const m of g)try{if(nd(m))return}catch{}tt(v,"unauthorized-domain")})).apply(this,arguments)}function nd(v){const g=Ve(),{protocol:m,hostname:I}=new URL(g);if(v.startsWith("chrome-extension://")){const ne=new URL(v);return""===ne.hostname&&""===I?"chrome-extension:"===m&&v.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===m&&ne.hostname===I}if(!bi.test(m))return!1;if(Ou.test(v))return I===v;const M=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+M+"|"+M+")$","i").test(I)}const ay=new Ke(3e4,6e4);function kl(){const v=ze().___jsl;if(v?.H)for(const g of Object.keys(v.H))if(v.H[g].r=v.H[g].r||[],v.H[g].L=v.H[g].L||[],v.H[g].r=[...v.H[g].L],v.CP)for(let m=0;m<v.CP.length;m++)v.CP[m]=null}let ia=null;function nu(v){return ia=ia||function ku(v){return new Promise((g,m)=>{var I,M,P;function ne(){kl(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{kl(),m(Fe(v,"network-request-failed"))},timeout:ay.get()})}if(null!==(M=null===(I=ze().gapi)||void 0===I?void 0:I.iframes)&&void 0!==M&&M.Iframe)g(gapi.iframes.getContext());else{if(null===(P=ze().gapi)||void 0===P||!P.load){const xe=Lr("iframefcb");return ze()[xe]=()=>{gapi.load?ne():m(Fe(v,"network-request-failed"))},go(`https://apis.google.com/js/api.js?onload=${xe}`).catch(Qe=>m(Qe))}ne()}}).catch(g=>{throw ia=null,g})}(v),ia}const uy=new Ke(5e3,15e3),sa={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cy=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Pp(v){const g=v.config;ie(g.authDomain,v,"auth-domain-config-required");const m=g.emulator?yn(g,"emulator/auth/iframe"):`https://${v.config.authDomain}/__/auth/iframe`,I={apiKey:g.apiKey,appName:v.name,v:R.SDK_VERSION},M=cy.get(v.config.apiHost);M&&(I.eid=M);const P=v._getFrameworks();return P.length&&(I.fw=P.join(",")),`${m}?${(0,V.xO)(I).slice(1)}`}function Ll(){return Ll=(0,h.Z)(function*(v){const g=yield nu(v),m=ze().gapi;return ie(m,v,"internal-error"),g.open({where:document.body,url:Pp(v),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sa,dontclear:!0},I=>new Promise(function(){var M=(0,h.Z)(function*(P,ne){yield I.restyle({setHideOnLeave:!1});const xe=Fe(v,"network-request-failed"),Qe=ze().setTimeout(()=>{ne(xe)},uy.get());function at(){ze().clearTimeout(Qe),P(I)}I.ping(at).then(at,()=>{ne(xe)})});return function(P,ne){return M.apply(this,arguments)}}()))}),Ll.apply(this,arguments)}const oa={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ul{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Fu(v,g,m,I,M,P){ie(v.config.authDomain,v,"auth-domain-config-required"),ie(v.config.apiKey,v,"invalid-api-key");const ne={apiKey:v.config.apiKey,appName:v.name,authType:m,redirectUrl:I,v:R.SDK_VERSION,eventId:M};if(g instanceof ci){g.setDefaultLanguage(v.languageCode),ne.providerId=g.providerId||"",(0,V.xb)(g.getCustomParameters())||(ne.customParameters=JSON.stringify(g.getCustomParameters()));for(const[Qe,at]of Object.entries(P||{}))ne[Qe]=at}if(g instanceof ro){const Qe=g.getScopes().filter(at=>""!==at);Qe.length>0&&(ne.scopes=Qe.join(","))}v.tenantId&&(ne.tid=v.tenantId);const xe=ne;for(const Qe of Object.keys(xe))void 0===xe[Qe]&&delete xe[Qe];return`${function kp({config:v}){return v.emulator?yn(v,"emulator/auth/handler"):`https://${v.authDomain}/__/auth/handler`}(v)}?${(0,V.xO)(xe).slice(1)}`}const Wh="webStorageSupport",Fp=class hy{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ha,this._completeRedirectFn=Ye,this._overrideRedirectResult=Xn}_openPopup(g,m,I,M){var P=this;return(0,h.Z)(function*(){var ne;_e(null===(ne=P.eventManagers[g._key()])||void 0===ne?void 0:ne.manager,"_initialize() not called before _openPopup()");const xe=Fu(g,m,I,Ve(),M);return function zh(v,g,m,I=500,M=600){const P=Math.max((window.screen.availHeight-M)/2,0).toString(),ne=Math.max((window.screen.availWidth-I)/2,0).toString();let xe="";const Qe=Object.assign(Object.assign({},oa),{width:I.toString(),height:M.toString(),top:P,left:ne}),at=(0,V.z$)().toLowerCase();m&&(xe=Ee(at)?"_blank":m),z(at)&&(g=g||"http://localhost",Qe.scrollbars="yes");const Kt=Object.entries(Qe).reduce((fi,[la,Bl])=>`${fi}${la}=${Bl},`,"");if(function gn(v=(0,V.z$)()){var g;return zt(v)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(at)&&"_self"!==xe)return function Vs(v,g){const m=document.createElement("a");m.href=v,m.target=g;const I=document.createEvent("MouseEvent");I.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(I)}(g||"",xe),new Ul(null);const Mn=window.open(g||"",xe,Kt);ie(Mn,v,"popup-blocked");try{Mn.focus()}catch{}return new Ul(Mn)}(g,xe,cn())})()}_openRedirect(g,m,I,M){var P=this;return(0,h.Z)(function*(){return yield P._originValidation(g),function us(v){ze().location.href=v}(Fu(g,m,I,Ve(),M)),new Promise(()=>{})})()}_initialize(g){const m=g._key();if(this.eventManagers[m]){const{manager:M,promise:P}=this.eventManagers[m];return M?Promise.resolve(M):(_e(P,"If manager is not set, promise should be"),P)}const I=this.initAndGetManager(g);return this.eventManagers[m]={promise:I},I.catch(()=>{delete this.eventManagers[m]}),I}initAndGetManager(g){var m=this;return(0,h.Z)(function*(){const I=yield function Fl(v){return Ll.apply(this,arguments)}(g),M=new _r(g);return I.register("authEvent",P=>(ie(P?.authEvent,g,"invalid-auth-event"),{status:M.onEvent(P.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[g._key()]={manager:M},m.iframes[g._key()]=I,M})()}_isIframeWebStorageSupported(g,m){this.iframes[g._key()].send(Wh,{type:Wh},M=>{var P;const ne=null===(P=M?.[0])||void 0===P?void 0:P[Wh];void 0!==ne&&m(!!ne),tt(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const m=g._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Ls(v){return vo.apply(this,arguments)}(g)),this.originValidationPromises[m]}get _shouldInitProactively(){return rn()||j()||zt()}};class ru extends class ua{constructor(g){this.factorId=g}_process(g,m,I){switch(m.type){case"enroll":return this._finalizeEnroll(g,m.credential,I);case"signin":return this._finalizeSignIn(g,m.credential);default:return ue("unexpected MultiFactorSessionType")}}}{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new ru(g)}_finalizeEnroll(g,m,I){return function kh(v,g){return Gt(v,"POST","/v2/accounts/mfaEnrollment:finalize",Qt(v,g))}(g,{idToken:m,displayName:I,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,m){return function Bi(v,g){return Gt(v,"POST","/v2/accounts/mfaSignIn:finalize",Qt(v,g))}(g,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let fy=(()=>{class v{constructor(){}static assertion(m){return ru._fromCredential(m)}}return v.FACTOR_ID="phone",v})();var py="@firebase/auth";class Rw{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var m=this;return(0,h.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const m=this.auth.onIdTokenChanged(I=>{var M;g((null===(M=I)||void 0===M?void 0:M.stsTokenManager.accessToken)||null)});this.internalListeners.set(g,m),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const m=this.internalListeners.get(g);!m||(this.internalListeners.delete(g),m(),this.updateProactiveRefresh())}assertAuthConfigured(){ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function qh(v=(0,R.getApp)()){const g=(0,R._getProvider)(v,"auth");return g.isInitialized()?g.getImmediate():function fe(v,g){const m=(0,R._getProvider)(v,"auth");if(m.isInitialized()){const M=m.getImmediate(),P=m.getOptions();if((0,V.vZ)(P,g??{}))return M;tt(M,"already-initialized")}return m.initialize({options:g})}(v,{popupRedirectResolver:Fp,persistence:[cs,ir,Ha]})}!function Ow(v){(0,R._registerComponent)(new ye.wA("auth",(g,{options:m})=>{const I=g.getProvider("app").getImmediate(),M=g.getProvider("heartbeat"),{apiKey:P,authDomain:ne}=I.options;return((xe,Qe)=>{ie(P&&!P.includes(":"),"invalid-api-key",{appName:xe.name}),ie(!ne?.includes(":"),"argument-error",{appName:xe.name});const at={apiKey:P,authDomain:ne,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rs(v)},Kt=new Aa(xe,Qe,at);return function oe(v,g){const m=g?.persistence||[],I=(Array.isArray(m)?m:[m]).map(te);g?.errorMap&&v._updateErrorMap(g.errorMap),v._initializeWithPersistence(I,g?.popupRedirectResolver)}(Kt,m),Kt})(I,M)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,m,I)=>{g.getProvider("auth-internal").initialize()})),(0,R._registerComponent)(new ye.wA("auth-internal",g=>{const m=Fn(g.getProvider("auth").getImmediate());return new Rw(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,R.registerVersion)(py,"0.20.5",function Pw(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,R.registerVersion)(py,"0.20.5","esm2017")}("Browser")},2090:(ht,Re,O)=>{O.d(Re,{$s:()=>kr,BH:()=>$e,G6:()=>ie,L:()=>he,LL:()=>Ve,Mn:()=>be,Sg:()=>ke,UG:()=>we,US:()=>ye,ZB:()=>G,ZR:()=>oe,b$:()=>tt,d:()=>Fe,eu:()=>_e,hl:()=>ue,jU:()=>ge,m9:()=>Rt,ne:()=>ft,pd:()=>Bn,r3:()=>Qt,ru:()=>et,tV:()=>ve,uI:()=>it,vZ:()=>Ar,w1:()=>Oe,xO:()=>oi,xb:()=>Tr,z$:()=>De,zI:()=>X,zd:()=>ai});const se=function(Q){const $=[];let U=0;for(let W=0;W<Q.length;W++){let Z=Q.charCodeAt(W);Z<128?$[U++]=Z:Z<2048?($[U++]=Z>>6|192,$[U++]=63&Z|128):55296==(64512&Z)&&W+1<Q.length&&56320==(64512&Q.charCodeAt(W+1))?(Z=65536+((1023&Z)<<10)+(1023&Q.charCodeAt(++W)),$[U++]=Z>>18|240,$[U++]=Z>>12&63|128,$[U++]=Z>>6&63|128,$[U++]=63&Z|128):($[U++]=Z>>12|224,$[U++]=Z>>6&63|128,$[U++]=63&Z|128)}return $},ye={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Q,$){if(!Array.isArray(Q))throw Error("encodeByteArray takes an array as a parameter");this.init_();const U=$?this.byteToCharMapWebSafe_:this.byteToCharMap_,W=[];for(let Z=0;Z<Q.length;Z+=3){const Ae=Q[Z],Ge=Z+1<Q.length,Dt=Ge?Q[Z+1]:0,an=Z+2<Q.length,un=an?Q[Z+2]:0;let z=(15&Dt)<<2|un>>6,j=63&un;an||(j=64,Ge||(z=64)),W.push(U[Ae>>2],U[(3&Ae)<<4|Dt>>4],U[z],U[j])}return W.join("")},encodeString(Q,$){return this.HAS_NATIVE_SUPPORT&&!$?btoa(Q):this.encodeByteArray(se(Q),$)},decodeString(Q,$){return this.HAS_NATIVE_SUPPORT&&!$?atob(Q):function(Q){const $=[];let U=0,W=0;for(;U<Q.length;){const Z=Q[U++];if(Z<128)$[W++]=String.fromCharCode(Z);else if(Z>191&&Z<224){const Ae=Q[U++];$[W++]=String.fromCharCode((31&Z)<<6|63&Ae)}else if(Z>239&&Z<365){const an=((7&Z)<<18|(63&Q[U++])<<12|(63&Q[U++])<<6|63&Q[U++])-65536;$[W++]=String.fromCharCode(55296+(an>>10)),$[W++]=String.fromCharCode(56320+(1023&an))}else{const Ae=Q[U++],Ge=Q[U++];$[W++]=String.fromCharCode((15&Z)<<12|(63&Ae)<<6|63&Ge)}}return $.join("")}(this.decodeStringToByteArray(Q,$))},decodeStringToByteArray(Q,$){this.init_();const U=$?this.charToByteMapWebSafe_:this.charToByteMap_,W=[];for(let Z=0;Z<Q.length;){const Ae=U[Q.charAt(Z++)],Dt=Z<Q.length?U[Q.charAt(Z)]:0;++Z;const un=Z<Q.length?U[Q.charAt(Z)]:64;++Z;const Y=Z<Q.length?U[Q.charAt(Z)]:64;if(++Z,null==Ae||null==Dt||null==un||null==Y)throw Error();W.push(Ae<<2|Dt>>4),64!==un&&(W.push(Dt<<4&240|un>>2),64!==Y&&W.push(un<<6&192|Y))}return W},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Q=0;Q<this.ENCODED_VALS.length;Q++)this.byteToCharMap_[Q]=this.ENCODED_VALS.charAt(Q),this.charToByteMap_[this.byteToCharMap_[Q]]=Q,this.byteToCharMapWebSafe_[Q]=this.ENCODED_VALS_WEBSAFE.charAt(Q),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Q]]=Q,Q>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Q)]=Q,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Q)]=Q)}}},he=function(Q){return function(Q){const $=se(Q);return ye.encodeByteArray($,!0)}(Q).replace(/\./g,"")},ve=function(Q){try{return ye.decodeString(Q,!0)}catch($){console.error("base64Decode failed: ",$)}return null};function G(Q,$){if(!($ instanceof Object))return $;switch($.constructor){case Date:return new Date($.getTime());case Object:void 0===Q&&(Q={});break;case Array:Q=[];break;default:return $}for(const U in $)!$.hasOwnProperty(U)||!ee(U)||(Q[U]=G(Q[U],$[U]));return Q}function ee(Q){return"__proto__"!==Q}class $e{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(($,U)=>{this.resolve=$,this.reject=U})}wrapCallback($){return(U,W)=>{U?this.reject(U):this.resolve(W),"function"==typeof $&&(this.promise.catch(()=>{}),1===$.length?$(U):$(U,W))}}}function ke(Q,$){if(Q.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const W=$||"demo-project",Z=Q.iat||0,Ae=Q.sub||Q.user_id;if(!Ae)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ge=Object.assign({iss:`https://securetoken.google.com/${W}`,aud:W,iat:Z,exp:Z+3600,auth_time:Z,sub:Ae,user_id:Ae,firebase:{sign_in_provider:"custom",identities:{}}},Q);return[he(JSON.stringify({alg:"none",type:"JWT"})),he(JSON.stringify(Ge)),""].join(".")}function De(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function it(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(De())}function we(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function ge(){return"object"==typeof self&&self.self===self}function et(){const Q="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Q&&void 0!==Q.id}function tt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Fe(){return De().indexOf("Electron/")>=0}function Oe(){const Q=De();return Q.indexOf("MSIE ")>=0||Q.indexOf("Trident/")>=0}function be(){return De().indexOf("MSAppHost/")>=0}function ie(){return!we()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ue(){return"object"==typeof indexedDB}function _e(){return new Promise((Q,$)=>{try{let U=!0;const W="validate-browser-context-for-indexeddb-analytics-module",Z=self.indexedDB.open(W);Z.onsuccess=()=>{Z.result.close(),U||self.indexedDB.deleteDatabase(W),Q(!0)},Z.onupgradeneeded=()=>{U=!1},Z.onerror=()=>{var Ae;$((null===(Ae=Z.error)||void 0===Ae?void 0:Ae.message)||"")}}catch(U){$(U)}})}function X(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class oe extends Error{constructor($,U,W){super(U),this.code=$,this.customData=W,this.name="FirebaseError",Object.setPrototypeOf(this,oe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ve.prototype.create)}}class Ve{constructor($,U,W){this.service=$,this.serviceName=U,this.errors=W}create($,...U){const W=U[0]||{},Z=`${this.service}/${$}`,Ae=this.errors[$],Ge=Ae?function Ue(Q,$){return Q.replace(gt,(U,W)=>{const Z=$[W];return null!=Z?String(Z):`<${W}?>`})}(Ae,W):"Error";return new oe(Z,`${this.serviceName}: ${Ge} (${Z}).`,W)}}const gt=/\{\$([^}]+)}/g;function Qt(Q,$){return Object.prototype.hasOwnProperty.call(Q,$)}function Tr(Q){for(const $ in Q)if(Object.prototype.hasOwnProperty.call(Q,$))return!1;return!0}function Ar(Q,$){if(Q===$)return!0;const U=Object.keys(Q),W=Object.keys($);for(const Z of U){if(!W.includes(Z))return!1;const Ae=Q[Z],Ge=$[Z];if(Tn(Ae)&&Tn(Ge)){if(!Ar(Ae,Ge))return!1}else if(Ae!==Ge)return!1}for(const Z of W)if(!U.includes(Z))return!1;return!0}function Tn(Q){return null!==Q&&"object"==typeof Q}function oi(Q){const $=[];for(const[U,W]of Object.entries(Q))Array.isArray(W)?W.forEach(Z=>{$.push(encodeURIComponent(U)+"="+encodeURIComponent(Z))}):$.push(encodeURIComponent(U)+"="+encodeURIComponent(W));return $.length?"&"+$.join("&"):""}function ai(Q){const $={};return Q.replace(/^\?/,"").split("&").forEach(W=>{if(W){const[Z,Ae]=W.split("=");$[decodeURIComponent(Z)]=decodeURIComponent(Ae)}}),$}function Bn(Q){const $=Q.indexOf("?");if(!$)return"";const U=Q.indexOf("#",$);return Q.substring($,U>0?U:void 0)}function ft(Q,$){const U=new _n(Q,$);return U.subscribe.bind(U)}class _n{constructor($,U){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=U,this.task.then(()=>{$(this)}).catch(W=>{this.error(W)})}next($){this.forEachObserver(U=>{U.next($)})}error($){this.forEachObserver(U=>{U.error($)}),this.close($)}complete(){this.forEachObserver($=>{$.complete()}),this.close()}subscribe($,U,W){let Z;if(void 0===$&&void 0===U&&void 0===W)throw new Error("Missing Observer.");Z=function nn(Q,$){if("object"!=typeof Q||null===Q)return!1;for(const U of $)if(U in Q&&"function"==typeof Q[U])return!0;return!1}($,["next","error","complete"])?$:{next:$,error:U,complete:W},void 0===Z.next&&(Z.next=rr),void 0===Z.error&&(Z.error=rr),void 0===Z.complete&&(Z.complete=rr);const Ae=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Z.error(this.finalError):Z.complete()}catch{}}),this.observers.push(Z),Ae}unsubscribeOne($){void 0===this.observers||void 0===this.observers[$]||(delete this.observers[$],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver($){if(!this.finalized)for(let U=0;U<this.observers.length;U++)this.sendOne(U,$)}sendOne($,U){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[$])try{U(this.observers[$])}catch(W){typeof console<"u"&&console.error&&console.error(W)}})}close($){this.finalized||(this.finalized=!0,void 0!==$&&(this.finalError=$),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function rr(){}function kr(Q,$=1e3,U=2){const W=$*Math.pow(U,Q),Z=Math.round(.5*W*(Math.random()-.5)*2);return Math.min(144e5,W+Z)}function Rt(Q){return Q&&Q._delegate?Q._delegate:Q}},2054:(ht,Re,O)=>{var h=O(4650);let V=null;function R(){return V}const pe=new h.OlP("DocumentToken");let he=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return function ve(){return(0,h.LFG)(G)}()},providedIn:"platform"}),n})();const H=new h.OlP("Location Initialized");let G=(()=>{class n extends he{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return R().getBaseHref(this._doc)}onPopState(t){const r=R().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=R().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){ee()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){ee()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(pe))},n.\u0275prov=h.Yz7({token:n,factory:function(){return function $e(){return new G((0,h.LFG)(pe))}()},providedIn:"platform"}),n})();function ee(){return!!window.history.pushState}function ke(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function De(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function it(n){return n&&"?"!==n[0]?"?"+n:n}let we=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.f3M)(et)},providedIn:"root"}),n})();const ge=new h.OlP("appBaseHref");let et=(()=>{class n extends we{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,h.f3M)(pe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return ke(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+it(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,u){const c=this.prepareExternalUrl(i+it(u));this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,u){const c=this.prepareExternalUrl(i+it(u));this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(he),h.LFG(ge,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tt=(()=>{class n extends we{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=ke(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,u){let c=this.prepareExternalUrl(i+it(u));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,u){let c=this.prepareExternalUrl(i+it(u));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(he),h.LFG(ge,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),Fe=(()=>{class n{constructor(t){this._subject=new h.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._baseHref=De(Ze(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+it(r))}normalize(t){return n.stripTrailingSlash(function be(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Ze(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+it(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+it(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=it,n.joinWithSlash=ke,n.stripTrailingSlash=De,n.\u0275fac=function(t){return new(t||n)(h.LFG(we))},n.\u0275prov=h.Yz7({token:n,factory:function(){return function Oe(){return new Fe((0,h.LFG)(we))}()},providedIn:"root"}),n})();function Ze(n){return n.replace(/\/index.html$/,"")}function pl(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(u)}return null}let Tp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();function _l(n){return"server"===n}let Ra=(()=>{class n{}return n.\u0275prov=(0,h.Yz7)({token:n,providedIn:"root",factory:()=>new Xr((0,h.LFG)(pe),window)}),n})();class Xr{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function oo(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const u=i.shadowRoot;if(u){const c=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(c)return c}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],i-u[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=xs(this.window.history)||xs(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function xs(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class fr{}class ki extends class ao extends class ye{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ae(n){V||(V=n)}(new ki)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Fi(){return Ns=Ns||document.querySelector("base"),Ns?Ns.getAttribute("href"):null}();return null==t?null:function uo(n){Rs=Rs||document.createElement("a"),Rs.setAttribute("href",n);const e=Rs.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Ns=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return pl(document.cookie,e)}}let Rs,Ns=null;const bt=new h.OlP("TRANSITION_ID"),Ah=[{provide:h.ip1,useFactory:function jn(n,e,t){return()=>{t.get(h.CZH).donePromise.then(()=>{const r=R(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let u=0;u<i.length;u++)r.remove(i[u])})}},deps:[bt,pe,h.zs3],multi:!0}];let Wc=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const Ps=new h.OlP("EventManagerPlugins");let Vo=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let u=0;u<i.length;u++){const c=i[u];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Ps),h.LFG(h.R0b))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class Uo{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=R().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let Eu=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),Me=(()=>{class n extends Eu{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(u=>{const c=this._doc.createElement("style");c.textContent=u,i.push(r.appendChild(c))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(qt),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(qt))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(pe))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function qt(n){R().remove(n)}const Bo={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},jo=/%COMP%/g;function Oa(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Oa(n,i,t):(i=i.replace(jo,n),t.push(i))}return t}function Ho(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let vi=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new pr(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case h.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new wi(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case h.ifc.ShadowDom:return new Sh(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=Oa(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Vo),h.LFG(Me),h.LFG(h.AFp))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class pr{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Bo[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(ho(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(ho(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const u=Bo[i];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Bo[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(h.JOm.DashCase|h.JOm.Important)?e.style.setProperty(t,r,i&h.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&h.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Ho(r)):this.eventManager.addEventListener(e,t,Ho(r))}}function ho(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class wi extends pr{constructor(e,t,r,i){super(e),this.component=r;const u=Oa(i+"-"+r.id,r.styles,[]);t.addStyles(u),this.contentAttr=function vl(n){return"_ngcontent-%COMP%".replace(jo,n)}(i+"-"+r.id),this.hostAttr=function co(n){return"_nghost-%COMP%".replace(jo,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class Sh extends pr{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=Oa(i.id,i.styles,[]);for(let c=0;c<u.length;c++){const f=document.createElement("style");f.textContent=u[c],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let El=(()=>{class n extends Uo{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(pe))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const Iu=["alt","control","meta","shift"],ka={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Fa={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Go={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Dl=(()=>{class n extends Uo{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const u=n.parseEventName(r),c=n.eventCallback(u.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>R().onAndCancel(t,u.domEventName,c))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const u=n._normalizeKey(r.pop());let c="";if(Iu.forEach(y=>{const E=r.indexOf(y);E>-1&&(r.splice(E,1),c+=y+".")}),c+=u,0!=r.length||0===u.length)return null;const f={};return f.domEventName=i,f.fullKey=c,f}static getEventFullKey(t){let r="",i=function La(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&Fa.hasOwnProperty(e)&&(e=Fa[e]))}return ka[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Iu.forEach(u=>{u!=i&&(0,Go[u])(t)&&(r+=u+".")}),r+=i,r}static eventCallback(t,r,i){return u=>{n.getEventFullKey(u)===t&&i.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(pe))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const Mh=(0,h.eFA)(h._c5,"browser",[{provide:h.Lbi,useValue:"browser"},{provide:h.g9A,useValue:function Wo(){ki.makeCurrent()},multi:!0},{provide:pe,useFactory:function qo(){return(0,h.RDi)(document),document},deps:[]}]),Va=new h.OlP(""),Yn=[{provide:h.rWj,useClass:class Pa{addToWindow(e){h.dqk.getAngularTestability=(r,i=!0)=>{const u=e.findTestabilityInTree(r,i);if(null==u)throw new Error("Could not find testability for element.");return u},h.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),h.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),h.dqk.frameworkStabilizers||(h.dqk.frameworkStabilizers=[]),h.dqk.frameworkStabilizers.push(r=>{const i=h.dqk.getAllAngularTestabilities();let u=i.length,c=!1;const f=function(y){c=c||y,u--,0==u&&r(c)};i.forEach(function(y){y.whenStable(f)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?R().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:h.lri,useClass:h.dDg,deps:[h.R0b,h.eoX,h.rWj]},{provide:h.dDg,useClass:h.dDg,deps:[h.R0b,h.eoX,h.rWj]}],Li=[{provide:h.zSh,useValue:"root"},{provide:h.qLn,useFactory:function Zc(){return new h.qLn},deps:[]},{provide:Ps,useClass:El,multi:!0,deps:[pe,h.R0b,h.Lbi]},{provide:Ps,useClass:Dl,multi:!0,deps:[pe]},{provide:vi,useClass:vi,deps:[Vo,Me,h.AFp]},{provide:h.FYo,useExisting:vi},{provide:Eu,useExisting:Me},{provide:Me,useClass:Me,deps:[pe]},{provide:Vo,useClass:Vo,deps:[Ps,h.R0b]},{provide:fr,useClass:Wc,deps:[]},[]];let mn=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:h.AFp,useValue:t.appId},{provide:bt,useExisting:h.AFp},Ah]}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Va,12))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[...Li,...Yn],imports:[Tp,h.hGG]}),n})(),Kc=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(pe))},n.\u0275prov=h.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function bl(){return new Kc((0,h.LFG)(pe))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;var cn=O(8996),Jo=O(7669);function ze(...n){const e=(0,Jo.yG)(n);return(0,cn.D)(n,e)}var us=O(7579);class Qn extends us.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const Vi=(0,O(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var ei=O(9751);const{isArray:Au}=Array,{getPrototypeOf:Qc,prototype:Su,keys:Ga}=Object;function Xo(n){if(1===n.length){const e=n[0];if(Au(e))return{args:e,keys:null};if(function ea(n){return n&&"object"==typeof n&&Qc(n)===Su}(e)){const t=Ga(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Ui=O(4671),_t=O(4004);const{isArray:ls}=Array;function po(n){return(0,_t.U)(e=>function Jc(n,e){return ls(e)?n(...e):n(e)}(n,e))}function Ml(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var Dn=O(5403),Mu=O(9672);function xu(...n){const e=(0,Jo.yG)(n),t=(0,Jo.jO)(n),{args:r,keys:i}=Xo(n);if(0===r.length)return(0,cn.D)([],e);const u=new ei.y(function Nu(n,e,t=Ui.y){return r=>{Bh(e,()=>{const{length:i}=n,u=new Array(i);let c=i,f=i;for(let y=0;y<i;y++)Bh(e,()=>{const E=(0,cn.D)(n[y],e);let A=!1;E.subscribe((0,Dn.x)(r,S=>{u[y]=S,A||(A=!0,f--),f||r.next(t(u.slice()))},()=>{--c||r.complete()}))},r)},r)}}(r,e,i?c=>Ml(i,c):Ui.y));return t?u.pipe(po(t)):u}function Bh(n,e,t){n?(0,Mu.f)(t,n,e):e()}var cs=O(8189);function Bi(...n){return function xl(){return(0,cs.J)(1)}()((0,cn.D)(n,(0,Jo.yG)(n)))}var ds=O(8421);function mr(n){return new ei.y(e=>{(0,ds.Xf)(n()).subscribe(e)})}var Nl=O(9635),go=O(576);function Lr(n,e){const t=(0,go.m)(n)?n:()=>n,r=i=>i.error(t());return new ei.y(e?i=>e.schedule(r,0,i):r)}var mo=O(515),Rl=O(727),vt=O(4482);function Ru(){return(0,vt.e)((n,e)=>{let t=null;n._refCount++;const r=(0,Dn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,u=t;t=null,i&&(!u||i===u)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Sp extends ei.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,vt.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Rl.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Dn.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Rl.w0.EMPTY)}return e}refCount(){return Ru()(this)}}function yr(n,e){return(0,vt.e)((t,r)=>{let i=null,u=0,c=!1;const f=()=>c&&!i&&r.complete();t.subscribe((0,Dn.x)(r,y=>{i?.unsubscribe();let E=0;const A=u++;(0,ds.Xf)(n(y,A)).subscribe(i=(0,Dn.x)(r,S=>r.next(e?e(y,S,A,E++):S),()=>{i=null,f()}))},()=>{c=!0,f()}))})}function ta(n){return n<=0?()=>mo.E:(0,vt.e)((e,t)=>{let r=0;e.subscribe((0,Dn.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Xc(...n){const e=(0,Jo.yG)(n);return(0,vt.e)((t,r)=>{(e?Bi(n,t,e):Bi(n,t)).subscribe(r)})}function Ii(n,e){return(0,vt.e)((t,r)=>{let i=0;t.subscribe((0,Dn.x)(r,u=>n.call(e,u,i++)&&r.next(u)))})}var Vr=O(5577);function ji(n){return(0,vt.e)((e,t)=>{let r=!1;e.subscribe((0,Dn.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Mp(n=xp){return(0,vt.e)((e,t)=>{let r=!1;e.subscribe((0,Dn.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function xp(){return new Vi}function In(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ii((i,u)=>n(i,u,r)):Ui.y,ta(1),t?ji(e):Mp(()=>new Vi))}function hs(n,e){return(0,go.m)(e)?(0,Vr.z)(n,e,1):(0,Vr.z)(n,1)}var Jn=O(8505);function fs(n){return(0,vt.e)((e,t)=>{let u,r=null,i=!1;r=e.subscribe((0,Dn.x)(t,void 0,void 0,c=>{u=(0,ds.Xf)(n(c,fs(n)(e))),r?(r.unsubscribe(),r=null,u.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,u.subscribe(t))})}function Np(n,e,t,r,i){return(u,c)=>{let f=t,y=e,E=0;u.subscribe((0,Dn.x)(c,A=>{const S=E++;y=f?n(y,A,S):(f=!0,A),r&&c.next(y)},i&&(()=>{f&&c.next(y),c.complete()})))}}function Hn(n,e){return(0,vt.e)(Np(n,e,arguments.length>=2,!0))}function hi(n){return n<=0?()=>mo.E:(0,vt.e)((e,t)=>{let r=[];e.subscribe((0,Dn.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function za(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ii((i,u)=>n(i,u,r)):Ui.y,hi(1),t?ji(e):Mp(()=>new Vi))}function _o(n){return(0,vt.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Ht="primary";class jh{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function na(n){return new jh(n)}function Rp(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let u=0;u<r.length;u++){const c=r[u],f=n[u];if(c.startsWith(":"))i[c.substring(1)]=f;else if(c!==f.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function bn(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let u=0;u<t.length;u++)if(i=t[u],!Wa(n[i],e[i]))return!1;return!0}function Wa(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,u)=>r[u]===i)}return n===e}function Os(n){return Array.prototype.concat.apply([],n)}function $h(n){return n.length>0?n[n.length-1]:null}function Gn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Di(n){return(0,h.CqO)(n)?n:(0,h.QGY)(n)?(0,cn.D)(Promise.resolve(n)):ze(n)}const Pl={exact:function ed(n,e,t){if(!Xn(n.segments,e.segments)||!Ja(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!ed(n.children[r],e.children[r],t))return!1;return!0},subset:ks},ra={exact:function Ya(n,e){return bn(n,e)},subset:function Qa(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Wa(n[t],e[t]))},ignored:()=>!0};function Ol(n,e,t){return Pl[t.paths](n.root,e.root,t.matrixParams)&&ra[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function ks(n,e,t){return $i(n,e,e.segments,t)}function $i(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Xn(i,t)||e.hasChildren()||!Ja(i,t,r))}if(n.segments.length===t.length){if(!Xn(n.segments,t)||!Ja(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!ks(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(Xn(n.segments,i)&&Ja(n.segments,i,r)&&n.children[Ht])&&$i(n.children[Ht],e,u,r)}}function Ja(n,e,t){return e.every((r,i)=>ra[t](n[i].parameters,r.parameters))}class gs{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=na(this.queryParams)),this._queryParamMap}toString(){return td.serialize(this)}}class Zt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Gn(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Fs(this)}}class Ur{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=na(this.parameters)),this._parameterMap}toString(){return Ne(this)}}function Xn(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Vn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return new eu},providedIn:"root"}),n})();class eu{parse(e){const t=new ys(e);return new gs(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${ms(e.root,!0)}`,r=function yt(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${C(t)}=${C(i)}`).join("&"):`${C(t)}=${C(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function x(n){return encodeURI(n)}(e.fragment)}`:""}`}}const td=new eu;function Fs(n){return n.segments.map(e=>Ne(e)).join("/")}function ms(n,e){if(!n.hasChildren())return Fs(n);if(e){const t=n.children[Ht]?ms(n.children[Ht],!1):"",r=[];return Gn(n.children,(i,u)=>{u!==Ht&&r.push(`${u}:${ms(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Hh(n,e){let t=[];return Gn(n.children,(r,i)=>{i===Ht&&(t=t.concat(e(r,i)))}),Gn(n.children,(r,i)=>{i!==Ht&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Ht?[ms(n.children[Ht],!1)]:[`${i}:${ms(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Ht]?`${Fs(n)}/${t[0]}`:`${Fs(n)}/(${t.join("//")})`}}function b(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function C(n){return b(n).replace(/%3B/gi,";")}function F(n){return b(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function J(n){return decodeURIComponent(n)}function le(n){return J(n.replace(/\+/g,"%20"))}function Ne(n){return`${F(n.path)}${function Ye(n){return Object.keys(n).map(e=>`;${F(e)}=${F(n[e])}`).join("")}(n.parameters)}`}const St=/^[^\/()?;=#]+/;function Mt(n){const e=n.match(St);return e?e[0]:""}const wt=/^[^=?&#]+/,Br=/^[^&#]+/;class ys{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Zt([],{}):new Zt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Ht]=new Zt(e,t)),r}parseSegment(){const e=Mt(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new h.vHH(4009,!1);return this.capture(e),new Ur(J(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Mt(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Mt(this.remaining);i&&(r=i,this.capture(r))}e[J(t)]=J(r)}parseQueryParam(e){const t=function _r(n){const e=n.match(wt);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const c=function Hi(n){const e=n.match(Br);return e?e[0]:""}(this.remaining);c&&(r=c,this.capture(r))}const i=le(t),u=le(r);if(e.hasOwnProperty(i)){let c=e[i];Array.isArray(c)||(c=[c],e[i]=c),c.push(u)}else e[i]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Mt(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new h.vHH(4010,!1);let u;r.indexOf(":")>-1?(u=r.slice(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=Ht);const c=this.parseChildren();t[u]=1===Object.keys(c).length?c[Ht]:new Zt([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new h.vHH(4011,!1)}}function _s(n){return n.segments.length>0?new Zt([],{[Ht]:n}):n}function tu(n){const e={};for(const r of Object.keys(n.children)){const u=tu(n.children[r]);(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function Ou(n){if(1===n.numberOfChildren&&n.children[Ht]){const e=n.children[Ht];return new Zt(n.segments.concat(e.segments),e.children)}return n}(new Zt(n.segments,e))}function bi(n){return n instanceof gs}function kl(n,e,t,r,i){if(0===t.length)return nu(e.root,e.root,e.root,r,i);const u=function ly(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Gh(!0,0,n);let e=0,t=!1;const r=n.reduce((i,u,c)=>{if("object"==typeof u&&null!=u){if(u.outlets){const f={};return Gn(u.outlets,(y,E)=>{f[E]="string"==typeof y?y.split("/"):y}),[...i,{outlets:f}]}if(u.segmentPath)return[...i,u.segmentPath]}return"string"!=typeof u?[...i,u]:0===c?(u.split("/").forEach((f,y)=>{0==y&&"."===f||(0==y&&""===f?t=!0:".."===f?e++:""!=f&&i.push(f))}),i):[...i,u]},[]);return new Gh(t,e,r)}(t);return u.toRoot()?nu(e.root,e.root,new Zt([],{}),r,i):function c(y){const E=function Pp(n,e,t,r){if(n.isAbsolute)return new sa(e.root,!0,0);if(-1===r)return new sa(t,t===e.root,0);return function Fl(n,e,t){let r=n,i=e,u=t;for(;u>i;){if(u-=i,r=r.parent,!r)throw new h.vHH(4005,!1);i=r.segments.length}return new sa(r,!1,i-u)}(t,r+(ku(n.commands[0])?0:1),n.numberOfDoubleDots)}(u,e,n.snapshot?._urlSegment,y),A=E.processChildren?Vl(E.segmentGroup,E.index,u.commands):oa(E.segmentGroup,E.index,u.commands);return nu(e.root,E.segmentGroup,A,r,i)}(n.snapshot?._lastPathIndex)}function ku(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function ia(n){return"object"==typeof n&&null!=n&&n.outlets}function nu(n,e,t,r,i){let c,u={};r&&Gn(r,(y,E)=>{u[E]=Array.isArray(y)?y.map(A=>`${A}`):`${y}`}),c=n===e?t:uy(n,e,t);const f=_s(tu(c));return new gs(f,u,i)}function uy(n,e,t){const r={};return Gn(n.children,(i,u)=>{r[u]=i===e?t:uy(i,e,t)}),new Zt(n.segments,r)}class Gh{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&ku(r[0]))throw new h.vHH(4003,!1);const i=r.find(ia);if(i&&i!==$h(r))throw new h.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class sa{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function oa(n,e,t){if(n||(n=new Zt([],{})),0===n.segments.length&&n.hasChildren())return Vl(n,e,t);const r=function dy(n,e,t){let r=0,i=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return u;const c=n.segments[i],f=t[r];if(ia(f))break;const y=`${f}`,E=r<t.length-1?t[r+1]:null;if(i>0&&void 0===y)break;if(y&&E&&"object"==typeof E&&void 0===E.outlets){if(!zh(y,E,c))return u;r+=2}else{if(!zh(y,{},c))return u;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new Zt(n.segments.slice(0,r.pathIndex),{});return u.children[Ht]=new Zt(n.segments.slice(r.pathIndex),n.children),Vl(u,0,i)}return r.match&&0===i.length?new Zt(n.segments,{}):r.match&&!n.hasChildren()?Op(n,e,t):r.match?Vl(n,0,i):Op(n,e,t)}function Vl(n,e,t){if(0===t.length)return new Zt(n.segments,{});{const r=function Ll(n){return ia(n[0])?n[0].outlets:{[Ht]:n}}(t),i={};return Gn(r,(u,c)=>{"string"==typeof u&&(u=[u]),null!==u&&(i[c]=oa(n.children[c],e,u))}),Gn(n.children,(u,c)=>{void 0===r[c]&&(i[c]=u)}),new Zt(n.segments,i)}}function Op(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const u=t[i];if(ia(u)){const y=rd(u.outlets);return new Zt(r,y)}if(0===i&&ku(t[0])){r.push(new Ur(n.segments[e].path,Ul(t[0]))),i++;continue}const c=ia(u)?u.outlets[Ht]:`${u}`,f=i<t.length-1?t[i+1]:null;c&&f&&ku(f)?(r.push(new Ur(c,Ul(f))),i+=2):(r.push(new Ur(c,{})),i++)}return new Zt(r,{})}function rd(n){const e={};return Gn(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Op(new Zt([],{}),0,t))}),e}function Ul(n){const e={};return Gn(n,(t,r)=>e[r]=`${t}`),e}function zh(n,e,t){return n==t.path&&bn(e,t.parameters)}class Vs{constructor(e,t){this.id=e,this.url=t}}class id extends Vs{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class aa extends Vs{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Fu extends Vs{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class kp extends Vs{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Wh extends Vs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hy extends Vs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fp extends Vs{constructor(e,t,r,i,u){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=u,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ua extends Vs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ru extends Vs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fy{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class py{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class gy{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rw{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pw{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ow{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qh{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class g{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=m(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=m(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=I(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return I(e,this._root).map(t=>t.value)}}function m(n,e){if(n===e.value)return e;for(const t of e.children){const r=m(n,t);if(r)return r}return null}function I(n,e){if(n===e.value)return[e];for(const t of e.children){const r=I(n,t);if(r.length)return r.unshift(e),r}return[]}class M{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function P(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class ne extends g{constructor(e,t){super(e),this.snapshot=t,Bl(this,e)}toString(){return this.snapshot.toString()}}function xe(n,e){const t=function Qe(n,e){const c=new fi([],{},{},"",{},Ht,e,null,n.root,-1,{});return new la("",new M(c,[]))}(n,e),r=new Qn([new Ur("",{})]),i=new Qn({}),u=new Qn({}),c=new Qn({}),f=new Qn(""),y=new at(r,i,c,f,u,Ht,e,t.root);return y.snapshot=t.root,new ne(new M(y,[]),t)}class at{constructor(e,t,r,i,u,c,f,y){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=u,this.outlet=c,this.component=f,this._futureSnapshot=y}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,_t.U)(e=>na(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,_t.U)(e=>na(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Kt(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],u=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(u.component)break;r--}}return function Mn(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class fi{constructor(e,t,r,i,u,c,f,y,E,A,S,L){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=u,this.outlet=c,this.component=f,this.routeConfig=y,this._urlSegment=E,this._lastPathIndex=A,this._correctedLastPathIndex=L??A,this._resolve=S}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=na(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=na(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class la extends g{constructor(e,t){super(t),this.url=e,Bl(this,t)}toString(){return Lp(this._root)}}function Bl(n,e){e.value._routerState=n,e.children.forEach(t=>Bl(n,t))}function Lp(n){const e=n.children.length>0?` { ${n.children.map(Lp).join(", ")} } `:"";return`${n.value}${e}`}function iu(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,bn(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),bn(e.params,t.params)||n.params.next(t.params),function ps(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!bn(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),bn(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Lu(n,e){const t=bn(n.params,e.params)&&function Xa(n,e){return Xn(n,e)&&n.every((t,r)=>bn(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Lu(n.parent,e.parent))}function Vu(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function my(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Vu(n,r,i);return Vu(n,r)})}(n,e,t);return new M(r,i)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const c=u.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(f=>Vu(n,f)),c}}const r=function Zh(n){return new at(new Qn(n.url),new Qn(n.params),new Qn(n.queryParams),new Qn(n.fragment),new Qn(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(u=>Vu(n,u));return new M(r,i)}}const jl="ngNavigationCancelingError";function Kh(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=bi(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Vp(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function Vp(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[jl]=!0,r.cancellationCode=e,t&&(r.url=t),r}function od(n){return Yh(n)&&bi(n.url)}function Yh(n){return n&&n[jl]}class Up{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Qh,this.attachRef=null}}let Qh=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Up,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ad=!1;let yy=(()=>{class n{constructor(t,r,i,u,c){this.parentContexts=t,this.location=r,this.changeDetector=u,this.environmentInjector=c,this.activated=null,this._activatedRoute=null,this.activateEvents=new h.vpe,this.deactivateEvents=new h.vpe,this.attachEvents=new h.vpe,this.detachEvents=new h.vpe,this.name=i||Ht,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new h.vHH(4012,ad);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new h.vHH(4012,ad);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new h.vHH(4012,ad);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new h.vHH(4013,ad);this._activatedRoute=t;const i=this.location,c=t._futureSnapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,y=new Er(t,f,i.injector);if(r&&function pb(n){return!!n.resolveComponentFactory}(r)){const E=r.resolveComponentFactory(c);this.activated=i.createComponent(E,i.length,y)}else this.activated=i.createComponent(c,{index:i.length,injector:y,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Qh),h.Y36(h.s_b),h.$8M("name"),h.Y36(h.sBO),h.Y36(h.lqb))},n.\u0275dir=h.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class Er{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===at?this.route:e===Qh?this.childContexts:this.parent.get(e,t)}}let kw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&h._UZ(0,"router-outlet")},dependencies:[yy],encapsulation:2}),n})();function Bp(n,e){return n.providers&&!n._injector&&(n._injector=(0,h.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function $l(n){const e=n.children&&n.children.map($l),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Ht&&(t.component=kw),t}function Gi(n){return n.outlet||Ht}function vy(n,e){const t=n.filter(r=>Gi(r)===e);return t.push(...n.filter(r=>Gi(r)!==e)),t}function wy(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class yb{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),iu(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=P(t);e.children.forEach(u=>{const c=u.value.outlet;this.deactivateRoutes(u,i[c],r),delete i[c]}),Gn(i,(u,c)=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const i=e.value,u=t?t.value:null;if(i===u)if(i.component){const c=r.getContext(i.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,u=P(e);for(const c of Object.keys(u))this.deactivateRouteAndItsChildren(u[c],i);if(r&&r.outlet){const c=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,u=P(e);for(const c of Object.keys(u))this.deactivateRouteAndItsChildren(u[c],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=P(t);e.children.forEach(u=>{this.activateRoutes(u,i[u.value.outlet],r),this.forwardEvent(new Ow(u.value.snapshot))}),e.children.length&&this.forwardEvent(new Rw(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,u=t?t.value:null;if(iu(i),i===u)if(i.component){const c=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const c=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const f=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),c.children.onOutletReAttached(f.contexts),c.attachRef=f.componentRef,c.route=f.route.value,c.outlet&&c.outlet.attach(f.componentRef,f.route.value),iu(f.route.value),this.activateChildRoutes(e,null,c.children)}else{const f=wy(i.snapshot),y=f?.get(h._Vd)??null;c.attachRef=null,c.route=i,c.resolver=y,c.injector=f,c.outlet&&c.outlet.activateWith(i,c.injector),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,r)}}class Ey{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Jh{constructor(e,t){this.component=e,this.route=t}}function Iy(n,e,t){const r=n._root;return Hl(r,e?e._root:null,t,[r.value])}function jp(n,e,t){return(wy(e)??t).get(n)}function Hl(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const u=P(e);return n.children.forEach(c=>{(function Lw(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,c=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(c&&u.routeConfig===c.routeConfig){const y=function Vw(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Xn(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Xn(n.url,e.url)||!bn(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Lu(n,e)||!bn(n.queryParams,e.queryParams);default:return!Lu(n,e)}}(c,u,u.routeConfig.runGuardsAndResolvers);y?i.canActivateChecks.push(new Ey(r)):(u.data=c.data,u._resolvedData=c._resolvedData),Hl(n,e,u.component?f?f.children:null:t,r,i),y&&f&&f.outlet&&f.outlet.isActivated&&i.canDeactivateChecks.push(new Jh(f.outlet.component,c))}else c&&wo(e,f,i),i.canActivateChecks.push(new Ey(r)),Hl(n,null,u.component?f?f.children:null:t,r,i)})(c,u[c.value.outlet],t,r.concat([c.value]),i),delete u[c.value.outlet]}),Gn(u,(c,f)=>wo(c,t.getContext(f),i)),i}function wo(n,e,t){const r=P(n),i=n.value;Gn(r,(u,c)=>{wo(u,i.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new Jh(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Xh(n){return"function"==typeof n}function Ty(n){return n instanceof Vi||"EmptyError"===n?.name}const Gp=Symbol("INITIAL_VALUE");function zl(){return yr(n=>xu(n.map(e=>e.pipe(ta(1),Xc(Gp)))).pipe((0,_t.U)(e=>{for(const t of e)if(!0!==t){if(t===Gp)return Gp;if(!1===t||t instanceof gs)return t}return!0}),Ii(e=>e!==Gp),ta(1)))}function Sy(n){return(0,Nl.z)((0,Jn.b)(e=>{if(bi(e))throw Kh(0,e)}),(0,_t.U)(e=>!0===e))}const My={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ld(n,e,t,r,i){const u=xy(n,e,t);return u.matched?function tM(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?ze(i.map(c=>{const f=n.get(c),y=function Gl(n){return n&&Xh(n.canMatch)}(f)?f.canMatch(e,t):f(e,t);return Di(y)})).pipe(zl(),Sy()):ze(!0)}(r=Bp(e,r),e,t).pipe((0,_t.U)(c=>!0===c?u:{...My})):ze(u)}function xy(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...My}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Rp)(t,n,e);if(!i)return{...My};const u={};Gn(i.posParams,(f,y)=>{u[y]=f.path});const c=i.consumed.length>0?{...u,...i.consumed[i.consumed.length-1].parameters}:u;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:c,positionalParamSegments:i.posParams??{}}}function su(n,e,t,r,i="corrected"){if(t.length>0&&function nM(n,e,t){return t.some(r=>zp(n,e,r)&&Gi(r)!==Ht)}(n,t,r)){const c=new Zt(e,function Tb(n,e,t,r){const i={};i[Ht]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const u of t)if(""===u.path&&Gi(u)!==Ht){const c=new Zt([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,i[Gi(u)]=c}return i}(n,e,r,new Zt(t,n.children)));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:[]}}if(0===t.length&&function Bw(n,e,t){return t.some(r=>zp(n,e,r))}(n,t,r)){const c=new Zt(n.segments,function ef(n,e,t,r,i,u){const c={};for(const f of r)if(zp(n,t,f)&&!i[Gi(f)]){const y=new Zt([],{});y._sourceSegment=n,y._segmentIndexShift="legacy"===u?n.segments.length:e.length,c[Gi(f)]=y}return{...i,...c}}(n,e,t,r,n.children,i));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:t}}const u=new Zt(n.segments,n.children);return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}function zp(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function jw(n,e,t,r){return!!(Gi(n)===r||r!==Ht&&zp(e,t,n))&&("**"===n.path||xy(e,n,t).matched)}function $w(n,e,t){return 0===e.length&&!n.children[t]}const tf=!1;class nf{constructor(e){this.segmentGroup=e||null}}class Wp{constructor(e){this.urlTree=e}}function rf(n){return Lr(new nf(n))}function Hw(n){return Lr(new Wp(n))}class Ry{constructor(e,t,r,i,u){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=u,this.allowRedirects=!0}apply(){const e=su(this.urlTree.root,[],[],this.config).segmentGroup,t=new Zt(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Ht).pipe((0,_t.U)(u=>this.createUrlTree(tu(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(fs(u=>{if(u instanceof Wp)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof nf?this.noMatchError(u):u}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Ht).pipe((0,_t.U)(i=>this.createUrlTree(tu(i),e.queryParams,e.fragment))).pipe(fs(i=>{throw i instanceof nf?this.noMatchError(i):i}))}noMatchError(e){return new h.vHH(4002,tf)}createUrlTree(e,t,r){const i=_s(e);return new gs(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,_t.U)(u=>new Zt([],u))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const u of Object.keys(r.children))"primary"===u?i.unshift(u):i.push(u);return(0,cn.D)(i).pipe(hs(u=>{const c=r.children[u],f=vy(t,u);return this.expandSegmentGroup(e,f,c,u).pipe((0,_t.U)(y=>({segment:y,outlet:u})))}),Hn((u,c)=>(u[c.outlet]=c.segment,u),{}),za())}expandSegment(e,t,r,i,u,c){return(0,cn.D)(r).pipe(hs(f=>this.expandSegmentAgainstRoute(e,t,r,f,i,u,c).pipe(fs(E=>{if(E instanceof nf)return ze(null);throw E}))),In(f=>!!f),fs((f,y)=>{if(Ty(f))return $w(t,i,u)?ze(new Zt([],{})):rf(t);throw f}))}expandSegmentAgainstRoute(e,t,r,i,u,c,f){return jw(i,t,u,c)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,u,c):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,u,c):rf(t):rf(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,u,c){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,u,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const u=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Hw(u):this.lineralizeSegments(r,u).pipe((0,Vr.z)(c=>{const f=new Zt(c,{});return this.expandSegment(e,f,t,c,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,u,c){const{matched:f,consumedSegments:y,remainingSegments:E,positionalParamSegments:A}=xy(t,i,u);if(!f)return rf(t);const S=this.applyRedirectCommands(y,i.redirectTo,A);return i.redirectTo.startsWith("/")?Hw(S):this.lineralizeSegments(i,S).pipe((0,Vr.z)(L=>this.expandSegment(e,t,r,L.concat(E),c,!1)))}matchSegmentAgainstRoute(e,t,r,i,u){return"**"===r.path?(e=Bp(r,e),r.loadChildren?(r._loadedRoutes?ze({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,_t.U)(f=>(r._loadedRoutes=f.routes,r._loadedInjector=f.injector,new Zt(i,{})))):ze(new Zt(i,{}))):ld(t,r,i,e).pipe(yr(({matched:c,consumedSegments:f,remainingSegments:y})=>c?this.getChildConfig(e=r._injector??e,r,i).pipe((0,Vr.z)(A=>{const S=A.injector??e,L=A.routes,{segmentGroup:B,slicedSegments:q}=su(t,f,y,L),de=new Zt(B.segments,B.children);if(0===q.length&&de.hasChildren())return this.expandChildren(S,L,de).pipe((0,_t.U)(It=>new Zt(f,It)));if(0===L.length&&0===q.length)return ze(new Zt(f,{}));const Te=Gi(r)===u;return this.expandSegment(S,de,L,q,Te?Ht:u,!0).pipe((0,_t.U)(ct=>new Zt(f.concat(ct.segments),ct.children)))})):rf(t)))}getChildConfig(e,t,r){return t.children?ze({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?ze({routes:t._loadedRoutes,injector:t._loadedInjector}):function Cb(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?ze(!0):ze(i.map(c=>{const f=n.get(c),y=function $p(n){return n&&Xh(n.canLoad)}(f)?f.canLoad(e,t):f(e,t);return Di(y)})).pipe(zl(),Sy())}(e,t,r).pipe((0,Vr.z)(i=>i?this.configLoader.loadChildren(e,t).pipe((0,Jn.b)(u=>{t._loadedRoutes=u.routes,t._loadedInjector=u.injector})):function rM(n){return Lr(Vp(tf,3))}())):ze({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return ze(r);if(i.numberOfChildren>1||!i.children[Ht])return Lr(new h.vHH(4e3,tf));i=i.children[Ht]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const u=this.createSegmentGroup(e,t.root,r,i);return new gs(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Gn(e,(i,u)=>{if("string"==typeof i&&i.startsWith(":")){const f=i.substring(1);r[u]=t[f]}else r[u]=i}),r}createSegmentGroup(e,t,r,i){const u=this.createSegments(e,t.segments,r,i);let c={};return Gn(t.children,(f,y)=>{c[y]=this.createSegmentGroup(e,f,r,i)}),new Zt(u,c)}createSegments(e,t,r,i){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,i):this.findOrReturn(u,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new h.vHH(4001,tf);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class oM{}class Ab{constructor(e,t,r,i,u,c,f,y){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=u,this.paramsInheritanceStrategy=c,this.relativeLinkResolution=f,this.urlSerializer=y}recognize(){const e=su(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Ht).pipe((0,_t.U)(t=>{if(null===t)return null;const r=new fi([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ht,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new M(r,t),u=new la(this.url,i);return this.inheritParamsAndData(u._root),u}))}inheritParamsAndData(e){const t=e.value,r=Kt(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,cn.D)(Object.keys(r.children)).pipe(hs(i=>{const u=r.children[i],c=vy(t,i);return this.processSegmentGroup(e,c,u,i)}),Hn((i,u)=>i&&u?(i.push(...u),i):null),function Pu(n,e=!1){return(0,vt.e)((t,r)=>{let i=0;t.subscribe((0,Dn.x)(r,u=>{const c=n(u,i++);(c||e)&&r.next(u),!c&&r.complete()}))})}(i=>null!==i),ji(null),za(),(0,_t.U)(i=>{if(null===i)return null;const u=ky(i);return function Gw(n){n.sort((e,t)=>e.value.outlet===Ht?-1:t.value.outlet===Ht?1:e.value.outlet.localeCompare(t.value.outlet))}(u),u}))}processSegment(e,t,r,i,u){return(0,cn.D)(t).pipe(hs(c=>this.processSegmentAgainstRoute(c._injector??e,c,r,i,u)),In(c=>!!c),fs(c=>{if(Ty(c))return $w(r,i,u)?ze([]):ze(null);throw c}))}processSegmentAgainstRoute(e,t,r,i,u){if(t.redirectTo||!jw(t,r,i,u))return ze(null);let c;if("**"===t.path){const f=i.length>0?$h(i).parameters:{},y=qw(r)+i.length;c=ze({snapshot:new fi(i,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,cd(t),Gi(t),t.component??t._loadedComponent??null,t,qp(r),y,Zw(t),y),consumedSegments:[],remainingSegments:[]})}else c=ld(r,t,i,e).pipe((0,_t.U)(({matched:f,consumedSegments:y,remainingSegments:E,parameters:A})=>{if(!f)return null;const S=qw(r)+y.length;return{snapshot:new fi(y,A,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,cd(t),Gi(t),t.component??t._loadedComponent??null,t,qp(r),S,Zw(t),S),consumedSegments:y,remainingSegments:E}}));return c.pipe(yr(f=>{if(null===f)return ze(null);const{snapshot:y,consumedSegments:E,remainingSegments:A}=f;e=t._injector??e;const S=t._loadedInjector??e,L=function Oy(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:B,slicedSegments:q}=su(r,E,A,L.filter(Te=>void 0===Te.redirectTo),this.relativeLinkResolution);if(0===q.length&&B.hasChildren())return this.processChildren(S,L,B).pipe((0,_t.U)(Te=>null===Te?null:[new M(y,Te)]));if(0===L.length&&0===q.length)return ze([new M(y,[])]);const de=Gi(t)===u;return this.processSegment(S,L,B,q,de?Ht:u).pipe((0,_t.U)(Te=>null===Te?null:[new M(y,Te)]))}))}}function zw(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function ky(n){const e=[],t=new Set;for(const r of n){if(!zw(r)){e.push(r);continue}const i=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=ky(r.children);e.push(new M(r.value,i))}return e.filter(r=>!t.has(r))}function qp(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function qw(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function cd(n){return n.data||{}}function Zw(n){return n.resolve||{}}const Fy=Symbol("RouteTitle");function Kp(n){return"string"==typeof n.title||null===n.title}function Ly(n){return yr(e=>{const t=n(e);return t?(0,cn.D)(t).pipe((0,_t.U)(()=>e)):ze(e)})}let Yw=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(u=>u.outlet===Ht);return r}getResolvedTitleForRoute(t){return t.data[Fy]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.f3M)(Qw)},providedIn:"root"}),n})(),Qw=(()=>{class n extends Yw{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Kc))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Ob{}class Ci extends class kb{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Yp=new h.OlP("",{providedIn:"root",factory:()=>({})}),jr=new h.OlP("ROUTES");let Wl=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return ze(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Di(t.loadComponent()).pipe((0,Jn.b)(u=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=u}),_o(()=>{this.componentLoaders.delete(t)})),i=new Sp(r,()=>new us.x).pipe(Ru());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ze({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const u=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,_t.U)(f=>{this.onLoadEndListener&&this.onLoadEndListener(r);let y,E,A=!1;Array.isArray(f)?E=f:(y=f.create(t).injector,E=Os(y.get(jr,[],h.XFs.Self|h.XFs.Optional)));return{routes:E.map($l),injector:y}}),_o(()=>{this.childrenLoaders.delete(r)})),c=new Sp(u,()=>new us.x).pipe(Ru());return this.childrenLoaders.set(r,c),c}loadModuleFactoryOrRoutes(t){return Di(t()).pipe((0,Vr.z)(r=>r instanceof h.YKP||Array.isArray(r)?ze(r):(0,cn.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.zs3),h.LFG(h.Sil))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Uy{}class Fb{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Jw(n){throw n}function Lb(n,e,t){return e.parse("/")}const Xw={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Vb={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function tE(){const n=(0,h.f3M)(Vn),e=(0,h.f3M)(Qh),t=(0,h.f3M)(Fe),r=(0,h.f3M)(h.zs3),i=(0,h.f3M)(h.Sil),u=(0,h.f3M)(jr,{optional:!0})??[],c=(0,h.f3M)(Yp,{optional:!0})??{},f=(0,h.f3M)(Qw),y=(0,h.f3M)(Yw,{optional:!0}),E=(0,h.f3M)(Uy,{optional:!0}),A=(0,h.f3M)(Ob,{optional:!0}),S=new Mr(null,n,e,t,r,i,Os(u));return E&&(S.urlHandlingStrategy=E),A&&(S.routeReuseStrategy=A),S.titleStrategy=y??f,function eE(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(c,S),S}let Mr=(()=>{class n{constructor(t,r,i,u,c,f,y){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=u,this.config=y,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new us.x,this.errorHandler=Jw,this.malformedUriErrorHandler=Lb,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>ze(void 0),this.urlHandlingStrategy=new Fb,this.routeReuseStrategy=new Ci,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=c.get(Wl),this.configLoader.onLoadEndListener=L=>this.triggerEvent(new py(L)),this.configLoader.onLoadStartListener=L=>this.triggerEvent(new fy(L)),this.ngModule=c.get(h.h0i),this.console=c.get(h.c2e);const S=c.get(h.R0b);this.isNgZoneEnabled=S instanceof h.R0b&&h.R0b.isInAngularZone(),this.resetConfig(y),this.currentUrlTree=function Ka(){return new gs(new Zt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=xe(this.currentUrlTree,this.rootComponentType),this.transitions=new Qn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Ii(i=>0!==i.id),(0,_t.U)(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),yr(i=>{let u=!1,c=!1;return ze(i).pipe((0,Jn.b)(f=>{this.currentNavigation={id:f.id,initialUrl:f.rawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),yr(f=>{const y=this.browserUrlTree.toString(),E=!this.navigated||f.extractedUrl.toString()!==y||y!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||E)&&this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return nE(f.source)&&(this.browserUrlTree=f.extractedUrl),ze(f).pipe(yr(S=>{const L=this.transitions.getValue();return r.next(new id(S.id,this.serializeUrl(S.extractedUrl),S.source,S.restoredState)),L!==this.transitions.getValue()?mo.E:Promise.resolve(S)}),function sM(n,e,t,r){return yr(i=>function iM(n,e,t,r,i){return new Ry(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,_t.U)(u=>({...i,urlAfterRedirects:u}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Jn.b)(S=>{this.currentNavigation={...this.currentNavigation,finalUrl:S.urlAfterRedirects},i.urlAfterRedirects=S.urlAfterRedirects}),function Sb(n,e,t,r,i,u){return(0,Vr.z)(c=>function uM(n,e,t,r,i,u,c="emptyOnly",f="legacy"){return new Ab(n,e,t,r,i,c,f,u).recognize().pipe(yr(y=>null===y?function aM(n){return new ei.y(e=>e.error(n))}(new oM):ze(y)))}(n,e,t,c.urlAfterRedirects,r.serialize(c.urlAfterRedirects),r,i,u).pipe((0,_t.U)(f=>({...c,targetSnapshot:f}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Jn.b)(S=>{if(i.targetSnapshot=S.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!S.extras.skipLocationChange){const B=this.urlHandlingStrategy.merge(S.urlAfterRedirects,S.rawUrl);this.setBrowserUrl(B,S)}this.browserUrlTree=S.urlAfterRedirects}const L=new Wh(S.id,this.serializeUrl(S.extractedUrl),this.serializeUrl(S.urlAfterRedirects),S.targetSnapshot);r.next(L)}));if(E&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:L,extractedUrl:B,source:q,restoredState:de,extras:Te}=f,We=new id(L,this.serializeUrl(B),q,de);r.next(We);const ct=xe(B,this.rootComponentType).snapshot;return ze(i={...f,targetSnapshot:ct,urlAfterRedirects:B,extras:{...Te,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=f.rawUrl,f.resolve(null),mo.E}),(0,Jn.b)(f=>{const y=new hy(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(y)}),(0,_t.U)(f=>i={...f,guards:Iy(f.targetSnapshot,f.currentSnapshot,this.rootContexts)}),function ud(n,e){return(0,Vr.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:u,canDeactivateChecks:c}}=t;return 0===c.length&&0===u.length?ze({...t,guardsResult:!0}):function wb(n,e,t,r){return(0,cn.D)(n).pipe((0,Vr.z)(i=>function Uw(n,e,t,r,i){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return u&&0!==u.length?ze(u.map(f=>{const y=jp(f,e,i);return Di(function Hp(n){return n&&Xh(n.canDeactivate)}(y)?y.canDeactivate(n,e,t,r):y(n,e,t,r)).pipe(In())})).pipe(zl()):ze(!0)}(i.component,i.route,t,e,r)),In(i=>!0!==i,!0))}(c,r,i,n).pipe((0,Vr.z)(f=>f&&function Dy(n){return"boolean"==typeof n}(f)?function Eb(n,e,t,r){return(0,cn.D)(e).pipe(hs(i=>Bi(function Db(n,e){return null!==n&&e&&e(new gy(n)),ze(!0)}(i.route.parent,r),function Ib(n,e){return null!==n&&e&&e(new Pw(n)),ze(!0)}(i.route,r),function bb(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(c=>function eM(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>mr(()=>ze(c.guards.map(y=>{const E=jp(y,c.node,t);return Di(function by(n){return n&&Xh(n.canActivateChild)}(E)?E.canActivateChild(r,n):E(r,n)).pipe(In())})).pipe(zl())));return ze(u).pipe(zl())}(n,i.path,t),function Ay(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return ze(!0);const i=r.map(u=>mr(()=>{const c=jp(u,e,t);return Di(function _b(n){return n&&Xh(n.canActivate)}(c)?c.canActivate(e,n):c(e,n)).pipe(In())}));return ze(i).pipe(zl())}(n,i.route,t))),In(i=>!0!==i,!0))}(r,u,n,e):ze(f)),(0,_t.U)(f=>({...t,guardsResult:f})))})}(this.ngModule.injector,f=>this.triggerEvent(f)),(0,Jn.b)(f=>{if(i.guardsResult=f.guardsResult,bi(f.guardsResult))throw Kh(0,f.guardsResult);const y=new Fp(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.triggerEvent(y)}),Ii(f=>!!f.guardsResult||(this.restoreHistory(f),this.cancelNavigationTransition(f,"",3),!1)),Ly(f=>{if(f.guards.canActivateChecks.length)return ze(f).pipe((0,Jn.b)(y=>{const E=new ua(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(E)}),yr(y=>{let E=!1;return ze(y).pipe(function Kw(n,e){return(0,Vr.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return ze(t);let u=0;return(0,cn.D)(i).pipe(hs(c=>function Mb(n,e,t,r){const i=n.routeConfig,u=n._resolve;return void 0!==i?.title&&!Kp(i)&&(u[Fy]=i.title),function xb(n,e,t,r){const i=function Nb(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return ze({});const u={};return(0,cn.D)(i).pipe((0,Vr.z)(c=>function Rb(n,e,t,r){const i=jp(n,e,r);return Di(i.resolve?i.resolve(e,t):i(e,t))}(n[c],e,t,r).pipe(In(),(0,Jn.b)(f=>{u[c]=f}))),hi(1),function yo(n){return(0,_t.U)(()=>n)}(u),fs(c=>Ty(c)?mo.E:Lr(c)))}(u,n,e,r).pipe((0,_t.U)(c=>(n._resolvedData=c,n.data=Kt(n,t).resolve,i&&Kp(i)&&(n.data[Fy]=i.title),null)))}(c.route,r,n,e)),(0,Jn.b)(()=>u++),hi(1),(0,Vr.z)(c=>u===i.length?ze(t):mo.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Jn.b)({next:()=>E=!0,complete:()=>{E||(this.restoreHistory(y),this.cancelNavigationTransition(y,"",2))}}))}),(0,Jn.b)(y=>{const E=new ru(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(E)}))}),Ly(f=>{const y=E=>{const A=[];E.routeConfig?.loadComponent&&!E.routeConfig._loadedComponent&&A.push(this.configLoader.loadComponent(E.routeConfig).pipe((0,Jn.b)(S=>{E.component=S}),(0,_t.U)(()=>{})));for(const S of E.children)A.push(...y(S));return A};return xu(y(f.targetSnapshot.root)).pipe(ji(),ta(1))}),Ly(()=>this.afterPreactivation()),(0,_t.U)(f=>{const y=function sd(n,e,t){const r=Vu(n,e._root,t?t._root:void 0);return new ne(r,e)}(this.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return i={...f,targetRouterState:y}}),(0,Jn.b)(f=>{this.currentUrlTree=f.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl),this.routerState=f.targetRouterState,"deferred"===this.urlUpdateStrategy&&(f.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,f),this.browserUrlTree=f.urlAfterRedirects)}),((n,e,t)=>(0,_t.U)(r=>(new yb(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,f=>this.triggerEvent(f)),(0,Jn.b)({next(){u=!0},complete(){u=!0}}),_o(()=>{u||c||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),fs(f=>{if(c=!0,Yh(f)){od(f)||(this.navigated=!0,this.restoreHistory(i,!0));const y=new Fu(i.id,this.serializeUrl(i.extractedUrl),f.message,f.cancellationCode);if(r.next(y),od(f)){const E=this.urlHandlingStrategy.merge(f.url,this.rawUrlTree),A={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||nE(i.source)};this.scheduleNavigation(E,"imperative",null,A,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const y=new kp(i.id,this.serializeUrl(i.extractedUrl),f,i.targetSnapshot??void 0);r.next(y);try{i.resolve(this.errorHandler(f))}catch(E){i.reject(E)}}return mo.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},u=t.state?.navigationId?t.state:null;if(u){const f={...u};delete f.navigationId,delete f.\u0275routerPageId,0!==Object.keys(f).length&&(i.state=f)}const c=this.parseUrl(t.url);this.scheduleNavigation(c,r,u,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map($l),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:u,fragment:c,queryParamsHandling:f,preserveFragment:y}=r,E=i||this.routerState.root,A=y?this.currentUrlTree.fragment:c;let S=null;switch(f){case"merge":S={...this.currentUrlTree.queryParams,...u};break;case"preserve":S=this.currentUrlTree.queryParams;break;default:S=u||null}return null!==S&&(S=this.removeEmptyProps(S)),kl(E,this.currentUrlTree,t,S,A??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=bi(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(u,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function Ub(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new h.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...Xw}:!1===r?{...Vb}:r,bi(t))return Ol(this.currentUrlTree,t,i);const u=this.parseUrl(t);return Ol(this.currentUrlTree,u,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const u=t[i];return null!=u&&(r[i]=u),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new aa(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,u,c){if(this.disposed)return Promise.resolve(!1);let f,y,E;c?(f=c.resolve,y=c.reject,E=c.promise):E=new Promise((L,B)=>{f=L,y=B});const A=++this.navigationId;let S;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),S=i&&i.\u0275routerPageId?i.\u0275routerPageId:u.replaceUrl||u.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):S=0,this.setTransition({id:A,targetPageId:S,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:u,resolve:f,reject:y,promise:E,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),E.catch(L=>Promise.reject(L))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),u={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",u):this.location.go(i,"",u)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r,i){const u=new Fu(t.id,this.serializeUrl(t.extractedUrl),r,i);this.triggerEvent(u),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){h.$Z()},n.\u0275prov=h.Yz7({token:n,factory:function(){return tE()},providedIn:"root"}),n})();function nE(n){return"imperative"!==n}let Xp=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this.commands=null,this.href=null,this.onChanges=new us.x,this.subscription=t.events.subscribe(u=>{u instanceof aa&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,u,c){if(0!==t||r||i||u||c||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const f={skipLocationChange:(0,h.D6c)(this.skipLocationChange),replaceUrl:(0,h.D6c)(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,f),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:(0,h.D6c)(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Mr),h.Y36(at),h.Y36(we))},n.\u0275dir=h.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&h.NdJ("click",function(u){return r.onClick(u.button,u.ctrlKey,u.shiftKey,u.altKey,u.metaKey)}),2&t&&h.uIk("target",r.target)("href",r.href,h.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[h.TTD]}),n})();class rE{}let Bb=(()=>{class n{constructor(t,r,i,u,c){this.router=t,this.injector=i,this.preloadingStrategy=u,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(Ii(t=>t instanceof aa),hs(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const u of r){u.providers&&!u._injector&&(u._injector=(0,h.MMx)(u.providers,t,`Route: ${u.path}`));const c=u._injector??t,f=u._loadedInjector??c;u.loadChildren&&!u._loadedRoutes&&void 0===u.canLoad||u.loadComponent&&!u._loadedComponent?i.push(this.preloadConfig(c,u)):(u.children||u._loadedRoutes)&&i.push(this.processRoutes(f,u.children??u._loadedRoutes))}return(0,cn.D)(i).pipe((0,cs.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):ze(null);const u=i.pipe((0,Vr.z)(c=>null===c?ze(void 0):(r._loadedRoutes=c.routes,r._loadedInjector=c.injector,this.processRoutes(c.injector??t,c.routes))));if(r.loadComponent&&!r._loadedComponent){const c=this.loader.loadComponent(r);return(0,cn.D)([u,c]).pipe((0,cs.J)())}return u})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Mr),h.LFG(h.Sil),h.LFG(h.lqb),h.LFG(rE),h.LFG(Wl))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const jy=new h.OlP("");let cM=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof id?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof aa&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof qh&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new qh(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){h.$Z()},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const eg=new h.OlP("ROUTER_FORROOT_GUARD"),sE=new h.OlP(""),oE=[Fe,{provide:Vn,useClass:eu},{provide:Mr,useFactory:tE},Qh,{provide:at,useFactory:function jb(n){return n.routerState.root},deps:[Mr]},Wl];function sf(){return new h.PXZ("Router",Mr)}let aE=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[oE,[],$b(t),{provide:eg,useFactory:lE,deps:[[Mr,new h.FiY,new h.tp0]]},{provide:Yp,useValue:r||{}},r?.useHash?{provide:we,useClass:tt}:{provide:we,useClass:et},{provide:jy,useFactory:()=>{const n=(0,h.f3M)(Mr),e=(0,h.f3M)(Ra),t=(0,h.f3M)(Yp);return t.scrollOffset&&e.setOffset(t.scrollOffset),new cM(n,e,t)}},r?.preloadingStrategy?qb(r.preloadingStrategy):[],{provide:h.PXZ,multi:!0,useFactory:sf},r?.initialNavigation?cE(r):[],[{provide:tg,useFactory:hd},{provide:h.tb,multi:!0,useExisting:tg}]]}}static forChild(t){return{ngModule:n,providers:[$b(t)]}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(eg,8))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();function lE(n){return"guarded"}function $b(n){return[{provide:jr,multi:!0,useValue:n}]}function hd(){const n=(0,h.f3M)(h.zs3);return e=>{const t=n.get(h.z2F);if(e!==t.components[0])return;const r=n.get(Mr),i=n.get(ng);1===n.get(Gy)&&r.initialNavigation(),n.get(sE,null,h.XFs.Optional)?.setUpPreloading(),n.get(jy,null,h.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.next(),i.complete()}}const tg=new h.OlP("");function cE(n){return["disabled"===n.initialNavigation?[{provide:h.ip1,multi:!0,useFactory:()=>{const n=(0,h.f3M)(Mr);return()=>{n.setUpLocationChangeListener()}}},{provide:Gy,useValue:2}]:[],"enabledBlocking"===n.initialNavigation?[{provide:Gy,useValue:0},{provide:h.ip1,multi:!0,deps:[h.zs3],useFactory:n=>{const e=n.get(H,Promise.resolve(null));let t=!1;return()=>e.then(()=>new Promise(i=>{const u=n.get(Mr),c=n.get(ng);(function r(i){n.get(Mr).events.pipe(Ii(c=>c instanceof aa||c instanceof Fu||c instanceof kp),(0,_t.U)(c=>c instanceof aa||c instanceof Fu&&(0===c.code||1===c.code)&&null),Ii(c=>null!==c),ta(1)).subscribe(()=>{i()})})(()=>{i(!0),t=!0}),u.afterPreactivation=()=>(i(!0),t||c.closed?ze(void 0):c),u.initialNavigation()}))}}]:[]]}const ng=new h.OlP("",{factory:()=>new us.x}),Gy=new h.OlP("",{providedIn:"root",factory:()=>1});function qb(n){return[Bb,{provide:sE,useExisting:Bb},{provide:rE,useExisting:n}]}var fd=O(6457),Xt=O(2090),ca=O(9681),da=O(1877),rg=O(4859),Ie=O(5861),dE=O(127),hE=O(6451),ha=O(5363),fE=O(6063);class pE extends us.x{constructor(e=1/0,t=1/0,r=fE.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:u,_windowTime:c}=this;t||(r.push(e),!i&&r.push(u.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,u=i.slice();for(let c=0;c<u.length&&!e.closed;c+=r?1:2)e.next(u[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,u=(i?1:2)*e;if(e<1/0&&u<r.length&&r.splice(0,r.length-u),!i){const c=t.now();let f=0;for(let y=1;y<r.length&&r[y]<=c;y+=2)f=y;f&&r.splice(0,f+1)}}}var Zb=O(3099);function Kb(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,Zb.B)({connector:()=>new pE(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function af(n,e){return(0,go.m)(e)?yr(()=>n,e):yr(()=>n)}var zy=O(9468),vn=O(5813),Us=O(2011),au=O(5867);class Uu{constructor(e){return e}}class ig{constructor(){return(0,au.C6)()}}const og=new h.OlP("angularfire2._apps"),qy={provide:Uu,useFactory:function sg(n){return n&&1===n.length?n[0]:new Uu((0,au.Mq)())},deps:[[new h.FiY,og]]},gE={provide:ig,deps:[[new h.FiY,og]]};function Zy(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Uu(r)}}let uf=(()=>{class n{constructor(t){(0,au.KN)("angularfire",vn.q4.full,"core"),(0,au.KN)("angularfire",vn.q4.full,"app"),(0,au.KN)("angular",h.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.Lbi))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[qy,gE]}),n})();function Yb(n,...e){return{ngModule:uf,providers:[{provide:og,useFactory:Zy(n),multi:!0,deps:[h.R0b,h.zs3,vn.HU,...e]}]}}const mE=(0,vn.u3)(au.ZF,!0),Ky=new Map,Xb={activated:!1,tokenObservers:[]},_E={initialized:!1,enabled:!1};function $r(n){return Ky.get(n)||Xb}function Eo(n,e){Ky.set(n,e)}function zi(){return _E}class EE{constructor(e,t,r,i,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=i,i>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Ie.Z)(function*(){t.stop();try{t.pending=new Xt.BH,yield function rC(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Xt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Ti=new Xt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Qy(n){if(!$r(n).activated)throw Ti.create("use-before-activation",{appName:n.name})}function Jy(n,e){return Xy.apply(this,arguments)}function Xy(){return(Xy=(0,Ie.Z)(function*({url:n,body:e},t){var r,i;const u={"Content-Type":"application/json"},c=t.getImmediate({optional:!0});if(c){const B=yield c.getHeartbeatsHeader();B&&(u["X-Firebase-Client"]=B)}const f={method:"POST",body:JSON.stringify(e),headers:u};let y,E;try{y=yield fetch(n,f)}catch(B){throw Ti.create("fetch-network-error",{originalErrorMessage:null===(r=B)||void 0===r?void 0:r.message})}if(200!==y.status)throw Ti.create("fetch-status-error",{httpStatus:y.status});try{E=yield y.json()}catch(B){throw Ti.create("fetch-parse-error",{originalErrorMessage:null===(i=B)||void 0===i?void 0:i.message})}const A=E.ttl.match(/^([\d.]+)(s)$/);if(!A||!A[2]||isNaN(Number(A[1])))throw Ti.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${E.ttl}`});const S=1e3*Number(A[1]),L=Date.now();return{token:E.token,expireTimeMillis:L+S,issuedAtTimeMillis:L}})).apply(this,arguments)}function DE(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const ug="firebase-app-check-store";let cf=null;function Bu(){return cf||(cf=new Promise((n,e)=>{var t;try{const r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=i=>{n(i.target.result)},r.onerror=i=>{var u;e(Ti.create("storage-open",{originalErrorMessage:null===(u=i.target.error)||void 0===u?void 0:u.message}))},r.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(ug,{keyPath:"compositeKey"})}}catch(r){e(Ti.create("storage-open",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message}))}}),cf)}function bE(){return(bE=(0,Ie.Z)(function*(n,e){const r=(yield Bu()).transaction(ug,"readwrite"),u=r.objectStore(ug).put({compositeKey:n,value:e});return new Promise((c,f)=>{u.onsuccess=y=>{c()},r.onerror=y=>{var E;f(Ti.create("storage-set",{originalErrorMessage:null===(E=y.target.error)||void 0===E?void 0:E.message}))}})})).apply(this,arguments)}const lg=new da.Yd("@firebase/app-check");function CE(n,e){return(0,Xt.hl)()?function t_(n,e){return function cC(n,e){return bE.apply(this,arguments)}(function i_(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{lg.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function AE(){return zi().enabled}function s_(){return o_.apply(this,arguments)}function o_(){return(o_=(0,Ie.Z)(function*(){const n=zi();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const pC={error:"UNKNOWN_ERROR"};function gC(n){return Xt.US.encodeString(JSON.stringify(n),!1)}function cg(n){return dg.apply(this,arguments)}function dg(){return(dg=(0,Ie.Z)(function*(n,e=!1){const t=n.app;Qy(t);const r=$r(t);let u,i=r.token;if(!i){const y=yield r.cachedTokenPromise;y&&gd(y)&&(i=y)}if(!e&&i&&gd(i))return{token:i.token};let f,c=!1;if(AE()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Jy(DE(t,yield s_()),n.heartbeatServiceProvider).then(E=>(r.exchangeTokenPromise=void 0,E)),c=!0);const y=yield r.exchangeTokenPromise;return yield CE(t,y),Eo(t,Object.assign(Object.assign({},r),{token:y})),{token:y.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(y=>(r.exchangeTokenPromise=void 0,y)),c=!0),i=yield r.exchangeTokenPromise}catch(y){"appCheck/throttled"===y.code?lg.warn(y.message):lg.error(y),u=y}return i?(f={token:i.token},Eo(t,Object.assign(Object.assign({},r),{token:i})),yield CE(t,i)):f=yC(u),c&&mC(t,f),f})).apply(this,arguments)}function hg(n,e){const t=$r(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),Eo(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function u_(n){const{app:e}=n,t=$r(e);let r=t.tokenRefresher;r||(r=function l_(n){const{app:e}=n;return new EE((0,Ie.Z)(function*(){let r;if(r=$r(e).token?yield cg(n,!0):yield cg(n),r.error)throw r.error}),()=>!0,()=>{const t=$r(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),Eo(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function mC(n,e){const t=$r(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function gd(n){return n.expireTimeMillis-Date.now()>0}function yC(n){return{token:gC(pC),error:n}}class pM{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=$r(this.app);for(const t of e)hg(this.app,t.next);return Promise.resolve()}}const RE="app-check-internal";!function wM(){(0,ca._registerComponent)(new rg.wA("app-check",n=>function md(n,e){return new pM(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(RE).initialize()})),(0,ca._registerComponent)(new rg.wA(RE,n=>function SE(n){return{getToken:e=>cg(n,e),addTokenListener:e=>function a_(n,e,t,r){const{app:i}=n,u=$r(i),c={next:t,error:r,type:e};if(Eo(i,Object.assign(Object.assign({},u),{tokenObservers:[...u.tokenObservers,c]})),u.token&&gd(u.token)){const f=u.token;Promise.resolve().then(()=>{t({token:f.token}),u_(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>u_(n))}(n,"INTERNAL",e),removeTokenListener:e=>hg(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ca.registerVersion)("@firebase/app-check","0.5.12")}();class pf{constructor(){return(0,vn.vb)("app-check")}}typeof window<"u"&&window;const g_=new h.OlP("angularfire2.auth.use-emulator"),vg=new h.OlP("angularfire2.auth.settings"),FE=new h.OlP("angularfire2.auth.tenant-id"),uu=new h.OlP("angularfire2.auth.langugage-code"),m_=new h.OlP("angularfire2.auth.use-device-language"),LE=new h.OlP("angularfire.auth.persistence"),wg=(n,e,t,r,i,u,c,f)=>(0,Us.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const y=e.runOutsideAngular(()=>n.auth());if(t&&y.useEmulator(...t),r&&(y.tenantId=r),y.languageCode=i,u&&y.useDeviceLanguage(),c)for(const[E,A]of Object.entries(c))y.settings[E]=A;return f&&y.setPersistence(f),y},[t,r,i,u,c,f]);let Eg=(()=>{class n{constructor(t,r,i,u,c,f,y,E,A,S,L,B){const q=new us.x,de=ze(void 0).pipe((0,ha.Q)(c.outsideAngular),yr(()=>u.runOutsideAngular(()=>Promise.resolve().then(O.bind(O,5881)))),(0,_t.U)(()=>(0,Us.on)(t,u,r)),(0,_t.U)(Te=>wg(Te,u,f,E,A,S,y,L)),Kb({bufferSize:1,refCount:!1}));if(_l(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=ze(null);else{de.pipe(In()).subscribe();const We=de.pipe(yr(dt=>dt.getRedirectResult().then(Nt=>Nt,()=>null)),vn.iC,Kb({bufferSize:1,refCount:!1})),ct=de.pipe(yr(dt=>new ei.y(Nt=>({unsubscribe:u.runOutsideAngular(()=>dt.onAuthStateChanged(Ft=>Nt.next(Ft),Ft=>Nt.error(Ft),()=>Nt.complete()))})))),It=de.pipe(yr(dt=>new ei.y(Nt=>({unsubscribe:u.runOutsideAngular(()=>dt.onIdTokenChanged(Ft=>Nt.next(Ft),Ft=>Nt.error(Ft),()=>Nt.complete()))}))));this.authState=We.pipe(af(ct),(0,zy.R)(c.outsideAngular),(0,ha.Q)(c.insideAngular)),this.user=We.pipe(af(It),(0,zy.R)(c.outsideAngular),(0,ha.Q)(c.insideAngular)),this.idToken=this.user.pipe(yr(dt=>dt?(0,cn.D)(dt.getIdToken()):ze(null))),this.idTokenResult=this.user.pipe(yr(dt=>dt?(0,cn.D)(dt.getIdTokenResult()):ze(null))),this.credential=(0,hE.T)(We,q,this.authState.pipe(Ii(dt=>!dt))).pipe((0,_t.U)(dt=>dt?.user?dt:null),(0,zy.R)(c.outsideAngular),(0,ha.Q)(c.insideAngular))}return(0,Us.pX)(this,de,u,{spy:{apply:(Te,We,ct)=>{(Te.startsWith("signIn")||Te.startsWith("createUser"))&&ct.then(It=>q.next(It))}}})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Us.Dh),h.LFG(Us.xv,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(vn.HU),h.LFG(g_,8),h.LFG(vg,8),h.LFG(FE,8),h.LFG(uu,8),h.LFG(m_,8),h.LFG(LE,8),h.LFG(pf,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();var DC=O(4986);function y_(){return(0,vt.e)((n,e)=>{let t,r=!1;n.subscribe((0,Dn.x)(e,i=>{const u=t;t=i,r&&e.next([u,i]),r=!0}))})}function yd(n,e){return n===e}O(5881);var ut,_d=O(3942),Dg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},vs={},bg=bg||{},Bt=Dg||self;function vd(){}function gf(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function wd(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var v_="closure_uid_"+(1e9*Math.random()>>>0),TM=0;function bC(n,e,t){return n.call.apply(n.bind,arguments)}function UE(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function ni(n,e,t){return(ni=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?bC:UE).apply(null,arguments)}function mf(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Hr(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,u){for(var c=Array(arguments.length-2),f=2;f<arguments.length;f++)c[f-2]=arguments[f];return e.prototype[i].apply(r,c)}}function $u(){this.s=this.s,this.o=this.o}var BE={};$u.prototype.s=!1,$u.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function __(n){return Object.prototype.hasOwnProperty.call(n,v_)&&n[v_]||(n[v_]=++TM)}(this);delete BE[n]}},$u.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const jE=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},CC=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,i="string"==typeof n?n.split(""):n;for(let u=0;u<r;u++)u in i&&e.call(t,i[u],u,n)};function Cg(n){return Array.prototype.concat.apply([],arguments)}function Tg(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Ag(n){return/^[\s\xa0]*$/.test(n)}var Si,$E=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Ai(n,e){return-1!=n.indexOf(e)}function Sg(n,e){return n<e?-1:n>e?1:0}e:{var w_=Bt.navigator;if(w_){var HE=w_.userAgent;if(HE){Si=HE;break e}}Si=""}function E_(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function I_(n){const e={};for(const t in n)e[t]=n[t];return e}var D_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function GE(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let u=0;u<D_.length;u++)t=D_[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function js(n){return js[" "](n),n}js[" "]=vd;var Id,n,AC=Ai(Si,"Opera"),Ed=Ai(Si,"Trident")||Ai(Si,"MSIE"),SC=Ai(Si,"Edge"),Mg=SC||Ed,zE=Ai(Si,"Gecko")&&!(Ai(Si.toLowerCase(),"webkit")&&!Ai(Si,"Edge"))&&!(Ai(Si,"Trident")||Ai(Si,"MSIE"))&&!Ai(Si,"Edge"),MC=Ai(Si.toLowerCase(),"webkit")&&!Ai(Si,"Edge");function WE(){var n=Bt.document;return n?n.documentMode:void 0}e:{var C_="",T_=(n=Si,zE?/rv:([^\);]+)(\)|;)/.exec(n):SC?/Edge\/([\d\.]+)/.exec(n):Ed?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):MC?/WebKit\/(\S+)/.exec(n):AC?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(T_&&(C_=T_?T_[1]:""),Ed){var Dd=WE();if(null!=Dd&&Dd>parseFloat(C_)){Id=String(Dd);break e}}Id=C_}var A_={};var qE=Bt.document&&Ed&&(WE()||parseInt(Id,10))||void 0,AM=function(){if(!Bt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Bt.addEventListener("test",vd,e),Bt.removeEventListener("test",vd,e)}catch{}return n}();function Mi(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function Zl(n,e){if(Mi.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(zE){e:{try{js(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:SM[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Zl.Z.h.call(this)}}Mi.prototype.h=function(){this.defaultPrevented=!0},Hr(Zl,Mi);var SM={2:"touch",3:"pen",4:"mouse"};Zl.prototype.h=function(){Zl.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var yf="closure_listenable_"+(1e6*Math.random()|0),ZE=0;function KE(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=i,this.key=++ZE,this.ca=this.fa=!1}function _f(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function vf(n){this.src=n,this.g={},this.h=0}function wf(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],i=jE(r,e);(u=0<=i)&&Array.prototype.splice.call(r,i,1),u&&(_f(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Do(n,e,t,r){for(var i=0;i<n.length;++i){var u=n[i];if(!u.ca&&u.listener==e&&u.capture==!!t&&u.ia==r)return i}return-1}vf.prototype.add=function(n,e,t,r,i){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var c=Do(n,e,r,i);return-1<c?(e=n[c],t||(e.fa=!1)):((e=new KE(e,this.src,u,!!r,i)).fa=t,n.push(e)),e};var bd="closure_lm_"+(1e6*Math.random()|0),Cd={};function Td(n,e,t,r,i){if(r&&r.once)return M_(n,e,t,r,i);if(Array.isArray(e)){for(var u=0;u<e.length;u++)Td(n,e[u],t,r,i);return null}return t=XE(t),n&&n[yf]?n.N(e,t,wd(r)?!!r.capture:!!r,i):YE(n,e,t,!1,r,i)}function YE(n,e,t,r,i,u){if(!e)throw Error("Invalid event type");var c=wd(i)?!!i.capture:!!i,f=JE(n);if(f||(n[bd]=f=new vf(n)),(t=f.add(e,t,r,c,u)).proxy)return t;if(r=function S_(){var e=NC;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)AM||(i=c),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(Ad(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function M_(n,e,t,r,i){if(Array.isArray(e)){for(var u=0;u<e.length;u++)M_(n,e[u],t,r,i);return null}return t=XE(t),n&&n[yf]?n.O(e,t,wd(r)?!!r.capture:!!r,i):YE(n,e,t,!0,r,i)}function QE(n,e,t,r,i){if(Array.isArray(e))for(var u=0;u<e.length;u++)QE(n,e[u],t,r,i);else r=wd(r)?!!r.capture:!!r,t=XE(t),n&&n[yf]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Do(u=n.g[e],t,r,i))&&(_f(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=JE(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Do(e,t,r,i)),(t=-1<n?e[n]:null)&&x_(t))}function x_(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[yf])wf(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(Ad(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=JE(e))?(wf(t,n),0==t.h&&(t.src=null,e[bd]=null)):_f(n)}}}function Ad(n){return n in Cd?Cd[n]:Cd[n]="on"+n}function NC(n,e){if(n.ca)n=!0;else{e=new Zl(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&x_(n),n=t.call(r,e)}return n}function JE(n){return(n=n[bd])instanceof vf?n:null}var N_="__closure_events_fn_"+(1e9*Math.random()>>>0);function XE(n){return"function"==typeof n?n:(n[N_]||(n[N_]=function(e){return n.handleEvent(e)}),n[N_])}function Gr(){$u.call(this),this.i=new vf(this),this.P=this,this.I=null}function ri(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Mi(e,n);else if(e instanceof Mi)e.target=e.target||n;else{var i=e;GE(e=new Mi(r,n),i)}if(i=!0,t)for(var u=t.length-1;0<=u;u--){var c=e.g=t[u];i=Rg(c,r,!0,e)&&i}if(i=Rg(c=e.g=n,r,!0,e)&&i,i=Rg(c,r,!1,e)&&i,t)for(u=0;u<t.length;u++)i=Rg(c=e.g=t[u],r,!1,e)&&i}function Rg(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,u=0;u<e.length;++u){var c=e[u];if(c&&!c.ca&&c.capture==t){var f=c.listener,y=c.ia||c.src;c.fa&&wf(n.i,c),i=!1!==f.call(y,r)&&i}}return i&&!r.defaultPrevented}Hr(Gr,$u),Gr.prototype[yf]=!0,Gr.prototype.removeEventListener=function(n,e,t,r){QE(this,n,e,t,r)},Gr.prototype.M=function(){if(Gr.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)_f(t[r]);delete n.g[e],n.h--}}this.I=null},Gr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Gr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var R_=Bt.JSON.stringify;function MM(){var n=t0;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var k_,Pg=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new RC,n=>n.reset());class RC{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function P_(n){Bt.setTimeout(()=>{throw n},0)}function O_(n,e){k_||function PC(){var n=Bt.Promise.resolve(void 0);k_=function(){n.then(OC)}}(),F_||(k_(),F_=!0),t0.add(n,e)}var F_=!1,t0=new class e0{constructor(){this.h=this.g=null}add(e,t){const r=Pg.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function OC(){for(var n;n=MM();){try{n.h.call(n.g)}catch(t){P_(t)}var e=Pg;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}F_=!1}function Kl(n,e){Gr.call(this),this.h=n||1,this.g=e||Bt,this.j=ni(this.kb,this),this.l=Date.now()}function lu(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function n0(n,e,t){if("function"==typeof n)t&&(n=ni(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ni(n.handleEvent,n)}return 2147483647<Number(e)?-1:Bt.setTimeout(n,e||0)}function Sd(n){n.g=n0(()=>{n.g=null,n.i&&(n.i=!1,Sd(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Hr(Kl,Gr),(ut=Kl.prototype).da=!1,ut.S=null,ut.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),ri(this,"tick"),this.da&&(lu(this),this.start()))}},ut.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ut.M=function(){Kl.Z.M.call(this),lu(this),delete this.g};class kC extends $u{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Sd(this)}M(){super.M(),this.g&&(Bt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ef(n){$u.call(this),this.h=n,this.g={}}Hr(Ef,$u);var Og=[];function r0(n,e,t,r){Array.isArray(t)||(t&&(Og[0]=t.toString()),t=Og);for(var i=0;i<t.length;i++){var u=Td(e,t[i],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function bo(n){E_(n.g,function(e,t){this.g.hasOwnProperty(t)&&x_(e)},n),n.g={}}function Hu(){this.g=!0}function cu(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function L_(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var u=i[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var c=1;c<i.length;c++)i[c]=""}}}return R_(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Ef.prototype.M=function(){Ef.Z.M.call(this),bo(this)},Ef.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Hu.prototype.Aa=function(){this.g=!1},Hu.prototype.info=function(){};var Hs={},Ql=null;function du(){return Ql=Ql||new Gr}function Jl(n){Mi.call(this,Hs.Ma,n)}function fa(n){const e=du();ri(e,new Jl(e,n))}function Xl(n,e){Mi.call(this,Hs.STAT_EVENT,n),this.stat=e}function Ir(n){const e=du();ri(e,new Xl(e,n))}function ec(n,e){Mi.call(this,Hs.Na,n),this.size=e}function pa(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Bt.setTimeout(function(){n()},e)}Hs.Ma="serverreachability",Hr(Jl,Mi),Hs.STAT_EVENT="statevent",Hr(Xl,Mi),Hs.Na="timingevent",Hr(ec,Mi);var If={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},V_={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function kg(){}function B_(){}kg.prototype.h=null;var Vg,Md={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Fg(){Mi.call(this,"d")}function Lg(){Mi.call(this,"c")}function Ug(){}function Df(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new Ef(this),this.P=FC,this.W=new Kl(n=Mg?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new s0}function s0(){this.i=null,this.g="",this.h=!1}Hr(Fg,Mi),Hr(Lg,Mi),Hr(Ug,kg),Ug.prototype.g=function(){return new XMLHttpRequest},Ug.prototype.i=function(){return{}},Vg=new Ug;var FC=45e3,j_={},Bg={};function bf(n,e,t){n.K=1,n.v=Nd(ga(e)),n.s=t,n.U=!0,jg(n,null)}function jg(n,e){n.F=Date.now(),tc(n),n.A=ga(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),z_(t.h,"t",r),n.C=0,t=n.l.H,n.h=new s0,n.g=F0(n.l,t?e:null,!n.s),0<n.O&&(n.L=new kC(ni(n.Ia,n,n.g),n.O)),r0(n.V,n.g,"readystatechange",n.gb),e=n.H?I_(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),fa(1),function pi(n,e,t,r,i,u){n.info(function(){if(n.g)if(u)for(var c="",f=u.split("&"),y=0;y<f.length;y++){var E=f[y].split("=");if(1<E.length){var A=E[0];E=E[1];var S=A.split("_");c=2<=S.length&&"type"==S[1]?c+(A+"=")+E+"&":c+(A+"=redacted&")}}else c=null;else c=u;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.X,n.s)}function o0(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function Cf(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=$g(n,t),i==Bg){4==e&&(n.o=4,Ir(14),r=!1),cu(n.j,n.m,null,"[Incomplete Response]");break}if(i==j_){n.o=4,Ir(15),cu(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}cu(n.j,n.m,i,null),$_(n,i)}o0(n)&&i!=Bg&&i!=j_&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Ir(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),rv(e),e.L=!0,Ir(11))):(cu(n.j,n.m,t,"[Invalid Chunked Response]"),Gu(n),nc(n))}function $g(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Bg:(t=Number(e.substring(t,r)),isNaN(t)?j_:(r+=1)+t>e.length?Bg:(e=e.substr(r,t),n.C=r+t,e))}function tc(n){n.Y=Date.now()+n.P,a0(n,n.P)}function a0(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=pa(ni(n.eb,n),e)}function xd(n){n.B&&(Bt.clearTimeout(n.B),n.B=null)}function nc(n){0==n.l.G||n.I||R0(n.l,n)}function Gu(n){xd(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,lu(n.W),bo(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function $_(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||q_(t.i,n)))if(t.I=n.N,!n.J&&q_(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;Jg(t),Rf(t)}nv(t),Ir(18)}}else t.ta=i[1],0<t.ta-t.U&&37500>i[2]&&t.N&&0==t.A&&!t.v&&(t.v=pa(ni(t.ab,t),6e3));if(1>=ic(t.i)&&t.ka){try{t.ka()}catch{}t.ka=void 0}}else oc(t,11)}else if((n.J||t.g==n)&&Jg(t),!Ag(e))for(i=t.Ca.g.parse(e),e=0;e<i.length;e++){let E=i[e];if(t.U=E[0],E=E[1],2==t.G)if("c"==E[0]){t.J=E[1],t.la=E[2];const A=E[3];null!=A&&(t.ma=A,t.h.info("VER="+t.ma));const S=E[4];null!=S&&(t.za=S,t.h.info("SVER="+t.za));const L=E[5];null!=L&&"number"==typeof L&&0<L&&(t.K=r=1.5*L,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const B=n.g;if(B){const q=B.g?B.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(q){var u=r.i;!u.g&&(Ai(q,"spdy")||Ai(q,"quic")||Ai(q,"h2"))&&(u.j=u.l,u.g=new Set,u.h&&(Z_(u,u.h),u.h=null))}if(r.D){const de=B.g?B.g.getResponseHeader("X-HTTP-Session-Id"):null;de&&(r.sa=de,On(r.F,r.D,de))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var c=n;if((r=t).oa=k0(r,r.H?r.la:null,r.W),c.J){K_(r.i,c);var f=c,y=r.K;y&&f.setTimeout(y),f.B&&(xd(f),tc(f)),r.g=c}else x0(r);0<t.l.length&&Pf(t)}else"stop"!=E[0]&&"close"!=E[0]||oc(t,7);else 3==t.G&&("stop"==E[0]||"close"==E[0]?"stop"==E[0]?oc(t,7):Yg(t):"noop"!=E[0]&&t.j&&t.j.wa(E),t.A=0)}fa(4)}catch{}}function Hg(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(gf(n)||"string"==typeof n)CC(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(gf(n)||"string"==typeof n){t=[];for(var r=n.length,i=0;i<r;i++)t.push(i)}else for(i in t=[],r=0,n)t[r++]=i;r=function H_(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(gf(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length;for(var u=0;u<i;u++)e.call(void 0,r[u],t&&t[u],n)}}function rc(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof rc)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function Tf(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];zu(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var i={};for(t=e=0;e<n.g.length;)zu(i,r=n.g[e])||(n.g[t++]=r,i[r]=1),e++;n.g.length=t}}function zu(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(ut=Df.prototype).setTimeout=function(n){this.P=n},ut.gb=function(n){n=n.target;const e=this.L;e&&3==Ws(n)?e.l():this.Ia(n)},ut.Ia=function(n){try{if(n==this.g)e:{const A=Ws(this.g);var e=this.g.Da();const S=this.g.ba();if(!(3>A)&&(3!=A||Mg||this.g&&(this.h.h||this.g.ga()||T0(this.g)))){this.I||4!=A||7==e||fa(8==e||0>=S?3:2),xd(this);var t=this.g.ba();this.N=t;t:if(o0(this)){var r=T0(this.g);n="";var i=r.length,u=4==Ws(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Gu(this),nc(this);var c="";break t}this.h.i=new Bt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ga();if(this.i=200==t,function Yl(n,e,t,r,i,u,c){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+u+" "+c})}(this.j,this.u,this.A,this.m,this.X,A,t),this.i){if(this.$&&!this.J){t:{if(this.g){var f,y=this.g;if((f=y.g?y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ag(f)){var E=f;break t}}E=null}if(!(t=E)){this.i=!1,this.o=3,Ir(12),Gu(this),nc(this);break e}cu(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,$_(this,t)}this.U?(Cf(this,A,c),Mg&&this.i&&3==A&&(r0(this.V,this.W,"tick",this.fb),this.W.start())):(cu(this.j,this.m,c,null),$_(this,c)),4==A&&Gu(this),this.i&&!this.I&&(4==A?R0(this.l,this):(this.i=!1,tc(this)))}else 400==t&&0<c.indexOf("Unknown SID")?(this.o=3,Ir(12)):(this.o=0,Ir(13)),Gu(this),nc(this)}}}catch{}},ut.fb=function(){if(this.g){var n=Ws(this.g),e=this.g.ga();this.C<e.length&&(xd(this),Cf(this,n,e),this.i&&4!=n&&tc(this))}},ut.cancel=function(){this.I=!0,Gu(this)},ut.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function $s(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(fa(3),Ir(17)),Gu(this),this.o=2,nc(this)):a0(this,this.Y-n)},(ut=rc.prototype).R=function(){Tf(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},ut.T=function(){return Tf(this),this.g.concat()},ut.get=function(n,e){return zu(this.h,n)?this.h[n]:e},ut.set=function(n,e){zu(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},ut.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var i=t[r],u=this.get(i);n.call(e,u,i,this)}};var u0=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Wu(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Wu){this.g=void 0!==e?e:n.g,Gg(this,n.j),this.s=n.s,zg(this,n.i),Wg(this,n.m),this.l=n.l,e=n.h;var t=new Af;t.i=e.i,e.g&&(t.g=new rc(e.g),t.h=e.h),c0(this,t),this.o=n.o}else n&&(t=String(n).match(u0))?(this.g=!!e,Gg(this,t[1]||"",!0),this.s=Rd(t[2]||""),zg(this,t[3]||"",!0),Wg(this,t[4]),this.l=Rd(t[5]||"",!0),c0(this,t[6]||"",!0),this.o=Rd(t[7]||"")):(this.g=!!e,this.h=new Af(null,this.g))}function ga(n){return new Wu(n)}function Gg(n,e,t){n.j=t?Rd(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function zg(n,e,t){n.i=t?Rd(e,!0):e}function Wg(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function c0(n,e,t){e instanceof Af?(n.h=e,function VC(n,e){e&&!n.j&&(hu(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(m0(this,r),z_(this,i,t))},n)),n.j=e}(n.h,n.g)):(t||(e=Pd(e,xM)),n.h=new Af(e,n.g))}function On(n,e,t){n.h.set(e,t)}function Nd(n){return On(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Rd(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Pd(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,f0),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function f0(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Wu.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Pd(e,G_,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Pd(e,G_,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(Pd(t,"/"==t.charAt(0)?g0:p0,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Pd(t,LC)),n.join("")};var G_=/[#\/\?@]/g,p0=/[#\?:]/g,g0=/[#\?]/g,xM=/[#\?@]/g,LC=/#/g;function Af(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function hu(n){n.g||(n.g=new rc,n.h=0,n.i&&function l0(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var u=n[t].substring(0,r);i=n[t].substring(r+1)}else u=n[t];e(u,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function m0(n,e){hu(n),e=Od(n,e),zu(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,zu((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&Tf(n)))}function Dr(n,e){return hu(n),e=Od(n,e),zu(n.g.h,e)}function z_(n,e,t){m0(n,e),0<t.length&&(n.i=null,n.g.set(Od(n,e),Tg(t)),n.h+=t.length)}function Od(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function _0(n){this.l=n||v0,n=Bt.PerformanceNavigationTiming?0<(n=Bt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Bt.g&&Bt.g.Ea&&Bt.g.Ea()&&Bt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ut=Af.prototype).add=function(n,e){hu(this),this.i=null,n=Od(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},ut.forEach=function(n,e){hu(this),this.g.forEach(function(t,r){CC(t,function(i){n.call(e,i,r,this)},this)},this)},ut.T=function(){hu(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var i=n[r],u=0;u<i.length;u++)t.push(e[r]);return t},ut.R=function(n){hu(this);var e=[];if("string"==typeof n)Dr(this,n)&&(e=Cg(e,this.g.get(Od(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=Cg(e,n[t])}return e},ut.set=function(n,e){return hu(this),this.i=null,Dr(this,n=Od(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},ut.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},ut.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],i=encodeURIComponent(String(r));r=this.R(r);for(var u=0;u<r.length;u++){var c=i;""!==r[u]&&(c+="="+encodeURIComponent(String(r[u]))),n.push(c)}}return this.i=n.join("&")};var v0=10;function W_(n){return!!n.h||!!n.g&&n.g.size>=n.j}function ic(n){return n.h?1:n.g?n.g.size:0}function q_(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Z_(n,e){n.g?n.g.add(e):n.h=e}function K_(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function w0(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Tg(n.i)}function qg(){}function NM(){this.g=new qg}function E0(n,e,t){const r=t||"";try{Hg(n,function(i,u){let c=i;wd(i)&&(c=R_(i)),e.push(r+u+"="+encodeURIComponent(c))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Es(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Sf(n){this.l=n.$b||null,this.j=n.ib||!1}function Zg(n,e){Gr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Gs,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}_0.prototype.cancel=function(){if(this.i=w0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},qg.prototype.stringify=function(n){return Bt.JSON.stringify(n,void 0)},qg.prototype.parse=function(n){return Bt.JSON.parse(n,void 0)},Hr(Sf,kg),Sf.prototype.g=function(){return new Zg(this.l,this.j)},Sf.prototype.i=function(n){return function(){return n}}({}),Hr(Zg,Gr);var Gs=0;function zs(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function xi(n){n.readyState=4,n.l=null,n.j=null,n.A=null,kd(n)}function kd(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(ut=Zg.prototype).open=function(n,e){if(this.readyState!=Gs)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,kd(this)},ut.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Bt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},ut.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,xi(this)),this.readyState=Gs},ut.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,kd(this)),this.g&&(this.readyState=3,kd(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof Bt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;zs(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},ut.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?xi(this):kd(this),3==this.readyState&&zs(this)}},ut.Ua=function(n){this.g&&(this.response=this.responseText=n,xi(this))},ut.Ta=function(n){this.g&&(this.response=n,xi(this))},ut.ha=function(){this.g&&xi(this)},ut.setRequestHeader=function(n,e){this.v.append(n,e)},ut.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},ut.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Zg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var I0=Bt.JSON.parse;function br(n){Gr.call(this),this.headers=new rc,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=D0,this.K=this.L=!1}Hr(br,Gr);var D0="",UC=/^https?$/i,BC=["POST","PUT"];function Mf(n){return"content-type"==n.toLowerCase()}function b0(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,J_(n),xf(n)}function J_(n){n.D||(n.D=!0,ri(n,"complete"),ri(n,"error"))}function C0(n){if(n.h&&typeof bg<"u"&&(!n.C[1]||4!=Ws(n)||2!=n.ba()))if(n.v&&4==Ws(n))n0(n.Fa,0,n);else if(ri(n,"readystatechange"),4==Ws(n)){n.h=!1;try{const f=n.ba();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===f){var i=String(n.H).match(u0)[1]||null;if(!i&&Bt.self&&Bt.self.location){var u=Bt.self.location.protocol;i=u.substr(0,u.length-1)}r=!UC.test(i?i.toLowerCase():"")}t=r}if(t)ri(n,"complete"),ri(n,"success");else{n.m=6;try{var c=2<Ws(n)?n.g.statusText:""}catch{c=""}n.j=c+" ["+n.ba()+"]",J_(n)}}finally{xf(n)}}}function xf(n,e){if(n.g){X_(n);const t=n.g,r=n.C[0]?vd:null;n.g=null,n.C=null,e||ri(n,"ready");try{t.onreadystatechange=r}catch{}}}function X_(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Bt.clearTimeout(n.A),n.A=null)}function Ws(n){return n.g?n.g.readyState:0}function T0(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case D0:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function Kg(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function A0(n){let e="";return E_(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):On(n,e,t))}function sc(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Nf(n){this.za=0,this.l=[],this.h=new Hu,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=sc("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=sc("baseRetryDelayMs",5e3,n),this.$a=sc("retryDelaySeedMs",1e4,n),this.Ya=sc("forwardChannelMaxRetries",2,n),this.ra=sc("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new _0(n&&n.concurrentRequestLimit),this.Ca=new NM,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function Yg(n){if(ev(n),3==n.G){var e=n.V++,t=ga(n.F);On(t,"SID",n.J),On(t,"RID",e),On(t,"TYPE","terminate"),Fd(n,t),(e=new Df(n,n.h,e,void 0)).K=2,e.v=Nd(ga(t)),t=!1,Bt.navigator&&Bt.navigator.sendBeacon&&(t=Bt.navigator.sendBeacon(e.v.toString(),"")),!t&&Bt.Image&&((new Image).src=e.v,t=!0),t||(e.g=F0(e.l,null),e.g.ea(e.v)),e.F=Date.now(),tc(e)}O0(n)}function Rf(n){n.g&&(rv(n),n.g.cancel(),n.g=null)}function ev(n){Rf(n),n.u&&(Bt.clearTimeout(n.u),n.u=null),Jg(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Bt.clearTimeout(n.m),n.m=null)}function Qg(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&Pf(n)}function Pf(n){W_(n.i)||n.m||(n.m=!0,O_(n.Ha,n),n.C=0)}function tv(n,e){var t;t=e?e.m:n.V++;const r=ga(n.F);On(r,"SID",n.J),On(r,"RID",t),On(r,"AID",n.U),Fd(n,r),n.o&&n.s&&Kg(r,n.o,n.s),t=new Df(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=M0(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),Z_(n.i,t),bf(t,r,e)}function Fd(n,e){n.j&&Hg({},function(t,r){On(e,r,t)})}function M0(n,e,t){t=Math.min(n.l.length,t);var r=n.j?ni(n.j.Oa,n.j,n):null;e:{var i=n.l;let u=-1;for(;;){const c=["count="+t];-1==u?0<t?(u=i[0].h,c.push("ofs="+u)):u=0:c.push("ofs="+u);let f=!0;for(let y=0;y<t;y++){let E=i[y].h;const A=i[y].g;if(E-=u,0>E)u=Math.max(0,i[y].h-100),f=!1;else try{E0(A,c,"req"+E+"_")}catch{r&&r(A)}}if(f){r=c.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function x0(n){n.g||n.u||(n.Y=1,O_(n.Ga,n),n.A=0)}function nv(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=pa(ni(n.Ga,n),P0(n,n.A)),n.A++,0))}function rv(n){null!=n.B&&(Bt.clearTimeout(n.B),n.B=null)}function N0(n){n.g=new Df(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=ga(n.oa);On(e,"RID","rpc"),On(e,"SID",n.J),On(e,"CI",n.N?"0":"1"),On(e,"AID",n.U),Fd(n,e),On(e,"TYPE","xmlhttp"),n.o&&n.s&&Kg(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=Nd(ga(e)),t.s=null,t.U=!0,jg(t,n)}function Jg(n){null!=n.v&&(Bt.clearTimeout(n.v),n.v=null)}function R0(n,e){var t=null;if(n.g==e){Jg(n),rv(n),n.g=null;var r=2}else{if(!q_(n.i,e))return;t=e.D,K_(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;ri(r=du(),new ec(r,t,e,i)),Pf(n)}else x0(n);else if(3==(i=e.o)||0==i&&0<n.I||!(1==r&&function S0(n,e){return!(ic(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=pa(ni(n.Ha,n,e),P0(n,n.C)),n.C++,0)))}(n,e)||2==r&&nv(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:oc(n,5);break;case 4:oc(n,10);break;case 3:oc(n,6);break;default:oc(n,2)}}function P0(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function oc(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=ni(n.jb,n);t||(t=new Wu("//www.google.com/images/cleardot.gif"),Bt.location&&"http"==Bt.location.protocol||Gg(t,"https"),Nd(t)),function Y_(n,e){const t=new Hu;if(Bt.Image){const r=new Image;r.onload=mf(Es,t,r,"TestLoadImage: loaded",!0,e),r.onerror=mf(Es,t,r,"TestLoadImage: error",!1,e),r.onabort=mf(Es,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=mf(Es,t,r,"TestLoadImage: timeout",!1,e),Bt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Ir(2);n.G=0,n.j&&n.j.va(e),O0(n),ev(n)}function O0(n){n.G=0,n.I=-1,n.j&&((0!=w0(n.i).length||0!=n.l.length)&&(n.i.i.length=0,Tg(n.l),n.l.length=0),n.j.ua())}function k0(n,e,t){let r=function d0(n){return n instanceof Wu?ga(n):new Wu(n,void 0)}(t);if(""!=r.i)e&&zg(r,e+"."+r.i),Wg(r,r.m);else{const i=Bt.location;r=function h0(n,e,t,r){var i=new Wu(null,void 0);return n&&Gg(i,n),e&&zg(i,e),t&&Wg(i,t),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,t)}return n.aa&&E_(n.aa,function(i,u){On(r,u,i)}),t=n.sa,(e=n.D)&&t&&On(r,e,t),On(r,"VER",n.ma),Fd(n,r),r}function F0(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new br(t&&n.Ba&&!n.qa?new Sf({ib:!0}):n.qa)).L=n.H,e}function L0(){}function Xg(){if(Ed&&!(10<=Number(qE)))throw Error("Environmental error: no available transport.")}function Is(n,e){Gr.call(this),this.g=new Nf(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!Ag(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ag(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Ld(this)}function V0(n){Fg.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function U0(){Lg.call(this),this.status=1}function Ld(n){this.g=n}(ut=br.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Vg.g(),this.C=function U_(n){return n.h||(n.h=n.i())}(this.u?this.u:Vg),this.g.onreadystatechange=ni(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(u){return void b0(this,u)}n=t||"";const i=new rc(this.headers);r&&Hg(r,function(u,c){i.set(c,u)}),r=function TC(n){e:{var e=Mf;const t=n.length,r="string"==typeof n?n.split(""):n;for(let i=0;i<t;i++)if(i in r&&e.call(void 0,r[i],i,n)){e=i;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(i.T()),t=Bt.FormData&&n instanceof Bt.FormData,!(0<=jE(BC,e))||r||t||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(u,c){this.g.setRequestHeader(c,u)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{X_(this),0<this.B&&((this.K=function Q_(n){return Ed&&function xC(){return function b_(n){var e=A_;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=$E(String(Id)).split("."),t=$E("9").split("."),r=Math.max(e.length,t.length);for(let c=0;0==n&&c<r;c++){var i=e[c]||"",u=t[c]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==i[0].length&&0==u[0].length)break;n=Sg(0==i[1].length?0:parseInt(i[1],10),0==u[1].length?0:parseInt(u[1],10))||Sg(0==i[2].length,0==u[2].length)||Sg(i[2],u[2]),i=i[3],u=u[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ni(this.pa,this)):this.A=n0(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){b0(this,u)}},ut.pa=function(){typeof bg<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ri(this,"timeout"),this.abort(8))},ut.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ri(this,"complete"),ri(this,"abort"),xf(this))},ut.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),xf(this,!0)),br.Z.M.call(this)},ut.Fa=function(){this.s||(this.F||this.v||this.l?C0(this):this.cb())},ut.cb=function(){C0(this)},ut.ba=function(){try{return 2<Ws(this)?this.g.status:-1}catch{return-1}},ut.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}},ut.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),I0(e)}},ut.Da=function(){return this.m},ut.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(ut=Nf.prototype).ma=8,ut.G=1,ut.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch{}},ut.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const i=new Df(this,this.h,n,void 0);let u=this.s;if(this.P&&(u?(u=I_(u),GE(u,this.P)):u=this.P),null===this.o&&(i.H=u),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=M0(this,i,e),On(t=ga(this.F),"RID",n),On(t,"CVER",22),this.D&&On(t,"X-HTTP-Session-Id",this.D),Fd(this,t),this.o&&u&&Kg(t,this.o,u),Z_(this.i,i),this.Ra&&On(t,"TYPE","init"),this.ja?(On(t,"$req",e),On(t,"SID","null"),i.$=!0,bf(i,t,null)):bf(i,t,e),this.G=2}}else 3==this.G&&(n?tv(this,n):0==this.l.length||W_(this.i)||tv(this))},ut.Ga=function(){if(this.u=null,N0(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=pa(ni(this.bb,this),n)}},ut.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Ir(10),Rf(this),N0(this))},ut.ab=function(){null!=this.v&&(this.v=null,Rf(this),nv(this),Ir(19))},ut.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Ir(2)):(this.h.info("Failed to ping google.com"),Ir(1))},(ut=L0.prototype).xa=function(){},ut.wa=function(){},ut.va=function(){},ut.ua=function(){},ut.Oa=function(){},Xg.prototype.g=function(n,e){return new Is(n,e)},Hr(Is,Gr),Is.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),O_(ni(n.hb,n,e))),Ir(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=k0(n,null,n.W),Pf(n)},Is.prototype.close=function(){Yg(this.g)},Is.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,Qg(this.g,e)}else this.v?((e={}).__data__=R_(n),Qg(this.g,e)):Qg(this.g,n)},Is.prototype.M=function(){this.g.j=null,delete this.j,Yg(this.g),delete this.g,Is.Z.M.call(this)},Hr(V0,Fg),Hr(U0,Lg),Hr(Ld,L0),Ld.prototype.xa=function(){ri(this.g,"a")},Ld.prototype.wa=function(n){ri(this.g,new V0(n))},Ld.prototype.va=function(n){ri(this.g,new U0(n))},Ld.prototype.ua=function(){ri(this.g,"b")},Xg.prototype.createWebChannel=Xg.prototype.g,Is.prototype.send=Is.prototype.u,Is.prototype.open=Is.prototype.m,Is.prototype.close=Is.prototype.close,If.NO_ERROR=0,If.TIMEOUT=8,If.HTTP_ERROR=6,V_.COMPLETE="complete",B_.EventType=Md,Md.OPEN="a",Md.CLOSE="b",Md.ERROR="c",Md.MESSAGE="d",Gr.prototype.listen=Gr.prototype.N,br.prototype.listenOnce=br.prototype.O,br.prototype.getLastError=br.prototype.La,br.prototype.getLastErrorCode=br.prototype.Da,br.prototype.getStatus=br.prototype.ba,br.prototype.getResponseJson=br.prototype.Qa,br.prototype.getResponseText=br.prototype.ga,br.prototype.send=br.prototype.ea;var B0=vs.createWebChannelTransport=function(){return new Xg},j0=vs.getStatEventTarget=function(){return du()},em=vs.ErrorCode=If,$0=vs.EventType=V_,H0=vs.Event=Hs,iv=vs.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},G0=vs.FetchXmlHttpFactory=Sf,Of=vs.WebChannel=B_,z0=vs.XhrIo=br;const sv="@firebase/firestore";class xr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}xr.UNAUTHENTICATED=new xr(null),xr.GOOGLE_CREDENTIALS=new xr("google-credentials-uid"),xr.FIRST_PARTY=new xr("first-party-uid"),xr.MOCK_USER=new xr("mock-user");let qs="9.9.2";const qu=new da.Yd("@firebase/firestore");function ov(){return qu.logLevel}function je(n,...e){if(qu.logLevel<=da.in.DEBUG){const t=e.map(tm);qu.debug(`Firestore (${qs}): ${n}`,...t)}}function er(n,...e){if(qu.logLevel<=da.in.ERROR){const t=e.map(tm);qu.error(`Firestore (${qs}): ${n}`,...t)}}function Ud(n,...e){if(qu.logLevel<=da.in.WARN){const t=e.map(tm);qu.warn(`Firestore (${qs}): ${n}`,...t)}}function tm(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function lt(n="Unexpected state"){const e=`FIRESTORE (${qs}) INTERNAL ASSERTION FAILED: `+n;throw er(e),new Error(e)}function kt(n,e){n||lt()}function nt(n,e){return n}const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Le extends Xt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class tr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class W0{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class nm{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(xr.UNAUTHENTICATED))}shutdown(){}}class rm{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class sr{constructor(e){this.t=e,this.currentUser=xr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const u=E=>this.i!==i?(i=this.i,t(E)):Promise.resolve();let c=new tr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new tr,e.enqueueRetryable(()=>u(this.currentUser))};const f=()=>{const E=c;e.enqueueRetryable((0,Ie.Z)(function*(){yield E.promise,yield u(r.currentUser)}))},y=E=>{je("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=E,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(E=>y(E)),setTimeout(()=>{if(!this.auth){const E=this.t.getImmediate({optional:!0});E?y(E):(je("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new tr)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(je("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(kt("string"==typeof r.accessToken),new W0(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return kt(null===e||"string"==typeof e),new xr(e)}}class RM{constructor(e,t,r){this.type="FirstParty",this.user=xr.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class q0{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new RM(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(xr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class av{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class jC{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=u=>{null!=u.error&&je("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.p;return this.p=u.token,je("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const i=u=>{je("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.g.onInit(u=>i(u)),setTimeout(()=>{if(!this.appCheck){const u=this.g.getImmediate({optional:!0});u?i(u):je("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(kt("string"==typeof t.token),this.p=t.token,new av(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Z0(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class uv{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Z0(40);for(let u=0;u<i.length;++u)r.length<20&&i[u]<t&&(r+=e.charAt(i[u]%e.length))}return r}}function jt(n,e){return n<e?-1:n>e?1:0}function Bd(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function K0(n){return n+"\0"}class zn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Le(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Le(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Le(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Le(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return zn.fromMillis(Date.now())}static fromDate(e){return zn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new zn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?jt(this.nanoseconds,e.nanoseconds):jt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ct{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ct(e)}static min(){return new Ct(new zn(0,0))}static max(){return new Ct(new zn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class kf{constructor(e,t,r){void 0===t?t=0:t>e.length&&lt(),void 0===r?r=e.length-t:r>e.length-t&&lt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===kf.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof kf?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const u=e.get(i),c=t.get(i);if(u<c)return-1;if(u>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class dn extends kf{construct(e,t,r){return new dn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Le(me.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new dn(t)}static emptyPath(){return new dn([])}}const HC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Un extends kf{construct(e,t,r){return new Un(e,t,r)}static isValidIdentifier(e){return HC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Un.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Un(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const u=()=>{if(0===r.length)throw new Le(me.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;i<e.length;){const f=e[i];if("\\"===f){if(i+1===e.length)throw new Le(me.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[i+1];if("\\"!==y&&"."!==y&&"`"!==y)throw new Le(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,i+=2}else"`"===f?(c=!c,i++):"."!==f||c?(r+=f,i++):(u(),i++)}if(u(),c)throw new Le(me.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Un(t)}static emptyPath(){return new Un([])}}class Je{constructor(e){this.path=e}static fromPath(e){return new Je(dn.fromString(e))}static fromName(e){return new Je(dn.fromString(e).popFirst(5))}static empty(){return new Je(dn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===dn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return dn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Je(new dn(e.slice()))}}class Ff{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function im(n){return n.fields.find(e=>2===e.kind)}function ac(n){return n.fields.filter(e=>2!==e.kind)}Ff.UNKNOWN_ID=-1;class Zu{constructor(e,t){this.fieldPath=e,this.kind=t}}class Vf{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Vf(0,Wi.min())}}function Y0(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Ct.fromTimestamp(1e9===r?new zn(t+1,0):new zn(t,r));return new Wi(i,Je.empty(),e)}function lv(n){return new Wi(n.readTime,n.key,-1)}class Wi{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Wi(Ct.min(),Je.empty(),-1)}static max(){return new Wi(Ct.max(),Je.empty(),-1)}}function sm(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Je.comparator(n.documentKey,e.documentKey),0!==t?t:jt(n.largestBatchId,e.largestBatchId))}const Q0="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cv{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ku(n){return dv.apply(this,arguments)}function dv(){return dv=(0,Ie.Z)(function*(n){if(n.code!==me.FAILED_PRECONDITION||n.message!==Q0)throw n;je("LocalStore","Unexpectedly lost primary lease")}),dv.apply(this,arguments)}class ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&lt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ce((r,i)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,i)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ce?t:ce.resolve(t)}catch(t){return ce.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ce.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ce.reject(t)}static resolve(e){return new ce((t,r)=>{t(e)})}static reject(e){return new ce((t,r)=>{r(e)})}static waitFor(e){return new ce((t,r)=>{let i=0,u=0,c=!1;e.forEach(f=>{++i,f.next(()=>{++u,c&&u===i&&t()},y=>r(y))}),c=!0,u===i&&t()})}static or(e){let t=ce.resolve(!1);for(const r of e)t=t.next(i=>i?ce.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,u)=>{r.push(t.call(this,i,u))}),this.waitFor(r)}static mapArray(e,t){return new ce((r,i)=>{const u=e.length,c=new Array(u);let f=0;for(let y=0;y<u;y++){const E=y;t(e[E]).next(A=>{c[E]=A,++f,f===u&&r(c)},A=>i(A))}})}static doWhile(e,t){return new ce((r,i)=>{const u=()=>{!0===e()?t().next(()=>{u()},i):r()};u()})}}class hv{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.T=new tr,this.transaction.oncomplete=()=>{this.T.resolve()},this.transaction.onabort=()=>{t.error?this.T.reject(new jd(e,t.error)):this.T.resolve()},this.transaction.onerror=r=>{const i=lc(r.target.error);this.T.reject(new jd(e,i))}}static open(e,t,r,i){try{return new hv(t,e.transaction(i,r))}catch(u){throw new jd(t,u)}}get A(){return this.T.promise}abort(e){e&&this.T.reject(e),this.aborted||(je("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}R(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new zC(t)}}class ma{constructor(e,t,r){this.name=e,this.version=t,this.P=r,12.2===ma.v((0,Xt.z$)())&&er("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return je("SimpleDb","Removing database:",e),uc(window.indexedDB.deleteDatabase(e)).toPromise()}static V(){if(!(0,Xt.hl)())return!1;if(ma.S())return!0;const e=(0,Xt.z$)(),t=ma.v(e),r=0<t&&t<10,i=ma.D(e),u=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||u)}static S(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.C)}static N(e,t){return e.store(t)}static v(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static D(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}k(e){var t=this;return(0,Ie.Z)(function*(){return t.db||(je("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=c=>{r(c.target.result)},u.onblocked=()=>{i(new jd(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=c=>{const f=c.target.error;i("VersionError"===f.name?new Le(me.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new Le(me.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new jd(e,f))},u.onupgradeneeded=c=>{je("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',c.oldVersion),t.P.M(c.target.result,u.transaction,c.oldVersion,t.version).next(()=>{je("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.O&&(t.db.onversionchange=r=>t.O(r)),t.db})()}F(e){this.O=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var u=this;return(0,Ie.Z)(function*(){const c="readonly"===t;let f=0;for(;;){++f;try{u.db=yield u.k(e);const y=hv.open(u.db,e,c?"readonly":"readwrite",r),E=i(y).next(A=>(y.R(),A)).catch(A=>(y.abort(A),ce.reject(A))).toPromise();return E.catch(()=>{}),yield y.A,E}catch(y){const E=y,A="FirebaseError"!==E.name&&f<3;if(je("SimpleDb","Transaction failed with error:",E.message,"Retrying:",A),u.close(),!A)return Promise.reject(E)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class PM{constructor(e){this.$=e,this.B=!1,this.L=null}get isDone(){return this.B}get U(){return this.L}set cursor(e){this.$=e}done(){this.B=!0}q(e){this.L=e}delete(){return uc(this.$.delete())}}class jd extends Le{constructor(e,t){super(me.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Co(n){return"IndexedDbTransactionError"===n.name}class zC{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(je("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(je("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),uc(r)}add(e){return je("SimpleDb","ADD",this.store.name,e,e),uc(this.store.add(e))}get(e){return uc(this.store.get(e)).next(t=>(void 0===t&&(t=null),je("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return je("SimpleDb","DELETE",this.store.name,e),uc(this.store.delete(e))}count(){return je("SimpleDb","COUNT",this.store.name),uc(this.store.count())}K(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),u=[];return this.G(i,(c,f)=>{u.push(f)}).next(()=>u)}{const i=this.store.getAll(r.range);return new ce((u,c)=>{i.onerror=f=>{c(f.target.error)},i.onsuccess=f=>{u(f.target.result)}})}}j(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new ce((i,u)=>{r.onerror=c=>{u(c.target.error)},r.onsuccess=c=>{i(c.target.result)}})}W(e,t){je("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.H=!1;const i=this.cursor(r);return this.G(i,(u,c,f)=>f.delete())}J(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.G(i,t)}Y(e){const t=this.cursor({});return new ce((r,i)=>{t.onerror=u=>{const c=lc(u.target.error);i(c)},t.onsuccess=u=>{const c=u.target.result;c?e(c.primaryKey,c.value).next(f=>{f?c.continue():r()}):r()}})}G(e,t){const r=[];return new ce((i,u)=>{e.onerror=c=>{u(c.target.error)},e.onsuccess=c=>{const f=c.target.result;if(!f)return void i();const y=new PM(f),E=t(f.primaryKey,f.value,y);if(E instanceof ce){const A=E.catch(S=>(y.done(),ce.reject(S)));r.push(A)}y.isDone?i():null===y.U?f.continue():f.continue(y.U)}}).next(()=>ce.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function uc(n){return new ce((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=lc(r.target.error);t(i)}})}let fv=!1;function lc(n){const e=ma.v((0,Xt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Le("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return fv||(fv=!0,setTimeout(()=>{throw r},0)),r}}return n}class WC{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){this.Z(15)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}Z(e){var t=this;je("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Ie.Z)(function*(){t.task=null;try{je("IndexBackiller",`Documents written: ${yield t.X.tt()}`)}catch(r){Co(r)?je("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield Ku(r)}yield t.Z(1)}))}}class qC{constructor(e,t){this.localStore=e,this.persistence=t}tt(e=50){var t=this;return(0,Ie.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.et(r,e))})()}et(e,t){const r=new Set;let i=t,u=!0;return ce.doWhile(()=>!0===u&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(c=>{if(null!==c&&!r.has(c))return je("IndexBackiller",`Processing collection: ${c}`),this.nt(e,c,i).next(f=>{i-=f,r.add(c)});u=!1})).next(()=>t-i)}nt(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(u=>{const c=u.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next(()=>this.st(i,u)).next(f=>(je("IndexBackiller",`Updating offset: ${f}`),this.localStore.indexManager.updateCollectionGroup(e,t,f))).next(()=>c.size)}))}st(e,t){let r=e;return t.changes.forEach((i,u)=>{const c=lv(u);sm(c,r)>0&&(r=c)}),new Wi(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}class qi{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.it(r),this.rt=r=>t.writeSequenceNumber(r))}it(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.rt&&this.rt(e),e}}function J0(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function cc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function pv(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}qi.ot=-1;class or{constructor(e,t){this.comparator=e,this.root=t||ar.EMPTY}insert(e,t){return new or(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ar.BLACK,null,null))}remove(e){return new or(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ar.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new om(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new om(this.root,e,this.comparator,!1)}getReverseIterator(){return new om(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new om(this.root,e,this.comparator,!0)}}class om{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&i&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ar{constructor(e,t,r,i,u){this.key=e,this.value=t,this.color=r??ar.RED,this.left=i??ar.EMPTY,this.right=u??ar.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,u){return new ar(e??this.key,t??this.value,r??this.color,i??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const u=r(e,i.key);return i=u<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===u?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ar.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return ar.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ar.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ar.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw lt();const e=this.left.check();if(e!==this.right.check())throw lt();return e+(this.isRed()?0:1)}}ar.EMPTY=null,ar.RED=!0,ar.BLACK=!1,ar.EMPTY=new class{constructor(){this.size=0}get key(){throw lt()}get value(){throw lt()}get color(){throw lt()}get left(){throw lt()}get right(){throw lt()}copy(n,e,t,r,i){return this}insert(n,e,t){return new ar(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Cn{constructor(e){this.comparator=e,this.data=new or(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new gv(this.data.getIterator())}getIteratorFrom(e){return new gv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Cn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(i,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Cn(this.comparator);return t.data=e,t}}class gv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function $d(n){return n.hasNext()?n.getNext():void 0}class Zi{constructor(e){this.fields=e,e.sort(Un.comparator)}static empty(){return new Zi([])}unionWith(e){let t=new Cn(Un.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Zi(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Bd(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Cr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Cr(t)}static fromUint8Array(e){const t=function(r){let i="";for(let u=0;u<r.length;++u)i+=String.fromCharCode(r[u]);return i}(e);return new Cr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return jt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Cr.EMPTY_BYTE_STRING=new Cr("");const KC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ya(n){if(kt(!!n),"string"==typeof n){let e=0;const t=KC.exec(n);if(kt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ur(n.seconds),nanos:ur(n.nanos)}}function ur(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Yu(n){return"string"==typeof n?Cr.fromBase64String(n):Cr.fromUint8Array(n)}function am(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function X0(n){const e=n.mapValue.fields.__previous_value__;return am(e)?X0(e):e}function Uf(n){const e=ya(n.mapValue.fields.__local_write_time__.timestampValue);return new zn(e.seconds,e.nanos)}class YC{constructor(e,t,r,i,u,c,f,y){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.useFetchStreams=y}}class To{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new To("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof To&&e.projectId===this.projectId&&e.database===this.database}}function Bf(n){return null==n}function Hd(n){return 0===n&&1/n==-1/0}function eI(n){return"number"==typeof n&&Number.isInteger(n)&&!Hd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const Qu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},um={nullValue:"NULL_VALUE"};function dc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?am(n)?4:dm(n)?9007199254740991:10:lt()}function _a(n,e){if(n===e)return!0;const t=dc(n);if(t!==dc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Uf(n).isEqual(Uf(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const u=ya(r.timestampValue),c=ya(i.timestampValue);return u.seconds===c.seconds&&u.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Yu(n.bytesValue).isEqual(Yu(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return ur(r.geoPointValue.latitude)===ur(i.geoPointValue.latitude)&&ur(r.geoPointValue.longitude)===ur(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return ur(r.integerValue)===ur(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const u=ur(r.doubleValue),c=ur(i.doubleValue);return u===c?Hd(u)===Hd(c):isNaN(u)&&isNaN(c)}return!1}(n,e);case 9:return Bd(n.arrayValue.values||[],e.arrayValue.values||[],_a);case 10:return function(r,i){const u=r.mapValue.fields||{},c=i.mapValue.fields||{};if(J0(u)!==J0(c))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(void 0===c[f]||!_a(u[f],c[f])))return!1;return!0}(n,e);default:return lt()}var i}function jf(n,e){return void 0!==(n.values||[]).find(t=>_a(t,e))}function Ju(n,e){if(n===e)return 0;const t=dc(n),r=dc(e);if(t!==r)return jt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return jt(n.booleanValue,e.booleanValue);case 2:return function(i,u){const c=ur(i.integerValue||i.doubleValue),f=ur(u.integerValue||u.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1}(n,e);case 3:return tI(n.timestampValue,e.timestampValue);case 4:return tI(Uf(n),Uf(e));case 5:return jt(n.stringValue,e.stringValue);case 6:return function(i,u){const c=Yu(i),f=Yu(u);return c.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(i,u){const c=i.split("/"),f=u.split("/");for(let y=0;y<c.length&&y<f.length;y++){const E=jt(c[y],f[y]);if(0!==E)return E}return jt(c.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,u){const c=jt(ur(i.latitude),ur(u.latitude));return 0!==c?c:jt(ur(i.longitude),ur(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,u){const c=i.values||[],f=u.values||[];for(let y=0;y<c.length&&y<f.length;++y){const E=Ju(c[y],f[y]);if(E)return E}return jt(c.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,u){if(i===Qu.mapValue&&u===Qu.mapValue)return 0;if(i===Qu.mapValue)return 1;if(u===Qu.mapValue)return-1;const c=i.fields||{},f=Object.keys(c),y=u.fields||{},E=Object.keys(y);f.sort(),E.sort();for(let A=0;A<f.length&&A<E.length;++A){const S=jt(f[A],E[A]);if(0!==S)return S;const L=Ju(c[f[A]],y[E[A]]);if(0!==L)return L}return jt(f.length,E.length)}(n.mapValue,e.mapValue);default:throw lt()}}function tI(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return jt(n,e);const t=ya(n),r=ya(e),i=jt(t.seconds,r.seconds);return 0!==i?i:jt(t.nanos,r.nanos)}function hc(n){return lm(n)}function lm(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=ya(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Yu(n.bytesValue).toBase64():"referenceValue"in n?Je.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",u=!0;for(const c of r.values||[])u?u=!1:i+=",",i+=lm(c);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let u="{",c=!0;for(const f of i)c?c=!1:u+=",",u+=`${f}:${lm(r.fields[f])}`;return u+"}"}(n.mapValue):lt();var e}function fc(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function mv(n){return!!n&&"integerValue"in n}function Gd(n){return!!n&&"arrayValue"in n}function nI(n){return!!n&&"nullValue"in n}function rI(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function cm(n){return!!n&&"mapValue"in n}function pc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return cc(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=pc(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=pc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function dm(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function iI(n){return"nullValue"in n?um:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?fc(To.empty(),Je.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:lt()}function yv(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?fc(To.empty(),Je.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Qu:lt()}function sI(n,e){const t=Ju(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function oI(n,e){const t=Ju(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Nr{constructor(e){this.value=e}static empty(){return new Nr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!cm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=pc(t)}setAll(e){let t=Un.emptyPath(),r={},i=[];e.forEach((c,f)=>{if(!t.isImmediateParentOf(f)){const y=this.getFieldsMap(t);this.applyChanges(y,r,i),r={},i=[],t=f.popLast()}c?r[f.lastSegment()]=pc(c):i.push(f.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,i)}delete(e){const t=this.field(e.popLast());cm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return _a(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];cm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){cc(t,(i,u)=>e[i]=u);for(const i of r)delete e[i]}clone(){return new Nr(pc(this.value))}}function aI(n){const e=[];return cc(n.fields,(t,r)=>{const i=new Un([t]);if(cm(r)){const u=aI(r.mapValue).fields;if(0===u.length)e.push(i);else for(const c of u)e.push(i.child(c))}else e.push(i)}),new Zi(e)}class xn{constructor(e,t,r,i,u,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=u,this.documentState=c}static newInvalidDocument(e){return new xn(e,0,Ct.min(),Ct.min(),Nr.empty(),0)}static newFoundDocument(e,t,r){return new xn(e,1,t,Ct.min(),r,0)}static newNoDocument(e,t){return new xn(e,2,t,Ct.min(),Nr.empty(),0)}static newUnknownDocument(e,t){return new xn(e,3,t,Ct.min(),Nr.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ct.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof xn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new xn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class zd{constructor(e,t=null,r=[],i=[],u=null,c=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=u,this.startAt=c,this.endAt=f,this.ut=null}}function _v(n,e=null,t=[],r=[],i=null,u=null,c=null){return new zd(n,e,t,r,i,u,c)}function gc(n){const e=nt(n);if(null===e.ut){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+hc(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Bf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>hc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>hc(r)).join(",")),e.ut=t}return e.ut}function Wd(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!kM(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!_a(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!hI(n.startAt,e.startAt)&&hI(n.endAt,e.endAt)}function qd(n){return Je.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function hm(n,e){return n.filters.filter(t=>t instanceof ii&&t.field.isEqual(e))}function fm(n,e,t){let r=um,i=!0;for(const u of hm(n,e)){let c=um,f=!0;switch(u.op){case"<":case"<=":c=iI(u.value);break;case"==":case"in":case">=":c=u.value;break;case">":c=u.value,f=!1;break;case"!=":case"not-in":c=um}sI({value:r,inclusive:i},{value:c,inclusive:f})<0&&(r=c,i=f)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const c=t.position[u];sI({value:r,inclusive:i},{value:c,inclusive:t.inclusive})<0&&(r=c,i=t.inclusive);break}return{value:r,inclusive:i}}function uI(n,e,t){let r=Qu,i=!0;for(const u of hm(n,e)){let c=Qu,f=!0;switch(u.op){case">=":case">":c=yv(u.value),f=!1;break;case"==":case"in":case"<=":c=u.value;break;case"<":c=u.value,f=!1;break;case"!=":case"not-in":c=Qu}oI({value:r,inclusive:i},{value:c,inclusive:f})>0&&(r=c,i=f)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const c=t.position[u];oI({value:r,inclusive:i},{value:c,inclusive:t.inclusive})>0&&(r=c,i=t.inclusive);break}return{value:r,inclusive:i}}class ii extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.ct(e,t,r):new vv(e,t,r):"array-contains"===t?new dI(e,r):"in"===t?new QC(e,r):"not-in"===t?new JC(e,r):"array-contains-any"===t?new XC(e,r):new ii(e,t,r)}static ct(e,t,r){return"in"===t?new lI(e,r):new cI(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.at(Ju(t,this.value)):null!==t&&dc(this.value)===dc(t)&&this.at(Ju(t,this.value))}at(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return lt()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class vv extends ii{constructor(e,t,r){super(e,t,r),this.key=Je.fromName(r.referenceValue)}matches(e){const t=Je.comparator(e.key,this.key);return this.at(t)}}class lI extends ii{constructor(e,t){super(e,"in",t),this.keys=wv(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class cI extends ii{constructor(e,t){super(e,"not-in",t),this.keys=wv(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function wv(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Je.fromName(r.referenceValue))}class dI extends ii{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Gd(t)&&jf(t.arrayValue,this.value)}}class QC extends ii{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&jf(this.value.arrayValue,t)}}class JC extends ii{constructor(e,t){super(e,"not-in",t)}matches(e){if(jf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!jf(this.value.arrayValue,t)}}class XC extends ii{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Gd(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>jf(this.value.arrayValue,r))}}class Xu{constructor(e,t){this.position=e,this.inclusive=t}}class mc{constructor(e,t="asc"){this.field=e,this.dir=t}}function kM(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function Ev(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const u=e[i],c=n.position[i];if(r=u.field.isKeyField()?Je.comparator(Je.fromName(c.referenceValue),t.key):Ju(c,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function hI(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!_a(n.position[t],e.position[t]))return!1;return!0}class fu{constructor(e,t=null,r=[],i=[],u=null,c="F",f=null,y=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=u,this.limitType=c,this.startAt=f,this.endAt=y,this.lt=null,this.ft=null}}function eT(n,e,t,r,i,u,c,f){return new fu(n,e,t,r,i,u,c,f)}function $f(n){return new fu(n)}function fI(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Iv(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Dv(n){for(const e of n.filters)if(e.ht())return e.field;return null}function bv(n){return null!==n.collectionGroup}function Zd(n){const e=nt(n);if(null===e.lt){e.lt=[];const t=Dv(e),r=Iv(e);if(null!==t&&null===r)t.isKeyField()||e.lt.push(new mc(t)),e.lt.push(new mc(Un.keyField(),"asc"));else{let i=!1;for(const u of e.explicitOrderBy)e.lt.push(u),u.field.isKeyField()&&(i=!0);if(!i){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.lt.push(new mc(Un.keyField(),u))}}}return e.lt}function Ki(n){const e=nt(n);if(!e.ft)if("F"===e.limitType)e.ft=_v(e.path,e.collectionGroup,Zd(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of Zd(e))t.push(new mc(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new Xu(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Xu(e.startAt.position,e.startAt.inclusive):null;e.ft=_v(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.ft}function pm(n,e,t){return new fu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Hf(n,e){return Wd(Ki(n),Ki(e))&&n.limitType===e.limitType}function pI(n){return`${gc(Ki(n))}|lt:${n.limitType}`}function Cv(n){return`Query(target=${function OM(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${hc(r.value)}`;var r}).join(", ")}]`),Bf(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>hc(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>hc(t)).join(",")),`Target(${e})`}(Ki(n))}; limitType=${n.limitType})`}function Tv(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):Je.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,u,c){const f=Ev(i,u,c);return i.inclusive?f<=0:f<0}(t.startAt,Zd(t),r)||t.endAt&&!function(i,u,c){const f=Ev(i,u,c);return i.inclusive?f>=0:f>0}(t.endAt,Zd(t),r)));var t,r}function gI(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Kd(n){return(e,t)=>{let r=!1;for(const i of Zd(n)){const u=mI(i,e,t);if(0!==u)return u;r=r||i.field.isKeyField()}return 0}}function mI(n,e,t){const r=n.field.isKeyField()?Je.comparator(e.key,t.key):function(i,u,c){const f=u.data.field(i),y=c.data.field(i);return null!==f&&null!==y?Ju(f,y):lt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return lt()}}function Av(n,e){if(n.dt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hd(e)?"-0":e}}function Sv(n){return{integerValue:""+n}}function Mv(n,e){return eI(e)?Sv(e):Av(n,e)}class Gf{constructor(){this._=void 0}}function tT(n,e,t){return n instanceof Yd?function(r,i){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(u.fields.__previous_value__=i),{mapValue:u}}(t,e):n instanceof yc?yI(n,e):n instanceof _c?_I(n,e):function(r,i){const u=rT(r,i),c=vI(u)+vI(r._t);return mv(u)&&mv(r._t)?Sv(c):Av(r.wt,c)}(n,e)}function nT(n,e,t){return n instanceof yc?yI(n,e):n instanceof _c?_I(n,e):t}function rT(n,e){return n instanceof va?mv(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Yd extends Gf{}class yc extends Gf{constructor(e){super(),this.elements=e}}function yI(n,e){const t=gm(e);for(const r of n.elements)t.some(i=>_a(i,r))||t.push(r);return{arrayValue:{values:t}}}class _c extends Gf{constructor(e){super(),this.elements=e}}function _I(n,e){let t=gm(e);for(const r of n.elements)t=t.filter(i=>!_a(i,r));return{arrayValue:{values:t}}}class va extends Gf{constructor(e,t){super(),this.wt=e,this._t=t}}function vI(n){return ur(n.integerValue||n.doubleValue)}function gm(n){return Gd(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Yi{constructor(e,t){this.field=e,this.transform=t}}class xv{constructor(e,t){this.version=e,this.transformResults=t}}class Nn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Nn}static exists(e){return new Nn(void 0,e)}static updateTime(e){return new Nn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function mm(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class ym{}function wI(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Qd(n.key,Nn.none()):new vc(n.key,n.data,Nn.none());{const t=n.data,r=Nr.empty();let i=new Cn(Un.comparator);for(let u of e.fields)if(!i.has(u)){let c=t.field(u);null===c&&u.length>1&&(u=u.popLast(),c=t.field(u)),null===c?r.delete(u):r.set(u,c),i=i.add(u)}return new wa(n.key,r,new Zi(i.toArray()),Nn.none())}}function _m(n,e,t){n instanceof vc?function(r,i,u){const c=r.value.clone(),f=Nv(r.fieldTransforms,i,u.transformResults);c.setAll(f),i.convertToFoundDocument(u.version,c).setHasCommittedMutations()}(n,e,t):n instanceof wa?function(r,i,u){if(!mm(r.precondition,i))return void i.convertToUnknownDocument(u.version);const c=Nv(r.fieldTransforms,i,u.transformResults),f=i.data;f.setAll(vm(r)),f.setAll(c),i.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function el(n,e,t,r){return n instanceof vc?function(i,u,c,f){if(!mm(i.precondition,u))return c;const y=i.value.clone(),E=II(i.fieldTransforms,f,u);return y.setAll(E),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),null}(n,e,t,r):n instanceof wa?function(i,u,c,f){if(!mm(i.precondition,u))return c;const y=II(i.fieldTransforms,f,u),E=u.data;return E.setAll(vm(i)),E.setAll(y),u.convertToFoundDocument(u.version,E).setHasLocalMutations(),null===c?null:c.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(A=>A.field))}(n,e,t,r):(c=t,mm(n.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):c);var u,c}function sT(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),u=rT(r.transform,i||null);null!=u&&(null===t&&(t=Nr.empty()),t.set(r.field,u))}return t||null}function EI(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Bd(t,r,(i,u)=>function iT(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof yc&&r instanceof yc||t instanceof _c&&r instanceof _c?Bd(t.elements,r.elements,_a):t instanceof va&&r instanceof va?_a(t._t,r._t):t instanceof Yd&&r instanceof Yd);var t,r}(i,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class vc extends ym{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class wa extends ym{constructor(e,t,r,i,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function vm(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Nv(n,e,t){const r=new Map;kt(n.length===t.length);for(let i=0;i<t.length;i++){const u=n[i],c=u.transform,f=e.data.field(u.field);r.set(u.field,nT(c,f,t[i]))}return r}function II(n,e,t){const r=new Map;for(const i of n){const u=i.transform,c=t.data.field(i.field);r.set(i.field,tT(u,c,e))}return r}class Qd extends ym{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class DI extends ym{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Rv{constructor(e){this.count=e}}var lr,ln;function wm(n){switch(n){default:return lt();case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0}}function Em(n){if(void 0===n)return er("GRPC error has no .code"),me.UNKNOWN;switch(n){case lr.OK:return me.OK;case lr.CANCELLED:return me.CANCELLED;case lr.UNKNOWN:return me.UNKNOWN;case lr.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case lr.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case lr.INTERNAL:return me.INTERNAL;case lr.UNAVAILABLE:return me.UNAVAILABLE;case lr.UNAUTHENTICATED:return me.UNAUTHENTICATED;case lr.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case lr.NOT_FOUND:return me.NOT_FOUND;case lr.ALREADY_EXISTS:return me.ALREADY_EXISTS;case lr.PERMISSION_DENIED:return me.PERMISSION_DENIED;case lr.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case lr.ABORTED:return me.ABORTED;case lr.OUT_OF_RANGE:return me.OUT_OF_RANGE;case lr.UNIMPLEMENTED:return me.UNIMPLEMENTED;case lr.DATA_LOSS:return me.DATA_LOSS;default:return lt()}}(ln=lr||(lr={}))[ln.OK=0]="OK",ln[ln.CANCELLED=1]="CANCELLED",ln[ln.UNKNOWN=2]="UNKNOWN",ln[ln.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ln[ln.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ln[ln.NOT_FOUND=5]="NOT_FOUND",ln[ln.ALREADY_EXISTS=6]="ALREADY_EXISTS",ln[ln.PERMISSION_DENIED=7]="PERMISSION_DENIED",ln[ln.UNAUTHENTICATED=16]="UNAUTHENTICATED",ln[ln.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ln[ln.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ln[ln.ABORTED=10]="ABORTED",ln[ln.OUT_OF_RANGE=11]="OUT_OF_RANGE",ln[ln.UNIMPLEMENTED=12]="UNIMPLEMENTED",ln[ln.INTERNAL=13]="INTERNAL",ln[ln.UNAVAILABLE=14]="UNAVAILABLE",ln[ln.DATA_LOSS=15]="DATA_LOSS";class tl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,u]of r)if(this.equalsFn(i,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<i.length;u++)if(this.equalsFn(i[u][0],e))return void(i[u]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){cc(this.inner,(t,r)=>{for(const[i,u]of r)e(i,u)})}isEmpty(){return pv(this.inner)}size(){return this.innerSize}}const oT=new or(Je.comparator);function Qi(){return oT}const bI=new or(Je.comparator);function Jd(...n){let e=bI;for(const t of n)e=e.insert(t.key,t);return e}function Im(n){let e=bI;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Ao(){return Xd()}function CI(){return Xd()}function Xd(){return new tl(n=>n.toString(),(n,e)=>n.isEqual(e))}const TI=new or(Je.comparator),aT=new Cn(Je.comparator);function Yt(...n){let e=aT;for(const t of n)e=e.add(t);return e}const AI=new Cn(jt);function Dm(){return AI}class eh{constructor(e,t,r,i,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,zf.createSynthesizedTargetChangeForCurrentChange(e,t)),new eh(Ct.min(),r,Dm(),Qi(),Yt())}}class zf{constructor(e,t,r,i,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t){return new zf(Cr.EMPTY_BYTE_STRING,t,Yt(),Yt(),Yt())}}class zr{constructor(e,t,r,i){this.gt=e,this.removedTargetIds=t,this.key=r,this.yt=i}}class wc{constructor(e,t){this.targetId=e,this.It=t}}class SI{constructor(e,t,r=Cr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class MI{constructor(){this.Tt=0,this.Et=Pv(),this.At=Cr.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}get current(){return this.Rt}get resumeToken(){return this.At}get Pt(){return 0!==this.Tt}get vt(){return this.bt}Vt(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}St(){let e=Yt(),t=Yt(),r=Yt();return this.Et.forEach((i,u)=>{switch(u){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:lt()}}),new zf(this.At,this.Rt,e,t,r)}Dt(){this.bt=!1,this.Et=Pv()}Ct(e,t){this.bt=!0,this.Et=this.Et.insert(e,t)}xt(e){this.bt=!0,this.Et=this.Et.remove(e)}Nt(){this.Tt+=1}kt(){this.Tt-=1}Mt(){this.bt=!0,this.Rt=!0}}class FM{constructor(e){this.Ot=e,this.Ft=new Map,this.$t=Qi(),this.Bt=uT(),this.Lt=new Cn(jt)}Ut(e){for(const t of e.gt)e.yt&&e.yt.isFoundDocument()?this.qt(t,e.yt):this.Kt(t,e.key,e.yt);for(const t of e.removedTargetIds)this.Kt(t,e.key,e.yt)}Gt(e){this.forEachTarget(e,t=>{const r=this.Qt(t);switch(e.state){case 0:this.jt(t)&&r.Vt(e.resumeToken);break;case 1:r.kt(),r.Pt||r.Dt(),r.Vt(e.resumeToken);break;case 2:r.kt(),r.Pt||this.removeTarget(t);break;case 3:this.jt(t)&&(r.Mt(),r.Vt(e.resumeToken));break;case 4:this.jt(t)&&(this.Wt(t),r.Vt(e.resumeToken));break;default:lt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ft.forEach((r,i)=>{this.jt(i)&&t(i)})}zt(e){const t=e.targetId,r=e.It.count,i=this.Ht(t);if(i){const u=i.target;if(qd(u))if(0===r){const c=new Je(u.path);this.Kt(t,c,xn.newNoDocument(c,Ct.min()))}else kt(1===r);else this.Jt(t)!==r&&(this.Wt(t),this.Lt=this.Lt.add(t))}}Yt(e){const t=new Map;this.Ft.forEach((u,c)=>{const f=this.Ht(c);if(f){if(u.current&&qd(f.target)){const y=new Je(f.target.path);null!==this.$t.get(y)||this.Xt(c,y)||this.Kt(c,y,xn.newNoDocument(y,e))}u.vt&&(t.set(c,u.St()),u.Dt())}});let r=Yt();this.Bt.forEach((u,c)=>{let f=!0;c.forEachWhile(y=>{const E=this.Ht(y);return!E||2===E.purpose||(f=!1,!1)}),f&&(r=r.add(u))}),this.$t.forEach((u,c)=>c.setReadTime(e));const i=new eh(e,t,this.Lt,this.$t,r);return this.$t=Qi(),this.Bt=uT(),this.Lt=new Cn(jt),i}qt(e,t){if(!this.jt(e))return;const r=this.Xt(e,t.key)?2:0;this.Qt(e).Ct(t.key,r),this.$t=this.$t.insert(t.key,t),this.Bt=this.Bt.insert(t.key,this.Zt(t.key).add(e))}Kt(e,t,r){if(!this.jt(e))return;const i=this.Qt(e);this.Xt(e,t)?i.Ct(t,1):i.xt(t),this.Bt=this.Bt.insert(t,this.Zt(t).delete(e)),r&&(this.$t=this.$t.insert(t,r))}removeTarget(e){this.Ft.delete(e)}Jt(e){const t=this.Qt(e).St();return this.Ot.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Nt(e){this.Qt(e).Nt()}Qt(e){let t=this.Ft.get(e);return t||(t=new MI,this.Ft.set(e,t)),t}Zt(e){let t=this.Bt.get(e);return t||(t=new Cn(jt),this.Bt=this.Bt.insert(e,t)),t}jt(e){const t=null!==this.Ht(e);return t||je("WatchChangeAggregator","Detected inactive target",e),t}Ht(e){const t=this.Ft.get(e);return t&&t.Pt?null:this.Ot.te(e)}Wt(e){this.Ft.set(e,new MI),this.Ot.getRemoteKeysForTarget(e).forEach(t=>{this.Kt(e,t,null)})}Xt(e,t){return this.Ot.getRemoteKeysForTarget(e).has(t)}}function uT(){return new or(Je.comparator)}function Pv(){return new or(Je.comparator)}const xI={asc:"ASCENDING",desc:"DESCENDING"},Wf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class lT{constructor(e,t){this.databaseId=e,this.dt=t}}function Ec(n,e){return n.dt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function NI(n,e){return n.dt?e.toBase64():e.toUint8Array()}function RI(n,e){return Ec(n,e.toTimestamp())}function Wr(n){return kt(!!n),Ct.fromTimestamp(function(e){const t=ya(e);return new zn(t.seconds,t.nanos)}(n))}function Ov(n,e){return(t=n,new dn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Ic(n){const e=dn.fromString(n);return kt(UI(e)),e}function qf(n,e){return Ov(n.databaseId,e.path)}function Zs(n,e){const t=Ic(e);if(t.get(1)!==n.databaseId.projectId)throw new Le(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Le(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Je(Cm(t))}function bm(n,e){return Ov(n.databaseId,e)}function kv(n){const e=Ic(n);return 4===e.length?dn.emptyPath():Cm(e)}function nl(n){return new dn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Cm(n){return kt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function cT(n,e,t){return{name:qf(n,e),fields:t.value.mapValue.fields}}function Fv(n,e,t){const r=Zs(n,e.name),i=Wr(e.updateTime),u=new Nr({mapValue:{fields:e.fields}}),c=xn.newFoundDocument(r,i,u);return t&&c.setHasCommittedMutations(),t?c.setHasCommittedMutations():c}function Ea(n,e){let t;if(e instanceof vc)t={update:cT(n,e.key,e.value)};else if(e instanceof Qd)t={delete:qf(n,e.key)};else if(e instanceof wa)t={update:cT(n,e.key,e.data),updateMask:VI(e.fieldMask)};else{if(!(e instanceof DI))return lt();t={verify:qf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,u){const c=u.transform;if(c instanceof Yd)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof yc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof _c)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof va)return{fieldPath:u.field.canonicalString(),increment:c._t};throw lt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:RI(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:lt()),t;var i}function Lv(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?Nn.updateTime(Wr(i.updateTime)):void 0!==i.exists?Nn.exists(i.exists):Nn.none():Nn.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(u,c){let f=null;"setToServerValue"in c?(kt("REQUEST_TIME"===c.setToServerValue),f=new Yd):"appendMissingElements"in c?f=new yc(c.appendMissingElements.values||[]):"removeAllFromArray"in c?f=new _c(c.removeAllFromArray.values||[]):"increment"in c?f=new va(u,c.increment):lt();const y=Un.fromServerFormat(c.fieldPath);return new Yi(y,f)}(n,i)):[];var i;if(e.update){const i=Zs(n,e.update.name),u=new Nr({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=new Zi((e.updateMask.fieldPaths||[]).map(E=>Un.fromServerFormat(E)));return new wa(i,u,c,t,r)}return new vc(i,u,t,r)}if(e.delete){const i=Zs(n,e.delete);return new Qd(i,t)}if(e.verify){const i=Zs(n,e.verify);return new DI(i,t)}return lt()}function Tm(n,e){return{documents:[bm(n,e.path)]}}function hT(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=bm(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=bm(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(y){if(0===y.length)return;const E=y.map(A=>function(S){if("=="===S.op){if(rI(S.value))return{unaryFilter:{field:Dc(S.field),op:"IS_NAN"}};if(nI(S.value))return{unaryFilter:{field:Dc(S.field),op:"IS_NULL"}}}else if("!="===S.op){if(rI(S.value))return{unaryFilter:{field:Dc(S.field),op:"IS_NOT_NAN"}};if(nI(S.value))return{unaryFilter:{field:Dc(S.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Dc(S.field),op:pT(S.op),value:S.value}}}(A));return 1===E.length?E[0]:{compositeFilter:{op:"AND",filters:E}}}(e.filters);i&&(t.structuredQuery.where=i);const u=function(y){if(0!==y.length)return y.map(E=>{return{field:Dc((A=E).field),direction:fT(A.dir)};var A})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const c=(E=e.limit,n.dt||Bf(E)?E:{value:E});var E,f,y;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(y=e.endAt).inclusive,values:y.position}),t}function kI(n){let e=kv(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){kt(1===r);const A=t.from[0];A.allDescendants?i=A.collectionId:e=e.child(A.collectionId)}let u=[];t.where&&(u=FI(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(A=>{return new mc(bc((S=A).field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction));var S}));let f=null;t.limit&&(f=function(A){let S;return S="object"==typeof A?A.value:A,Bf(S)?null:S}(t.limit));let y=null;var A;t.startAt&&(y=new Xu((A=t.startAt).values||[],!!A.before));let E=null;return t.endAt&&(E=function(A){return new Xu(A.values||[],!A.before)}(t.endAt)),eT(e,i,c,u,f,"F",y,E)}function FI(n){return n?void 0!==n.unaryFilter?[LI(n)]:void 0!==n.fieldFilter?[gT(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>FI(e)).reduce((e,t)=>e.concat(t)):lt():[]}function fT(n){return xI[n]}function pT(n){return Wf[n]}function Dc(n){return{fieldPath:n.canonicalString()}}function bc(n){return Un.fromServerFormat(n.fieldPath)}function gT(n){return ii.create(bc(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return lt()}}(n.fieldFilter.op),n.fieldFilter.value)}function LI(n){switch(n.unaryFilter.op){case"IS_NAN":const e=bc(n.unaryFilter.field);return ii.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=bc(n.unaryFilter.field);return ii.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=bc(n.unaryFilter.field);return ii.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=bc(n.unaryFilter.field);return ii.create(i,"!=",{nullValue:"NULL_VALUE"});default:return lt()}}function VI(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function UI(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Ni(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=jI(e)),e=BI(n.get(t),e);return jI(e)}function BI(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const u=n.charAt(i);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function jI(n){return n+"\x01\x01"}function So(n){const e=n.length;if(kt(e>=2),2===e)return kt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),dn.emptyPath();const t=e-2,r=[];let i="";for(let u=0;u<e;){const c=n.indexOf("\x01",u);switch((c<0||c>t)&&lt(),n.charAt(c+1)){case"\x01":const f=n.substring(u,c);let y;0===i.length?y=f:(i+=f,y=i,i=""),r.push(y);break;case"\x10":i+=n.substring(u,c),i+="\0";break;case"\x11":i+=n.substring(u,c+1);break;default:lt()}u=c+2}return new dn(r)}const Vv=["userId","batchId"];function Zf(n,e){return[n,Ni(e)]}function Uv(n,e,t){return[n,Ni(e),t]}const mT={},yT=["prefixPath","collectionGroup","readTime","documentId"],VM=["prefixPath","collectionGroup","documentId"],$I=["collectionGroup","readTime","prefixPath","documentId"],UM=["canonicalId","targetId"],BM=["targetId","path"],jM=["path","targetId"],$M=["collectionId","parent"],HM=["indexId","uid"],GM=["uid","sequenceNumber"],zM=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],WM=["indexId","uid","orderedDocumentKey"],Am=["userId","collectionPath","documentId"],qM=["userId","collectionPath","largestBatchId"],HI=["userId","collectionGroup","largestBatchId"],Kf=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],GI=[...Kf,"documentOverlays"],Bv=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],_T=Bv,jv=[..._T,"indexConfiguration","indexState","indexEntries"];class Sm extends cv{constructor(e,t){super(),this.ee=e,this.currentSequenceNumber=t}}function qr(n,e){const t=nt(n);return ma.N(t.ee,e)}class Mm{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const u=this.mutations[i];u.key.isEqual(e.key)&&_m(u,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=el(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=el(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=CI();return this.mutations.forEach(i=>{const u=e.get(i.key),c=u.overlayedDocument;let f=this.applyToLocalView(c,u.mutatedFields);f=t.has(i.key)?null:f;const y=wI(c,f);null!==y&&r.set(i.key,y),c.isValidDocument()||c.convertToNoDocument(Ct.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Yt())}isEqual(e){return this.batchId===e.batchId&&Bd(this.mutations,e.mutations,(t,r)=>EI(t,r))&&Bd(this.baseMutations,e.baseMutations,(t,r)=>EI(t,r))}}class zI{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){kt(e.mutations.length===r.length);let i=TI;const u=e.mutations;for(let c=0;c<u.length;c++)i=i.insert(u[c].key,r[c].version);return new zI(e,t,r,i)}}class $v{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class rl{constructor(e,t,r,i,u=Ct.min(),c=Ct.min(),f=Cr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f}withSequenceNumber(e){return new rl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new rl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new rl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class WI{constructor(e){this.ne=e}}function qI(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Hv(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:qf(i=n.ne,(u=e).key),fields:u.data.value.mapValue.fields,updateTime:Ec(i,u.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:th(e.version)};else{if(!e.isUnknownDocument())return lt();r.unknownDocument={path:t.path.toArray(),version:th(e.version)}}var i,u;return r}function Hv(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function th(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function nh(n){const e=new zn(n.seconds,n.nanoseconds);return Ct.fromTimestamp(e)}function Cc(n,e){const t=(e.baseMutations||[]).map(u=>Lv(n.ne,u));for(let u=0;u<e.mutations.length-1;++u){const c=e.mutations[u];u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(c.updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u)}const r=e.mutations.map(u=>Lv(n.ne,u)),i=zn.fromMillis(e.localWriteTimeMs);return new Mm(e.batchId,i,t,r)}function Yf(n){const e=nh(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?nh(n.lastLimboFreeSnapshotVersion):Ct.min();let r;var i;return void 0!==n.query.documents?(kt(1===(i=n.query).documents.length),r=Ki($f(kv(i.documents[0])))):r=Ki(kI(n.query)),new rl(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Cr.fromBase64String(n.resumeToken))}function ZI(n,e){const t=th(e.snapshotVersion),r=th(e.lastLimboFreeSnapshotVersion);let i;i=qd(e.target)?Tm(n.ne,e.target):hT(n.ne,e.target);const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:gc(e.target),readTime:t,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function KI(n){const e=kI({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?pm(e,e.limit,"L"):e}function Gv(n,e){return new $v(e.largestBatchId,Lv(n.ne,e.overlayMutation))}function zv(n,e){const t=e.path.lastSegment();return[n,Ni(e.path.popLast()),t]}function Wv(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:th(r.readTime),documentKey:Ni(r.documentKey.path),largestBatchId:r.largestBatchId}}class ZM{getBundleMetadata(e,t){return Ks(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:nh(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return Ks(e).put({bundleId:(r=t).id,createTime:th(Wr(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return YI(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:KI(i.bundledQuery),readTime:nh(i.readTime)};var i})}saveNamedQuery(e,t){return YI(e).put({name:(r=t).name,readTime:th(Wr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function Ks(n){return qr(n,"bundles")}function YI(n){return qr(n,"namedQueries")}class rh{constructor(e,t){this.wt=e,this.userId=t}static se(e,t){return new rh(e,t.uid||"")}getOverlay(e,t){return Qf(e).get(zv(this.userId,t)).next(r=>r?Gv(this.wt,r):null)}getOverlays(e,t){const r=Ao();return ce.forEach(t,i=>this.getOverlay(e,i).next(u=>{null!==u&&r.set(i,u)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((u,c)=>{const f=new $v(t,c);i.push(this.ie(e,f))}),ce.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(c=>i.add(Ni(c.getCollectionPath())));const u=[];return i.forEach(c=>{const f=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,r+1],!1,!0);u.push(Qf(e).W("collectionPathOverlayIndex",f))}),ce.waitFor(u)}getOverlaysForCollection(e,t,r){const i=Ao(),u=Ni(t),c=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,Number.POSITIVE_INFINITY],!0);return Qf(e).K("collectionPathOverlayIndex",c).next(f=>{for(const y of f){const E=Gv(this.wt,y);i.set(E.getKey(),E)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const u=Ao();let c;const f=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Qf(e).J({index:"collectionGroupOverlayIndex",range:f},(y,E,A)=>{const S=Gv(this.wt,E);u.size()<i||S.largestBatchId===c?(u.set(S.getKey(),S),c=S.largestBatchId):A.done()}).next(()=>u)}ie(e,t){return Qf(e).put(function(r,i,u){const[c,f,y]=zv(i,u.mutation.key);return{userId:i,collectionPath:f,documentId:y,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:Ea(r.ne,u.mutation)}}(this.wt,this.userId,t))}}function Qf(n){return qr(n,"documentOverlays")}class Rr{constructor(){}re(e,t){this.oe(e,t),t.ue()}oe(e,t){if("nullValue"in e)this.ce(t,5);else if("booleanValue"in e)this.ce(t,10),t.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(t,15),t.ae(ur(e.integerValue));else if("doubleValue"in e){const r=ur(e.doubleValue);isNaN(r)?this.ce(t,13):(this.ce(t,15),Hd(r)?t.ae(0):t.ae(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ce(t,20),"string"==typeof r?t.he(r):(t.he(`${r.seconds||""}`),t.ae(r.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,t),this.fe(t);else if("bytesValue"in e)this.ce(t,30),t.de(Yu(e.bytesValue)),this.fe(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ce(t,45),t.ae(r.latitude||0),t.ae(r.longitude||0)}else"mapValue"in e?dm(e)?this.ce(t,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,t),this.fe(t)):"arrayValue"in e?(this.me(e.arrayValue,t),this.fe(t)):lt()}le(e,t){this.ce(t,25),this.ge(e,t)}ge(e,t){t.he(e)}we(e,t){const r=e.fields||{};this.ce(t,55);for(const i of Object.keys(r))this.le(i,t),this.oe(r[i],t)}me(e,t){const r=e.values||[];this.ce(t,50);for(const i of r)this.oe(i,t)}_e(e,t){this.ce(t,37),Je.fromName(e).path.forEach(r=>{this.ce(t,60),this.ge(r,t)})}ce(e,t){e.ae(t)}fe(e){e.ae(2)}}function vT(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function Nm(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const u=vT(255&t[i]);if(r+=u,8!==u)break}return r}(n);return Math.ceil(e/8)}Rr.ye=new Rr;class wT{constructor(){this.buffer=new Uint8Array(1024),this.position=0}pe(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ie(r.value),r=t.next();this.Te()}Ee(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ae(r.value),r=t.next();this.Re()}be(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ie(r);else if(r<2048)this.Ie(960|r>>>6),this.Ie(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ie(480|r>>>12),this.Ie(128|63&r>>>6),this.Ie(128|63&r);else{const i=t.codePointAt(0);this.Ie(240|i>>>18),this.Ie(128|63&i>>>12),this.Ie(128|63&i>>>6),this.Ie(128|63&i)}}this.Te()}Pe(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ae(r);else if(r<2048)this.Ae(960|r>>>6),this.Ae(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r);else{const i=t.codePointAt(0);this.Ae(240|i>>>18),this.Ae(128|63&i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i)}}this.Re()}ve(e){const t=this.Ve(e),r=Nm(t);this.Se(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}De(e){const t=this.Ve(e),r=Nm(t);this.Se(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}Ce(){this.xe(255),this.xe(255)}Ne(){this.ke(255),this.ke(255)}reset(){this.position=0}seed(e){this.Se(e.length),this.buffer.set(e,this.position),this.position+=e.length}Me(){return this.buffer.slice(0,this.position)}Ve(e){const t=function(i){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,i,!1),new Uint8Array(u.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Ie(e){const t=255&e;0===t?(this.xe(0),this.xe(255)):255===t?(this.xe(255),this.xe(0)):this.xe(t)}Ae(e){const t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(e)}Te(){this.xe(0),this.xe(1)}Re(){this.ke(0),this.ke(1)}xe(e){this.Se(1),this.buffer[this.position++]=e}ke(e){this.Se(1),this.buffer[this.position++]=~e}Se(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class ET{constructor(e){this.Oe=e}de(e){this.Oe.pe(e)}he(e){this.Oe.be(e)}ae(e){this.Oe.ve(e)}ue(){this.Oe.Ce()}}class qv{constructor(e){this.Oe=e}de(e){this.Oe.Ee(e)}he(e){this.Oe.Pe(e)}ae(e){this.Oe.De(e)}ue(){this.Oe.Ne()}}class ih{constructor(){this.Oe=new wT,this.Fe=new ET(this.Oe),this.$e=new qv(this.Oe)}seed(e){this.Oe.seed(e)}Be(e){return 0===e?this.Fe:this.$e}Me(){return this.Oe.Me()}reset(){this.Oe.reset()}}class il{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Le(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new il(this.indexId,this.documentKey,this.arrayValue,r)}}function Tc(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=Zv(n.arrayValue,e.arrayValue),0!==t?t:(t=Zv(n.directionalValue,e.directionalValue),0!==t?t:Je.comparator(n.documentKey,e.documentKey)))}function Zv(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class QI{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ue=e.orderBy,this.qe=[];for(const t of e.filters){const r=t;r.ht()?this.Ke=r:this.qe.push(r)}}Ge(e){const t=im(e);if(void 0!==t&&!this.Qe(t))return!1;const r=ac(e);let i=0,u=0;for(;i<r.length&&this.Qe(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Ke){const c=r[i];if(!this.je(this.Ke,c)||!this.We(this.Ue[u++],c))return!1;++i}for(;i<r.length;++i){const c=r[i];if(u>=this.Ue.length||!this.We(this.Ue[u++],c))return!1}return!0}Qe(e){for(const t of this.qe)if(this.je(t,e))return!0;return!1}je(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}We(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class IT{constructor(){this.ze=new Rm}addToCollectionParentIndex(e,t){return this.ze.add(t),ce.resolve()}getCollectionParents(e,t){return ce.resolve(this.ze.getEntries(t))}addFieldIndex(e,t){return ce.resolve()}deleteFieldIndex(e,t){return ce.resolve()}getDocumentsMatchingTarget(e,t){return ce.resolve(null)}getIndexType(e,t){return ce.resolve(0)}getFieldIndexes(e,t){return ce.resolve([])}getNextCollectionGroupToUpdate(e){return ce.resolve(null)}getMinOffset(e,t){return ce.resolve(Wi.min())}getMinOffsetFromCollectionGroup(e,t){return ce.resolve(Wi.min())}updateCollectionGroup(e,t,r){return ce.resolve()}updateIndexEntries(e,t){return ce.resolve()}}class Rm{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Cn(dn.comparator),u=!i.has(r);return this.index[t]=i.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Cn(dn.comparator)).toArray()}}const Pm=new Uint8Array(0);class Kv{constructor(e,t){this.user=e,this.databaseId=t,this.He=new Rm,this.Je=new tl(r=>gc(r),(r,i)=>Wd(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.He.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.He.add(t)});const u={collectionId:r,parent:Ni(i)};return pu(e).put(u)}return ce.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[K0(t),""],!1,!0);return pu(e).K(i).next(u=>{for(const c of u){if(c.collectionId!==t)break;r.push(So(c.parent))}return r})}addFieldIndex(e,t){const r=oh(e),i={indexId:(c=t).indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(f=>[f.fieldPath.canonicalString(),f.kind])};var c;delete i.indexId;const u=r.add(i);if(t.indexState){const c=Ds(e);return u.next(f=>{c.put(Wv(f,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return u.next()}deleteFieldIndex(e,t){const r=oh(e),i=Ds(e),u=sh(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=sh(e);let i=!0;const u=new Map;return ce.forEach(this.Ye(t),c=>this.Xe(e,c).next(f=>{i&&(i=!!f),u.set(c,f)})).next(()=>{if(i){let c=Yt();const f=[];return ce.forEach(u,(y,E)=>{var A;je("IndexedDbIndexManager",`Using index ${A=y,`id=${A.indexId}|cg=${A.collectionGroup}|f=${A.fields.map(It=>`${It.fieldPath}:${It.kind}`).join(",")}`} to execute ${gc(t)}`);const S=function(It,dt){const Nt=im(dt);if(void 0===Nt)return null;for(const Ft of hm(It,Nt.fieldPath))switch(Ft.op){case"array-contains-any":return Ft.value.arrayValue.values||[];case"array-contains":return[Ft.value]}return null}(E,y),L=function(It,dt){const Nt=new Map;for(const Ft of ac(dt))for(const fn of hm(It,Ft.fieldPath))switch(fn.op){case"==":case"in":Nt.set(Ft.fieldPath.canonicalString(),fn.value);break;case"not-in":case"!=":return Nt.set(Ft.fieldPath.canonicalString(),fn.value),Array.from(Nt.values())}return null}(E,y),B=function(It,dt){const Nt=[];let Ft=!0;for(const fn of ac(dt)){const As=0===fn.kind?fm(It,fn.fieldPath,It.startAt):uI(It,fn.fieldPath,It.startAt);Nt.push(As.value),Ft&&(Ft=As.inclusive)}return new Xu(Nt,Ft)}(E,y),q=function(It,dt){const Nt=[];let Ft=!0;for(const fn of ac(dt)){const As=0===fn.kind?uI(It,fn.fieldPath,It.endAt):fm(It,fn.fieldPath,It.endAt);Nt.push(As.value),Ft&&(Ft=As.inclusive)}return new Xu(Nt,Ft)}(E,y),de=this.Ze(y,E,B),Te=this.Ze(y,E,q),We=this.tn(y,E,L),ct=this.en(y.indexId,S,de,B.inclusive,Te,q.inclusive,We);return ce.forEach(ct,It=>r.j(It,t.limit).next(dt=>{dt.forEach(Nt=>{const Ft=Je.fromSegments(Nt.documentKey);c.has(Ft)||(c=c.add(Ft),f.push(Ft))})}))}).next(()=>f)}return ce.resolve(null)})}Ye(e){let t=this.Je.get(e);return t||(t=[e],this.Je.set(e,t),t)}en(e,t,r,i,u,c,f){const y=(null!=t?t.length:1)*Math.max(r.length,u.length),E=y/(null!=t?t.length:1),A=[];for(let S=0;S<y;++S){const L=t?this.nn(t[S/E]):Pm,B=this.sn(e,L,r[S%E],i),q=this.rn(e,L,u[S%E],c),de=f.map(Te=>this.sn(e,L,Te,!0));A.push(...this.createRange(B,q,de))}return A}sn(e,t,r,i){const u=new il(e,Je.empty(),t,r);return i?u:u.Le()}rn(e,t,r,i){const u=new il(e,Je.empty(),t,r);return i?u.Le():u}Xe(e,t){const r=new QI(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(u=>{let c=null;for(const f of u)r.Ge(f)&&(!c||f.fields.length>c.fields.length)&&(c=f);return c})}getIndexType(e,t){let r=2;return ce.forEach(this.Ye(t),i=>this.Xe(e,i).next(u=>{u?0!==r&&u.fields.length<function(c){let f=new Cn(Un.comparator),y=!1;for(const E of c.filters){const A=E;A.field.isKeyField()||("array-contains"===A.op||"array-contains-any"===A.op?y=!0:f=f.add(A.field))}for(const E of c.orderBy)E.field.isKeyField()||(f=f.add(E.field));return f.size+(y?1:0)}(i)&&(r=1):r=0})).next(()=>r)}on(e,t){const r=new ih;for(const i of ac(e)){const u=t.data.field(i.fieldPath);if(null==u)return null;const c=r.Be(i.kind);Rr.ye.re(u,c)}return r.Me()}nn(e){const t=new ih;return Rr.ye.re(e,t.Be(0)),t.Me()}un(e,t){const r=new ih;return Rr.ye.re(fc(this.databaseId,t),r.Be(function(i){const u=ac(i);return 0===u.length?0:u[u.length-1].kind}(e))),r.Me()}tn(e,t,r){if(null===r)return[];let i=[];i.push(new ih);let u=0;for(const c of ac(e)){const f=r[u++];for(const y of i)if(this.cn(t,c.fieldPath)&&Gd(f))i=this.an(i,c,f);else{const E=y.Be(c.kind);Rr.ye.re(f,E)}}return this.hn(i)}Ze(e,t,r){return this.tn(e,t,r.position)}hn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Me();return t}an(e,t,r){const i=[...e],u=[];for(const c of r.arrayValue.values||[])for(const f of i){const y=new ih;y.seed(f.Me()),Rr.ye.re(c,y.Be(t.kind)),u.push(y)}return u}cn(e,t){return!!e.filters.find(r=>r instanceof ii&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=oh(e),i=Ds(e);return(t?r.K("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.K()).next(u=>{const c=[];return ce.forEach(u,f=>i.get([f.indexId,this.uid]).next(y=>{c.push(function(E,A){const S=A?new Vf(A.sequenceNumber,new Wi(nh(A.readTime),new Je(So(A.documentKey)),A.largestBatchId)):Vf.empty(),L=E.fields.map(([B,q])=>new Zu(Un.fromServerFormat(B),q));return new Ff(E.indexId,E.collectionGroup,L,S)}(f,y))})).next(()=>c)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const u=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==u?u:jt(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=oh(e),u=Ds(e);return this.ln(e).next(c=>i.K("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>ce.forEach(f,y=>u.put(Wv(y.indexId,this.user,c,r)))))}updateIndexEntries(e,t){const r=new Map;return ce.forEach(t,(i,u)=>{const c=r.get(i.collectionGroup);return(c?ce.resolve(c):this.getFieldIndexes(e,i.collectionGroup)).next(f=>(r.set(i.collectionGroup,f),ce.forEach(f,y=>this.fn(e,i,y).next(E=>{const A=this.dn(u,y);return E.isEqual(A)?ce.resolve():this._n(e,u,y,E,A)}))))})}wn(e,t,r,i){return sh(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.un(r,t.key),documentKey:t.key.path.toArray()})}mn(e,t,r,i){return sh(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.un(r,t.key),t.key.path.toArray()])}fn(e,t,r){const i=sh(e);let u=new Cn(Tc);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.un(r,t)])},(c,f)=>{u=u.add(new il(r.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>u)}dn(e,t){let r=new Cn(Tc);const i=this.on(t,e);if(null==i)return r;const u=im(t);if(null!=u){const c=e.data.field(u.fieldPath);if(Gd(c))for(const f of c.arrayValue.values||[])r=r.add(new il(t.indexId,e.key,this.nn(f),i))}else r=r.add(new il(t.indexId,e.key,Pm,i));return r}_n(e,t,r,i,u){je("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const c=[];return function(f,y,E,A,S){const L=f.getIterator(),B=y.getIterator();let q=$d(L),de=$d(B);for(;q||de;){let Te=!1,We=!1;if(q&&de){const ct=E(q,de);ct<0?We=!0:ct>0&&(Te=!0)}else null!=q?We=!0:Te=!0;Te?(A(de),de=$d(B)):We?(S(q),q=$d(L)):(q=$d(L),de=$d(B))}}(i,u,Tc,f=>{c.push(this.wn(e,t,r,f))},f=>{c.push(this.mn(e,t,r,f))}),ce.waitFor(c)}ln(e){let t=1;return Ds(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,u)=>{u.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((c,f)=>Tc(c,f)).filter((c,f,y)=>!f||0!==Tc(c,y[f-1]));const i=[];i.push(e);for(const c of r){const f=Tc(c,e),y=Tc(c,t);if(0===f)i[0]=e.Le();else if(f>0&&y<0)i.push(c),i.push(c.Le());else if(y>0)break}i.push(t);const u=[];for(let c=0;c<i.length;c+=2)u.push(IDBKeyRange.bound([i[c].indexId,this.uid,i[c].arrayValue,i[c].directionalValue,Pm,[]],[i[c+1].indexId,this.uid,i[c+1].arrayValue,i[c+1].directionalValue,Pm,[]]));return u}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(JI)}getMinOffset(e,t){return ce.mapArray(this.Ye(t),r=>this.Xe(e,r).next(i=>i||lt())).next(JI)}}function pu(n){return qr(n,"collectionParents")}function sh(n){return qr(n,"indexEntries")}function oh(n){return qr(n,"indexConfiguration")}function Ds(n){return qr(n,"indexState")}function JI(n){kt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;sm(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new Wi(e.readTime,e.documentKey,t)}const DT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ji{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Ji(e,Ji.DEFAULT_COLLECTION_PERCENTILE,Ji.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function XI(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),u=[],c=IDBKeyRange.only(t.batchId);let f=0;const y=r.J({range:c},(A,S,L)=>(f++,L.delete()));u.push(y.next(()=>{kt(1===f)}));const E=[];for(const A of t.mutations){const S=Uv(e,A.key.path,t.batchId);u.push(i.delete(S)),E.push(A.key)}return ce.waitFor(u).next(()=>E)}function Om(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw lt();e=n.noDocument}return JSON.stringify(e).length}Ji.DEFAULT_COLLECTION_PERCENTILE=10,Ji.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ji.DEFAULT=new Ji(41943040,Ji.DEFAULT_COLLECTION_PERCENTILE,Ji.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ji.DISABLED=new Ji(-1,0,0);class km{constructor(e,t,r,i){this.userId=e,this.wt=t,this.indexManager=r,this.referenceDelegate=i,this.gn={}}static se(e,t,r,i){kt(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new km(u,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ac(e).J({index:"userMutationsIndex",range:r},(i,u,c)=>{t=!1,c.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const u=Sc(e),c=Ac(e);return c.add({}).next(f=>{kt("number"==typeof f);const y=new Mm(f,t,r,i),E=function(L,B,q){const de=q.baseMutations.map(We=>Ea(L.ne,We)),Te=q.mutations.map(We=>Ea(L.ne,We));return{userId:B,batchId:q.batchId,localWriteTimeMs:q.localWriteTime.toMillis(),baseMutations:de,mutations:Te}}(this.wt,this.userId,y),A=[];let S=new Cn((L,B)=>jt(L.canonicalString(),B.canonicalString()));for(const L of i){const B=Uv(this.userId,L.key.path,f);S=S.add(L.key.path.popLast()),A.push(c.put(E)),A.push(u.put(B,mT))}return S.forEach(L=>{A.push(this.indexManager.addToCollectionParentIndex(e,L))}),e.addOnCommittedListener(()=>{this.gn[f]=y.keys()}),ce.waitFor(A).next(()=>y)})}lookupMutationBatch(e,t){return Ac(e).get(t).next(r=>r?(kt(r.userId===this.userId),Cc(this.wt,r)):null)}yn(e,t){return this.gn[t]?ce.resolve(this.gn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.gn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let u=null;return Ac(e).J({index:"userMutationsIndex",range:i},(c,f,y)=>{f.userId===this.userId&&(kt(f.batchId>=r),u=Cc(this.wt,f)),y.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Ac(e).J({index:"userMutationsIndex",range:t,reverse:!0},(i,u,c)=>{r=u.batchId,c.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ac(e).K("userMutationsIndex",t).next(r=>r.map(i=>Cc(this.wt,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Zf(this.userId,t.path),i=IDBKeyRange.lowerBound(r),u=[];return Sc(e).J({range:i},(c,f,y)=>{const[E,A,S]=c,L=So(A);if(E===this.userId&&t.path.isEqual(L))return Ac(e).get(S).next(B=>{if(!B)throw lt();kt(B.userId===this.userId),u.push(Cc(this.wt,B))});y.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Cn(jt);const i=[];return t.forEach(u=>{const c=Zf(this.userId,u.path),f=IDBKeyRange.lowerBound(c),y=Sc(e).J({range:f},(E,A,S)=>{const[L,B,q]=E,de=So(B);L===this.userId&&u.path.isEqual(de)?r=r.add(q):S.done()});i.push(y)}),ce.waitFor(i).next(()=>this.pn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,u=Zf(this.userId,r),c=IDBKeyRange.lowerBound(u);let f=new Cn(jt);return Sc(e).J({range:c},(y,E,A)=>{const[S,L,B]=y,q=So(L);S===this.userId&&r.isPrefixOf(q)?q.length===i&&(f=f.add(B)):A.done()}).next(()=>this.pn(e,f))}pn(e,t){const r=[],i=[];return t.forEach(u=>{i.push(Ac(e).get(u).next(c=>{if(null===c)throw lt();kt(c.userId===this.userId),r.push(Cc(this.wt,c))}))}),ce.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return XI(e.ee,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.In(t.batchId)}),ce.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}In(e){delete this.gn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ce.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return Sc(e).J({range:r},(u,c,f)=>{if(u[0]===this.userId){const y=So(u[1]);i.push(y)}else f.done()}).next(()=>{kt(0===i.length)})})}containsKey(e,t){return Yv(e,this.userId,t)}Tn(e){return eD(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Yv(n,e,t){const r=Zf(e,t.path),i=r[1],u=IDBKeyRange.lowerBound(r);let c=!1;return Sc(n).J({range:u,H:!0},(f,y,E)=>{const[A,S,L]=f;A===e&&S===i&&(c=!0),E.done()}).next(()=>c)}function Ac(n){return qr(n,"mutations")}function Sc(n){return qr(n,"documentMutations")}function eD(n){return qr(n,"mutationQueues")}class sl{constructor(e){this.En=e}next(){return this.En+=2,this.En}static An(){return new sl(0)}static Rn(){return new sl(-1)}}class KM{constructor(e,t){this.referenceDelegate=e,this.wt=t}allocateTargetId(e){return this.bn(e).next(t=>{const r=new sl(t.highestTargetId);return t.highestTargetId=r.next(),this.Pn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.bn(e).next(t=>Ct.fromTimestamp(new zn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.bn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.bn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Pn(e,i)))}addTargetData(e,t){return this.vn(e,t).next(()=>this.bn(e).next(r=>(r.targetCount+=1,this.Vn(t,r),this.Pn(e,r))))}updateTargetData(e,t){return this.vn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>ol(e).delete(t.targetId)).next(()=>this.bn(e)).next(r=>(kt(r.targetCount>0),r.targetCount-=1,this.Pn(e,r)))}removeTargets(e,t,r){let i=0;const u=[];return ol(e).J((c,f)=>{const y=Yf(f);y.sequenceNumber<=t&&null===r.get(y.targetId)&&(i++,u.push(this.removeTargetData(e,y)))}).next(()=>ce.waitFor(u)).next(()=>i)}forEachTarget(e,t){return ol(e).J((r,i)=>{const u=Yf(i);t(u)})}bn(e){return Qv(e).get("targetGlobalKey").next(t=>(kt(null!==t),t))}Pn(e,t){return Qv(e).put("targetGlobalKey",t)}vn(e,t){return ol(e).put(ZI(this.wt,t))}Vn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.bn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=gc(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let u=null;return ol(e).J({range:i,index:"queryTargetsIndex"},(c,f,y)=>{const E=Yf(f);Wd(t,E.target)&&(u=E,y.done())}).next(()=>u)}addMatchingKeys(e,t,r){const i=[],u=gu(e);return t.forEach(c=>{const f=Ni(c.path);i.push(u.put({targetId:r,path:f})),i.push(this.referenceDelegate.addReference(e,r,c))}),ce.waitFor(i)}removeMatchingKeys(e,t,r){const i=gu(e);return ce.forEach(t,u=>{const c=Ni(u.path);return ce.waitFor([i.delete([r,c]),this.referenceDelegate.removeReference(e,r,u)])})}removeMatchingKeysForTargetId(e,t){const r=gu(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=gu(e);let u=Yt();return i.J({range:r,H:!0},(c,f,y)=>{const E=So(c[1]),A=new Je(E);u=u.add(A)}).next(()=>u)}containsKey(e,t){const r=Ni(t.path),i=IDBKeyRange.bound([r],[K0(r)],!1,!0);let u=0;return gu(e).J({index:"documentTargetsIndex",H:!0,range:i},([c,f],y,E)=>{0!==c&&(u++,E.done())}).next(()=>u>0)}te(e,t){return ol(e).get(t).next(r=>r?Yf(r):null)}}function ol(n){return qr(n,"targets")}function Qv(n){return qr(n,"targetGlobal")}function gu(n){return qr(n,"targetDocuments")}function tD([n,e],[t,r]){const i=jt(n,t);return 0===i?jt(e,r):i}class nD{constructor(e){this.Sn=e,this.buffer=new Cn(tD),this.Dn=0}Cn(){return++this.Dn}xn(e){const t=[e,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();tD(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class rD{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Nn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.kn(6e4)}stop(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}get started(){return null!==this.Nn}kn(e){var t=this;je("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Ie.Z)(function*(){t.Nn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){Co(r)?je("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Ku(r)}yield t.kn(3e5)}))}}class Fm{constructor(e,t){this.Mn=e,this.params=t}calculateTargetCount(e,t){return this.Mn.On(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return ce.resolve(qi.ot);const r=new nD(t);return this.Mn.forEachTarget(e,i=>r.xn(i.sequenceNumber)).next(()=>this.Mn.Fn(e,i=>r.xn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Mn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Mn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(je("LruGarbageCollector","Garbage collection skipped; disabled"),ce.resolve(DT)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(je("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),DT):this.$n(e,t))}getCacheSize(e){return this.Mn.getCacheSize(e)}$n(e,t){let r,i,u,c,f,y,E;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(je("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),i=this.params.maximumSequenceNumbersToCollect):i=S,c=Date.now(),this.nthSequenceNumber(e,i))).next(S=>(r=S,f=Date.now(),this.removeTargets(e,r,t))).next(S=>(u=S,y=Date.now(),this.removeOrphanedDocuments(e,r))).next(S=>(E=Date.now(),ov()<=da.in.DEBUG&&je("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-A}ms\n\tDetermined least recently used ${i} in `+(f-c)+`ms\n\tRemoved ${u} targets in `+(y-f)+`ms\n\tRemoved ${S} documents in `+(E-y)+`ms\nTotal Duration: ${E-A}ms`),ce.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:u,documentsRemoved:S})))}}class Lm{constructor(e,t){this.db=e,this.garbageCollector=new Fm(this,t)}On(e){const t=this.Bn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Bn(e){let t=0;return this.Fn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Fn(e,t){return this.Ln(e,(r,i)=>t(i))}addReference(e,t,r){return Jf(e,r)}removeReference(e,t,r){return Jf(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Jf(e,t)}Un(e,t){return function(r,i){let u=!1;return eD(r).Y(c=>Yv(r,c,i).next(f=>(f&&(u=!0),ce.resolve(!f)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let u=0;return this.Ln(e,(c,f)=>{if(f<=t){const y=this.Un(e,c).next(E=>{if(!E)return u++,r.getEntry(e,c).next(()=>(r.removeEntry(c,Ct.min()),gu(e).delete([0,Ni(c.path)])))});i.push(y)}}).next(()=>ce.waitFor(i)).next(()=>r.apply(e)).next(()=>u)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Jf(e,t)}Ln(e,t){const r=gu(e);let i,u=qi.ot;return r.J({index:"documentTargetsIndex"},([c,f],{path:y,sequenceNumber:E})=>{0===c?(u!==qi.ot&&t(new Je(So(i)),u),u=E,i=y):u=qi.ot}).next(()=>{u!==qi.ot&&t(new Je(So(i)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Jf(n,e){return gu(n).put((r=n.currentSequenceNumber,{targetId:0,path:Ni(e.path),sequenceNumber:r}));var r}class iD{constructor(){this.changes=new tl(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,xn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?ce.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class sD{constructor(e){this.wt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return ah(e).put(r)}removeEntry(e,t,r){return ah(e).delete(function(i,u){const c=i.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],Hv(u),c[c.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.qn(e,r)))}getEntry(e,t){let r=xn.newInvalidDocument(t);return ah(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Vm(t))},(i,u)=>{r=this.Kn(t,u)}).next(()=>r)}Gn(e,t){let r={size:0,document:xn.newInvalidDocument(t)};return ah(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Vm(t))},(i,u)=>{r={document:this.Kn(t,u),size:Om(u)}}).next(()=>r)}getEntries(e,t){let r=Qi();return this.Qn(e,t,(i,u)=>{const c=this.Kn(i,u);r=r.insert(i,c)}).next(()=>r)}jn(e,t){let r=Qi(),i=new or(Je.comparator);return this.Qn(e,t,(u,c)=>{const f=this.Kn(u,c);r=r.insert(u,f),i=i.insert(u,Om(c))}).next(()=>({documents:r,Wn:i}))}Qn(e,t,r){if(t.isEmpty())return ce.resolve();let i=new Cn(aD);t.forEach(y=>i=i.add(y));const u=IDBKeyRange.bound(Vm(i.first()),Vm(i.last())),c=i.getIterator();let f=c.getNext();return ah(e).J({index:"documentKeyIndex",range:u},(y,E,A)=>{const S=Je.fromSegments([...E.prefixPath,E.collectionGroup,E.documentId]);for(;f&&aD(f,S)<0;)r(f,null),f=c.getNext();f&&f.isEqual(S)&&(r(f,E),f=c.hasNext()?c.getNext():null),f?A.q(Vm(f)):A.done()}).next(()=>{for(;f;)r(f,null),f=c.hasNext()?c.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),Hv(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],u=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ah(e).K(IDBKeyRange.bound(i,u,!0)).next(c=>{let f=Qi();for(const y of c){const E=this.Kn(Je.fromSegments(y.prefixPath.concat(y.collectionGroup,y.documentId)),y);f=f.insert(E.key,E)}return f})}getAllFromCollectionGroup(e,t,r,i){let u=Qi();const c=Xv(t,r),f=Xv(t,Wi.max());return ah(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,f,!0)},(y,E,A)=>{const S=this.Kn(Je.fromSegments(E.prefixPath.concat(E.collectionGroup,E.documentId)),E);u=u.insert(S.key,S),u.size===i&&A.done()}).next(()=>u)}newChangeBuffer(e){return new bT(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return oD(e).get("remoteDocumentGlobalKey").next(t=>(kt(!!t),t))}qn(e,t){return oD(e).put("remoteDocumentGlobalKey",t)}Kn(e,t){if(t){const r=function xm(n,e){let t;if(e.document)t=Fv(n.ne,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Je.fromSegments(e.noDocument.path),i=nh(e.noDocument.readTime);t=xn.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return lt();{const r=Je.fromSegments(e.unknownDocument.path),i=nh(e.unknownDocument.version);t=xn.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new zn(r[0],r[1]);return Ct.fromTimestamp(i)}(e.readTime)),t}(this.wt,t);if(!r.isNoDocument()||!r.version.isEqual(Ct.min()))return r}return xn.newInvalidDocument(e)}}function Jv(n){return new sD(n)}class bT extends iD{constructor(e,t){super(),this.zn=e,this.trackRemovals=t,this.Hn=new tl(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new Cn((u,c)=>jt(u.canonicalString(),c.canonicalString()));return this.changes.forEach((u,c)=>{const f=this.Hn.get(u);if(t.push(this.zn.removeEntry(e,u,f.readTime)),c.isValidDocument()){const y=qI(this.zn.wt,c);i=i.add(u.path.popLast()),r+=Om(y)-f.size,t.push(this.zn.addEntry(e,u,y))}else if(r-=f.size,this.trackRemovals){const y=qI(this.zn.wt,c.convertToNoDocument(Ct.min()));t.push(this.zn.addEntry(e,u,y))}}),i.forEach(u=>{t.push(this.zn.indexManager.addToCollectionParentIndex(e,u))}),t.push(this.zn.updateMetadata(e,r)),ce.waitFor(t)}getFromCache(e,t){return this.zn.Gn(e,t).next(r=>(this.Hn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.zn.jn(e,t).next(({documents:r,Wn:i})=>(i.forEach((u,c)=>{this.Hn.set(u,{size:c,readTime:r.get(u).readTime})}),r))}}function oD(n){return qr(n,"remoteDocumentGlobal")}function ah(n){return qr(n,"remoteDocumentsV14")}function Vm(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Xv(n,e){const t=e.documentKey.path.toArray();return[n,Hv(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function aD(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let u=0;u<t.length-2&&u<r.length-2;++u)if(i=jt(t[u],r[u]),i)return i;return i=jt(t.length,r.length),i||(i=jt(t[t.length-2],r[r.length-2]),i||jt(t[t.length-1],r[r.length-1]))}class CT{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class uD{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.getBaseDocument(e,t,r))).next(i=>(null!==r&&el(r.mutation,i,Zi.empty(),zn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Yt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Yt()){const i=Ao();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(u=>{let c=Jd();return u.forEach((f,y)=>{c=c.insert(f,y.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const r=Ao();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Yt()))}populateOverlays(e,t,r){const i=[];return r.forEach(u=>{t.has(u)||i.push(u)}),this.documentOverlayCache.getOverlays(e,i).next(u=>{u.forEach((c,f)=>{t.set(c,f)})})}computeViews(e,t,r,i){let u=Qi();const c=Xd(),f=Xd();return t.forEach((y,E)=>{const A=r.get(E.key);i.has(E.key)&&(void 0===A||A.mutation instanceof wa)?u=u.insert(E.key,E):void 0!==A&&(c.set(E.key,A.mutation.getFieldMask()),el(A.mutation,E,A.mutation.getFieldMask(),zn.now()))}),this.recalculateAndSaveOverlays(e,u).next(y=>(y.forEach((E,A)=>c.set(E,A)),t.forEach((E,A)=>{var S;return f.set(E,new CT(A,null!==(S=c.get(E))&&void 0!==S?S:null))}),f))}recalculateAndSaveOverlays(e,t){const r=Xd();let i=new or((c,f)=>c-f),u=Yt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const f of c)f.keys().forEach(y=>{const E=t.get(y);if(null===E)return;let A=r.get(y)||Zi.empty();A=f.applyToLocalView(E,A),r.set(y,A);const S=(i.get(f.batchId)||Yt()).add(y);i=i.insert(f.batchId,S)})}).next(()=>{const c=[],f=i.getReverseIterator();for(;f.hasNext();){const y=f.getNext(),E=y.key,A=y.value,S=CI();A.forEach(L=>{if(!u.has(L)){const B=wI(t.get(L),r.get(L));null!==B&&S.set(L,B),u=u.add(L)}}),c.push(this.documentOverlayCache.saveOverlays(e,E,S))}return ce.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return Je.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):bv(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(u=>{const c=i-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-u.size):ce.resolve(Ao());let f=-1,y=u;return c.next(E=>ce.forEach(E,(A,S)=>(f<S.largestBatchId&&(f=S.largestBatchId),u.get(A)?ce.resolve():this.getBaseDocument(e,A,S).next(L=>{y=y.insert(A,L)}))).next(()=>this.populateOverlays(e,E,u)).next(()=>this.computeViews(e,y,E,Yt())).next(A=>({batchId:f,changes:Im(A)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Je(t)).next(r=>{let i=Jd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let u=Jd();return this.indexManager.getCollectionParents(e,i).next(c=>ce.forEach(c,f=>{const y=(E=t,A=f.child(i),new fu(A,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt));var E,A;return this.getDocumentsMatchingCollectionQuery(e,y,r).next(E=>{E.forEach((A,S)=>{u=u.insert(A,S)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(u=>(i=u,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(u=>{u.forEach((f,y)=>{const E=y.getKey();null===i.get(E)&&(i=i.insert(E,xn.newInvalidDocument(E)))});let c=Jd();return i.forEach((f,y)=>{const E=u.get(f);void 0!==E&&el(E.mutation,y,Zi.empty(),zn.now()),Tv(t,y)&&(c=c.insert(f,y))}),c})}getBaseDocument(e,t,r){return null===r||1===r.mutation.type?this.remoteDocumentCache.getEntry(e,t):ce.resolve(xn.newInvalidDocument(t))}}class YM{constructor(e){this.wt=e,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(e,t){return ce.resolve(this.Jn.get(t))}saveBundleMetadata(e,t){var r;return this.Jn.set(t.id,{id:(r=t).id,version:r.version,createTime:Wr(r.createTime)}),ce.resolve()}getNamedQuery(e,t){return ce.resolve(this.Yn.get(t))}saveNamedQuery(e,t){return this.Yn.set(t.name,{name:(r=t).name,query:KI(r.bundledQuery),readTime:Wr(r.readTime)}),ce.resolve();var r}}class QM{constructor(){this.overlays=new or(Je.comparator),this.Xn=new Map}getOverlay(e,t){return ce.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Ao();return ce.forEach(t,i=>this.getOverlay(e,i).next(u=>{null!==u&&r.set(i,u)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,u)=>{this.ie(e,t,u)}),ce.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Xn.get(r);return void 0!==i&&(i.forEach(u=>this.overlays=this.overlays.remove(u)),this.Xn.delete(r)),ce.resolve()}getOverlaysForCollection(e,t,r){const i=Ao(),u=t.length+1,c=new Je(t.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const y=f.getNext().value,E=y.getKey();if(!t.isPrefixOf(E.path))break;E.path.length===u&&y.largestBatchId>r&&i.set(y.getKey(),y)}return ce.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let u=new or((E,A)=>E-A);const c=this.overlays.getIterator();for(;c.hasNext();){const E=c.getNext().value;if(E.getKey().getCollectionGroup()===t&&E.largestBatchId>r){let A=u.get(E.largestBatchId);null===A&&(A=Ao(),u=u.insert(E.largestBatchId,A)),A.set(E.getKey(),E)}}const f=Ao(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((E,A)=>f.set(E,A)),!(f.size()>=i)););return ce.resolve(f)}ie(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const c=this.Xn.get(i.largestBatchId).delete(r.key);this.Xn.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new $v(t,r));let u=this.Xn.get(t);void 0===u&&(u=Yt(),this.Xn.set(t,u)),this.Xn.set(t,u.add(r.key))}}class lD{constructor(){this.Zn=new Cn(si.ts),this.es=new Cn(si.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,t){const r=new si(e,t);this.Zn=this.Zn.add(r),this.es=this.es.add(r)}ss(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.rs(new si(e,t))}os(e,t){e.forEach(r=>this.removeReference(r,t))}us(e){const t=new Je(new dn([])),r=new si(t,e),i=new si(t,e+1),u=[];return this.es.forEachInRange([r,i],c=>{this.rs(c),u.push(c.key)}),u}cs(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const t=new Je(new dn([])),r=new si(t,e),i=new si(t,e+1);let u=Yt();return this.es.forEachInRange([r,i],c=>{u=u.add(c.key)}),u}containsKey(e){const t=new si(e,0),r=this.Zn.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class si{constructor(e,t){this.key=e,this.ls=t}static ts(e,t){return Je.comparator(e.key,t.key)||jt(e.ls,t.ls)}static ns(e,t){return jt(e.ls,t.ls)||Je.comparator(e.key,t.key)}}class JM{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.fs=1,this.ds=new Cn(si.ts)}checkEmpty(e){return ce.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const u=this.fs;this.fs++;const c=new Mm(u,t,r,i);this.mutationQueue.push(c);for(const f of i)this.ds=this.ds.add(new si(f.key,u)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ce.resolve(c)}lookupMutationBatch(e,t){return ce.resolve(this._s(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.ws(t+1),u=i<0?0:i;return ce.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(0===this.mutationQueue.length?-1:this.fs-1)}getAllMutationBatches(e){return ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new si(t,0),i=new si(t,Number.POSITIVE_INFINITY),u=[];return this.ds.forEachInRange([r,i],c=>{const f=this._s(c.ls);u.push(f)}),ce.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Cn(jt);return t.forEach(i=>{const u=new si(i,0),c=new si(i,Number.POSITIVE_INFINITY);this.ds.forEachInRange([u,c],f=>{r=r.add(f.ls)})}),ce.resolve(this.gs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let u=r;Je.isDocumentKey(u)||(u=u.child(""));const c=new si(new Je(u),0);let f=new Cn(jt);return this.ds.forEachWhile(y=>{const E=y.key.path;return!!r.isPrefixOf(E)&&(E.length===i&&(f=f.add(y.ls)),!0)},c),ce.resolve(this.gs(f))}gs(e){const t=[];return e.forEach(r=>{const i=this._s(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){kt(0===this.ys(t.batchId,"removed")),this.mutationQueue.shift();let r=this.ds;return ce.forEach(t.mutations,i=>{const u=new si(i.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.ds=r})}In(e){}containsKey(e,t){const r=new si(t,0),i=this.ds.firstAfterOrEqual(r);return ce.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return ce.resolve()}ys(e,t){return this.ws(e)}ws(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}_s(e){const t=this.ws(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class TT{constructor(e){this.ps=e,this.docs=new or(Je.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),u=i?i.size:0,c=this.ps(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ce.resolve(r?r.document.mutableCopy():xn.newInvalidDocument(t))}getEntries(e,t){let r=Qi();return t.forEach(i=>{const u=this.docs.get(i);r=r.insert(i,u?u.document.mutableCopy():xn.newInvalidDocument(i))}),ce.resolve(r)}getAllFromCollection(e,t,r){let i=Qi();const u=new Je(t.child("")),c=this.docs.getIteratorFrom(u);for(;c.hasNext();){const{key:f,value:{document:y}}=c.getNext();if(!t.isPrefixOf(f.path))break;f.path.length>t.length+1||sm(lv(y),r)<=0||(i=i.insert(y.key,y.mutableCopy()))}return ce.resolve(i)}getAllFromCollectionGroup(e,t,r,i){lt()}Is(e,t){return ce.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Um(this)}getSize(e){return ce.resolve(this.size)}}class Um extends iD{constructor(e){super(),this.zn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.zn.addEntry(e,i)):this.zn.removeEntry(r)}),ce.waitFor(t)}getFromCache(e,t){return this.zn.getEntry(e,t)}getAllFromCache(e,t){return this.zn.getEntries(e,t)}}class AT{constructor(e){this.persistence=e,this.Ts=new tl(t=>gc(t),Wd),this.lastRemoteSnapshotVersion=Ct.min(),this.highestTargetId=0,this.Es=0,this.As=new lD,this.targetCount=0,this.Rs=sl.An()}forEachTarget(e,t){return this.Ts.forEach((r,i)=>t(i)),ce.resolve()}getLastRemoteSnapshotVersion(e){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ce.resolve(this.Es)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Es&&(this.Es=t),ce.resolve()}vn(e){this.Ts.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Rs=new sl(t),this.highestTargetId=t),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}addTargetData(e,t){return this.vn(t),this.targetCount+=1,ce.resolve()}updateTargetData(e,t){return this.vn(t),ce.resolve()}removeTargetData(e,t){return this.Ts.delete(t.target),this.As.us(t.targetId),this.targetCount-=1,ce.resolve()}removeTargets(e,t,r){let i=0;const u=[];return this.Ts.forEach((c,f)=>{f.sequenceNumber<=t&&null===r.get(f.targetId)&&(this.Ts.delete(c),u.push(this.removeMatchingKeysForTargetId(e,f.targetId)),i++)}),ce.waitFor(u).next(()=>i)}getTargetCount(e){return ce.resolve(this.targetCount)}getTargetData(e,t){const r=this.Ts.get(t)||null;return ce.resolve(r)}addMatchingKeys(e,t,r){return this.As.ss(t,r),ce.resolve()}removeMatchingKeys(e,t,r){this.As.os(t,r);const i=this.persistence.referenceDelegate,u=[];return i&&t.forEach(c=>{u.push(i.markPotentiallyOrphaned(e,c))}),ce.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.As.us(t),ce.resolve()}getMatchingKeysForTargetId(e,t){const r=this.As.hs(t);return ce.resolve(r)}containsKey(e,t){return ce.resolve(this.As.containsKey(t))}}class cD{constructor(e,t){this.bs={},this.overlays={},this.Ps=new qi(0),this.vs=!1,this.vs=!0,this.referenceDelegate=e(this),this.Vs=new AT(this),this.indexManager=new IT,this.remoteDocumentCache=new TT(r=>this.referenceDelegate.Ss(r)),this.wt=new WI(t),this.Ds=new YM(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new QM,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.bs[e.toKey()];return r||(r=new JM(t,this.referenceDelegate),this.bs[e.toKey()]=r),r}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(e,t,r){je("MemoryPersistence","Starting transaction:",e);const i=new dD(this.Ps.next());return this.referenceDelegate.Cs(),r(i).next(u=>this.referenceDelegate.xs(i).next(()=>u)).toPromise().then(u=>(i.raiseOnCommittedEvent(),u))}Ns(e,t){return ce.or(Object.values(this.bs).map(r=>()=>r.containsKey(e,t)))}}class dD extends cv{constructor(e){super(),this.currentSequenceNumber=e}}class Ia{constructor(e){this.persistence=e,this.ks=new lD,this.Ms=null}static Os(e){return new Ia(e)}get Fs(){if(this.Ms)return this.Ms;throw lt()}addReference(e,t,r){return this.ks.addReference(r,t),this.Fs.delete(r.toString()),ce.resolve()}removeReference(e,t,r){return this.ks.removeReference(r,t),this.Fs.add(r.toString()),ce.resolve()}markPotentiallyOrphaned(e,t){return this.Fs.add(t.toString()),ce.resolve()}removeTarget(e,t){this.ks.us(t.targetId).forEach(i=>this.Fs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(u=>this.Fs.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}Cs(){this.Ms=new Set}xs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.Fs,r=>{const i=Je.fromPath(r);return this.$s(e,i).next(u=>{u||t.removeEntry(i,Ct.min())})}).next(()=>(this.Ms=null,t.apply(e)))}updateLimboDocument(e,t){return this.$s(e,t).next(r=>{r?this.Fs.delete(t.toString()):this.Fs.add(t.toString())})}Ss(e){return 0}$s(e,t){return ce.or([()=>ce.resolve(this.ks.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ns(e,t)])}}class hD{constructor(e){this.wt=e}M(e,t,r,i){const u=new hv("createOrUpgrade",t);var f;r<1&&i>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Vv,{unique:!0}),f.createObjectStore("documentMutations"),Bm(e),function(f){f.createObjectStore("remoteDocuments")}(e));let c=ce.resolve();return r<3&&i>=3&&(0!==r&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),Bm(e)),c=c.next(()=>function(f){const y=f.store("targetGlobal"),E={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ct.min().toTimestamp(),targetCount:0};return y.put("targetGlobalKey",E)}(u))),r<4&&i>=4&&(0!==r&&(c=c.next(()=>function(f,y){return y.store("mutations").K().next(E=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Vv,{unique:!0});const A=y.store("mutations"),S=E.map(L=>A.put(L));return ce.waitFor(S)})}(e,u))),c=c.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(c=c.next(()=>this.Bs(u))),r<6&&i>=6&&(c=c.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.Ls(u)))),r<7&&i>=7&&(c=c.next(()=>this.Us(u))),r<8&&i>=8&&(c=c.next(()=>this.qs(e,u))),r<9&&i>=9&&(c=c.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(c=c.next(()=>this.Ks(u))),r<11&&i>=11&&(c=c.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(c=c.next(()=>{!function(f){const y=f.createObjectStore("documentOverlays",{keyPath:Am});y.createIndex("collectionPathOverlayIndex",qM,{unique:!1}),y.createIndex("collectionGroupOverlayIndex",HI,{unique:!1})}(e)})),r<13&&i>=13&&(c=c.next(()=>function(f){const y=f.createObjectStore("remoteDocumentsV14",{keyPath:yT});y.createIndex("documentKeyIndex",VM),y.createIndex("collectionGroupIndex",$I)}(e)).next(()=>this.Gs(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(c=c.next(()=>this.Qs(e,u))),r<15&&i>=15&&(c=c.next(()=>function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:HM}).createIndex("sequenceNumberIndex",GM,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:zM}).createIndex("documentKeyIndex",WM,{unique:!1})}(e))),c}Ls(e){let t=0;return e.store("remoteDocuments").J((r,i)=>{t+=Om(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Bs(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.K().next(i=>ce.forEach(i,u=>{const c=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return r.K("userMutationsIndex",c).next(f=>ce.forEach(f,y=>{kt(y.userId===u.userId);const E=Cc(this.wt,y);return XI(e,u.userId,E).next(()=>{})}))}))}Us(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const u=[];return r.J((c,f)=>{const y=new dn(c),E=[0,Ni(y)];u.push(t.get(E).next(A=>A?ce.resolve():t.put({targetId:0,path:Ni(y),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>ce.waitFor(u))})}qs(e,t){e.createObjectStore("collectionParents",{keyPath:$M});const r=t.store("collectionParents"),i=new Rm,u=c=>{if(i.add(c)){const f=c.lastSegment(),y=c.popLast();return r.put({collectionId:f,parent:Ni(y)})}};return t.store("remoteDocuments").J({H:!0},(c,f)=>{const y=new dn(c);return u(y.popLast())}).next(()=>t.store("documentMutations").J({H:!0},([c,f,y],E)=>{const A=So(f);return u(A.popLast())}))}Ks(e){const t=e.store("targets");return t.J((r,i)=>{const u=Yf(i),c=ZI(this.wt,u);return t.put(c)})}Gs(e,t){const r=t.store("remoteDocuments"),i=[];return r.J((u,c)=>{const f=t.store("remoteDocumentsV14"),y=(E=c,E.document?new Je(dn.fromString(E.document.name).popFirst(5)):E.noDocument?Je.fromSegments(E.noDocument.path):E.unknownDocument?Je.fromSegments(E.unknownDocument.path):lt()).path.toArray();var E;const A={prefixPath:y.slice(0,y.length-2),collectionGroup:y[y.length-2],documentId:y[y.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};i.push(f.put(A))}).next(()=>ce.waitFor(i))}Qs(e,t){const r=t.store("mutations"),i=Jv(this.wt),u=new cD(Ia.Os,this.wt.ne);return r.K().next(c=>{const f=new Map;return c.forEach(y=>{var E;let A=null!==(E=f.get(y.userId))&&void 0!==E?E:Yt();Cc(this.wt,y).keys().forEach(S=>A=A.add(S)),f.set(y.userId,A)}),ce.forEach(f,(y,E)=>{const A=new xr(E),S=rh.se(this.wt,A),L=u.getIndexManager(A),B=km.se(A,this.wt,L,u.referenceDelegate);return new uD(i,B,S,L).recalculateAndSaveOverlaysForDocumentKeys(new Sm(t,qi.ot),y).next()})})}}function Bm(n){n.createObjectStore("targetDocuments",{keyPath:BM}).createIndex("documentTargetsIndex",jM,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",UM,{unique:!0}),n.createObjectStore("targetGlobal")}const Xf="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class ew{constructor(e,t,r,i,u,c,f,y,E,A,S=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.js=u,this.window=c,this.document=f,this.Ws=E,this.zs=A,this.Hs=S,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=L=>Promise.resolve(),!ew.V())throw new Le(me.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Lm(this,i),this.ei=t+"main",this.wt=new WI(y),this.ni=new ma(this.ei,this.Hs,new hD(this.wt)),this.Vs=new KM(this.referenceDelegate,this.wt),this.remoteDocumentCache=Jv(this.wt),this.Ds=new ZM,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,!1===A&&er("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ii().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Le(me.FAILED_PRECONDITION,Xf);return this.ri(),this.oi(),this.ui(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Vs.getHighestSequenceNumber(e))}).then(e=>{this.Ps=new qi(e,this.Ws)}).then(()=>{this.vs=!0}).catch(e=>(this.ni&&this.ni.close(),Promise.reject(e)))}ci(e){var t=this;return this.ti=function(){var r=(0,Ie.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ni.F(function(){var t=(0,Ie.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.js.enqueueAndForget((0,Ie.Z)(function*(){t.started&&(yield t.ii())})))}ii(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>uh(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.ai(e).next(t=>{t||(this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)))})}).next(()=>this.hi(e)).next(t=>this.isPrimary&&!t?this.li(e).next(()=>!1):!!t&&this.fi(e).next(()=>!0))).catch(e=>{if(Co(e))return je("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return je("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.js.enqueueRetryable(()=>this.ti(e)),this.isPrimary=e})}ai(e){return Mc(e).get("owner").next(t=>ce.resolve(this.di(t)))}_i(e){return uh(e).delete(this.clientId)}wi(){var e=this;return(0,Ie.Z)(function*(){if(e.isPrimary&&!e.mi(e.Zs,18e5)){e.Zs=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=qr(r,"clientMetadata");return i.K().next(u=>{const c=e.gi(u,18e5),f=u.filter(y=>-1===c.indexOf(y));return ce.forEach(f,y=>i.delete(y.clientId)).next(()=>f)})}).catch(()=>[]);if(e.si)for(const r of t)e.si.removeItem(e.yi(r.clientId))}})()}ui(){this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ii().then(()=>this.wi()).then(()=>this.ui()))}di(e){return!!e&&e.ownerId===this.clientId}hi(e){return this.zs?ce.resolve(!0):Mc(e).get("owner").next(t=>{if(null!==t&&this.mi(t.leaseTimestampMs,5e3)&&!this.pi(t.ownerId)){if(this.di(t)&&this.networkEnabled)return!0;if(!this.di(t)){if(!t.allowTabSynchronization)throw new Le(me.FAILED_PRECONDITION,Xf);return!1}}return!(!this.networkEnabled||!this.inForeground)||uh(e).K().next(r=>void 0===this.gi(r,5e3).find(i=>{if(this.clientId!==i.clientId){const c=!this.inForeground&&i.inForeground,f=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||c&&f)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&je("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Ie.Z)(function*(){e.vs=!1,e.Ii(),e.Xs&&(e.Xs.cancel(),e.Xs=null),e.Ti(),e.Ei(),yield e.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new Sm(t,qi.ot);return e.li(r).next(()=>e._i(r))}),e.ni.close(),e.Ai()})()}gi(e,t){return e.filter(r=>this.mi(r.updateTimeMs,t)&&!this.pi(r.clientId))}Ri(){return this.runTransaction("getActiveClients","readonly",e=>uh(e).K().next(t=>this.gi(t,18e5).map(r=>r.clientId)))}get started(){return this.vs}getMutationQueue(e,t){return km.se(e,this.wt,t,this.referenceDelegate)}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Kv(e,this.wt.ne.databaseId)}getDocumentOverlayCache(e){return rh.se(this.wt,e)}getBundleCache(){return this.Ds}runTransaction(e,t,r){je("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",u=15===(c=this.Hs)?jv:14===c?_T:13===c?Bv:12===c?GI:11===c?Kf:void lt();var c;let f;return this.ni.runTransaction(e,i,u,y=>(f=new Sm(y,this.Ps?this.Ps.next():qi.ot),"readwrite-primary"===t?this.ai(f).next(E=>!!E||this.hi(f)).next(E=>{if(!E)throw er(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)),new Le(me.FAILED_PRECONDITION,Q0);return r(f)}).next(E=>this.fi(f).next(()=>E)):this.bi(f).next(()=>r(f)))).then(y=>(f.raiseOnCommittedEvent(),y))}bi(e){return Mc(e).get("owner").next(t=>{if(null!==t&&this.mi(t.leaseTimestampMs,5e3)&&!this.pi(t.ownerId)&&!this.di(t)&&!(this.zs||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Le(me.FAILED_PRECONDITION,Xf)})}fi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Mc(e).put("owner",t)}static V(){return ma.V()}li(e){const t=Mc(e);return t.get("owner").next(r=>this.di(r)?(je("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ce.resolve())}mi(e,t){const r=Date.now();return!(e<r-t||e>r&&(er(`Detected an update time that is in the future: ${e} > ${r}`),1))}ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ys=()=>{this.js.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ii()))},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground="visible"===this.document.visibilityState)}Ti(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}oi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Js=()=>{this.Ii(),(0,Xt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.js.enterRestrictedMode(!0),this.js.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Js))}Ei(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}pi(e){var t;try{const r=null!==(null===(t=this.si)||void 0===t?void 0:t.getItem(this.yi(e)));return je("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return er("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ii(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(e){er("Failed to set zombie client id.",e)}}Ai(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch{}}yi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Mc(n){return qr(n,"owner")}function uh(n){return qr(n,"clientMetadata")}function lh(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class fD{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Pi=r,this.vi=i}static Vi(e,t){let r=Yt(),i=Yt();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:i=i.add(u.doc.key)}return new fD(e,t.fromCache,r,i)}}class ST{constructor(){this.Si=!1}initialize(e,t){this.Di=e,this.indexManager=t,this.Si=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Ci(e,t).next(u=>u||this.xi(e,t,i,r)).next(u=>u||this.Ni(e,t))}Ci(e,t){if(fI(t))return ce.resolve(null);let r=Ki(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=pm(t,null,"F"),r=Ki(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(u=>{const c=Yt(...u);return this.Di.getDocuments(e,c).next(f=>this.indexManager.getMinOffset(e,r).next(y=>{const E=this.ki(t,f);return this.Mi(t,E,c,y.readTime)?this.Ci(e,pm(t,null,"F")):this.Oi(e,E,t,y)}))})))}xi(e,t,r,i){return fI(t)||i.isEqual(Ct.min())?this.Ni(e,t):this.Di.getDocuments(e,r).next(u=>{const c=this.ki(t,u);return this.Mi(t,c,r,i)?this.Ni(e,t):(ov()<=da.in.DEBUG&&je("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Cv(t)),this.Oi(e,c,t,Y0(i,-1)))})}ki(e,t){let r=new Cn(Kd(e));return t.forEach((i,u)=>{Tv(e,u)&&(r=r.add(u))}),r}Mi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(i)>0)}Ni(e,t){return ov()<=da.in.DEBUG&&je("QueryEngine","Using full collection scan to execute query:",Cv(t)),this.Di.getDocumentsMatchingQuery(e,t,Wi.min())}Oi(e,t,r,i){return this.Di.getDocumentsMatchingQuery(e,r,i).next(u=>(t.forEach(c=>{u=u.insert(c.key,c)}),u))}}class XM{constructor(e,t,r,i){this.persistence=e,this.Fi=t,this.wt=i,this.$i=new or(jt),this.Bi=new tl(u=>gc(u),Wd),this.Li=new Map,this.Ui=e.getRemoteDocumentCache(),this.Vs=e.getTargetCache(),this.Ds=e.getBundleCache(),this.qi(r)}qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new uD(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.$i))}}function MT(n,e,t,r){return new XM(n,e,t,r)}function tw(n,e){return nw.apply(this,arguments)}function nw(){return nw=(0,Ie.Z)(function*(n,e){const t=nt(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(u=>(i=u,t.qi(e),t.mutationQueue.getAllMutationBatches(r))).next(u=>{const c=[],f=[];let y=Yt();for(const E of i){c.push(E.batchId);for(const A of E.mutations)y=y.add(A.key)}for(const E of u){f.push(E.batchId);for(const A of E.mutations)y=y.add(A.key)}return t.localDocuments.getDocuments(r,y).next(E=>({Ki:E,removedBatchIds:c,addedBatchIds:f}))})})}),nw.apply(this,arguments)}function xT(n,e){const t=nt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),u=t.Ui.newChangeBuffer({trackRemovals:!0});return function(c,f,y,E){const A=y.batch,S=A.keys();let L=ce.resolve();return S.forEach(B=>{L=L.next(()=>E.getEntry(f,B)).next(q=>{const de=y.docVersions.get(B);kt(null!==de),q.version.compareTo(de)<0&&(A.applyToRemoteDocument(q,y),q.isValidDocument()&&(q.setReadTime(y.commitVersion),E.addEntry(q)))})}),L.next(()=>c.mutationQueue.removeMutationBatch(f,A))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let f=Yt();for(let y=0;y<c.mutationResults.length;++y)c.mutationResults[y].transformResults.length>0&&(f=f.add(c.batch.mutations[y].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function pD(n){const e=nt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Vs.getLastRemoteSnapshotVersion(t))}function NT(n,e){const t=nt(n),r=e.snapshotVersion;let i=t.$i;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const c=t.Ui.newChangeBuffer({trackRemovals:!0});i=t.$i;const f=[];e.targetChanges.forEach((A,S)=>{const L=i.get(S);if(!L)return;f.push(t.Vs.removeMatchingKeys(u,A.removedDocuments,S).next(()=>t.Vs.addMatchingKeys(u,A.addedDocuments,S)));let B=L.withSequenceNumber(u.currentSequenceNumber);var q,de,Te;e.targetMismatches.has(S)?B=B.withResumeToken(Cr.EMPTY_BYTE_STRING,Ct.min()).withLastLimboFreeSnapshotVersion(Ct.min()):A.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(A.resumeToken,r)),i=i.insert(S,B),de=B,Te=A,(0===(q=L).resumeToken.approximateByteSize()||de.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=3e8||Te.addedDocuments.size+Te.modifiedDocuments.size+Te.removedDocuments.size>0)&&f.push(t.Vs.updateTargetData(u,B))});let y=Qi(),E=Yt();if(e.documentUpdates.forEach(A=>{e.resolvedLimboDocuments.has(A)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(u,A))}),f.push(rw(u,c,e.documentUpdates).next(A=>{y=A.Gi,E=A.Qi})),!r.isEqual(Ct.min())){const A=t.Vs.getLastRemoteSnapshotVersion(u).next(S=>t.Vs.setTargetsMetadata(u,u.currentSequenceNumber,r));f.push(A)}return ce.waitFor(f).next(()=>c.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,y,E)).next(()=>y)}).then(u=>(t.$i=i,u))}function rw(n,e,t){let r=Yt(),i=Yt();return t.forEach(u=>r=r.add(u)),e.getEntries(n,r).next(u=>{let c=Qi();return t.forEach((f,y)=>{const E=u.get(f);y.isFoundDocument()!==E.isFoundDocument()&&(i=i.add(f)),y.isNoDocument()&&y.version.isEqual(Ct.min())?(e.removeEntry(f,y.readTime),c=c.insert(f,y)):!E.isValidDocument()||y.version.compareTo(E.version)>0||0===y.version.compareTo(E.version)&&E.hasPendingWrites?(e.addEntry(y),c=c.insert(f,y)):je("LocalStore","Ignoring outdated watch update for ",f,". Current version:",E.version," Watch version:",y.version)}),{Gi:c,Qi:i}})}function gD(n,e){const t=nt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function xc(n,e){const t=nt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Vs.getTargetData(r,e).next(u=>u?(i=u,ce.resolve(i)):t.Vs.allocateTargetId(r).next(c=>(i=new rl(e,c,0,r.currentSequenceNumber),t.Vs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.$i.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.$i=t.$i.insert(r.targetId,r),t.Bi.set(e,r.targetId)),r})}function ch(n,e,t){return iw.apply(this,arguments)}function iw(){return iw=(0,Ie.Z)(function*(n,e,t){const r=nt(n),i=r.$i.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!Co(c))throw c;je("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.$i=r.$i.remove(e),r.Bi.delete(i.target)}),iw.apply(this,arguments)}function ep(n,e,t){const r=nt(n);let i=Ct.min(),u=Yt();return r.persistence.runTransaction("Execute query","readonly",c=>function(f,y,E){const A=nt(f),S=A.Bi.get(E);return void 0!==S?ce.resolve(A.$i.get(S)):A.Vs.getTargetData(y,E)}(r,c,Ki(e)).next(f=>{if(f)return i=f.lastLimboFreeSnapshotVersion,r.Vs.getMatchingKeysForTargetId(c,f.targetId).next(y=>{u=y})}).next(()=>r.Fi.getDocumentsMatchingQuery(c,e,t?i:Ct.min(),t?u:Yt())).next(f=>(sw(r,gI(e),f),{documents:f,ji:u})))}function jm(n,e){const t=nt(n),r=nt(t.Vs),i=t.$i.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",u=>r.te(u,e).next(c=>c?c.target:null))}function RT(n,e){const t=nt(n),r=t.Li.get(e)||Ct.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Ui.getAllFromCollectionGroup(i,e,Y0(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(sw(t,e,i),i))}function sw(n,e,t){let r=Ct.min();t.forEach((i,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.Li.set(e,r)}function aw(){return aw=(0,Ie.Z)(function*(n,e,t,r){const i=nt(n);let u=Yt(),c=Qi();for(const E of t){const A=e.Wi(E.metadata.name);E.document&&(u=u.add(A));const S=e.zi(E);S.setReadTime(e.Hi(E.metadata.readTime)),c=c.insert(A,S)}const f=i.Ui.newChangeBuffer({trackRemovals:!0}),y=yield xc(i,(E=r,Ki($f(dn.fromString(`__bundle__/docs/${E}`)))));var E;return i.persistence.runTransaction("Apply bundle documents","readwrite",E=>rw(E,f,c).next(A=>(f.apply(E),A)).next(A=>i.Vs.removeMatchingKeysForTargetId(E,y.targetId).next(()=>i.Vs.addMatchingKeys(E,u,y.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(E,A.Gi,A.Qi)).next(()=>A.Gi)))}),aw.apply(this,arguments)}function PT(n,e){return mD.apply(this,arguments)}function mD(){return mD=(0,Ie.Z)(function*(n,e,t=Yt()){const r=yield xc(n,Ki(KI(e.bundledQuery))),i=nt(n);return i.persistence.runTransaction("Save named query","readwrite",u=>{const c=Wr(e.readTime);if(r.snapshotVersion.compareTo(c)>=0)return i.Ds.saveNamedQuery(u,e);const f=r.withResumeToken(Cr.EMPTY_BYTE_STRING,c);return i.$i=i.$i.insert(f.targetId,f),i.Vs.updateTargetData(u,f).next(()=>i.Vs.removeMatchingKeysForTargetId(u,r.targetId)).next(()=>i.Vs.addMatchingKeys(u,t,r.targetId)).next(()=>i.Ds.saveNamedQuery(u,e))})}),mD.apply(this,arguments)}function OT(n,e){return`firestore_clients_${n}_${e}`}function yD(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function uw(n,e){return`firestore_targets_${n}_${e}`}class $m{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Ji(e,t,r){const i=JSON.parse(r);let u,c="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return c&&i.error&&(c="string"==typeof i.error.message&&"string"==typeof i.error.code,c&&(u=new Le(i.error.code,i.error.message))),c?new $m(e,t,i.state,u):(er("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Hm{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Ji(e,t){const r=JSON.parse(t);let i,u="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(i=new Le(r.error.code,r.error.message))),u?new Hm(e,r.state,i):(er("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class lw{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ji(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,u=Dm();for(let c=0;i&&c<r.activeTargetIds.length;++c)i=eI(r.activeTargetIds[c]),u=u.add(r.activeTargetIds[c]);return i?new lw(e,u):(er("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class _D{constructor(e,t){this.clientId=e,this.onlineState=t}static Ji(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new _D(t.clientId,t.onlineState):(er("SharedClientState",`Failed to parse online state: ${e}`),null)}}class vD{constructor(){this.activeTargetIds=Dm()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class wD{constructor(e,t,r,i,u){this.window=e,this.js=t,this.persistenceKey=r,this.tr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new or(jt),this.started=!1,this.ir=[];const c=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.rr=OT(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new vD),this.cr=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.ar=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static V(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Ie.Z)(function*(){const t=yield e.syncEngine.Ri();for(const i of t){if(i===e.tr)continue;const u=e.getItem(OT(e.persistenceKey,i));if(u){const c=lw.Ji(i,u);c&&(e.sr=e.sr.insert(c.clientId,c))}}e._r();const r=e.storage.getItem(e.lr);if(r){const i=e.wr(r);i&&e.mr(i)}for(const i of e.ir)e.nr(i);e.ir=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ur,JSON.stringify(e))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(e){let t=!1;return this.sr.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.yr(e,"pending")}updateMutationState(e,t,r){this.yr(e,t,r),this.pr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(uw(this.persistenceKey,e));if(r){const i=Hm.Ji(e,r);i&&(t=i.state)}}return this.Ir.Xi(e),this._r(),t}removeLocalQueryTarget(e){this.Ir.Zi(e),this._r()}isLocalQueryTarget(e){return this.Ir.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(uw(this.persistenceKey,e))}updateQueryState(e,t,r){this.Tr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.pr(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Er(e)}notifyBundleLoaded(e){this.Ar(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return je("SharedClientState","READ",e,t),t}setItem(e,t){je("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){je("SharedClientState","REMOVE",e),this.storage.removeItem(e)}nr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(je("SharedClientState","EVENT",r.key,r.newValue),r.key===this.rr)return void er("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable((0,Ie.Z)(function*(){if(t.started){if(null!==r.key)if(t.cr.test(r.key)){if(null==r.newValue){const i=t.Rr(r.key);return t.br(i,null)}{const i=t.Pr(r.key,r.newValue);if(i)return t.br(i.clientId,i)}}else if(t.ar.test(r.key)){if(null!==r.newValue){const i=t.vr(r.key,r.newValue);if(i)return t.Vr(i)}}else if(t.hr.test(r.key)){if(null!==r.newValue){const i=t.Sr(r.key,r.newValue);if(i)return t.Dr(i)}}else if(r.key===t.lr){if(null!==r.newValue){const i=t.wr(r.newValue);if(i)return t.mr(i)}}else if(r.key===t.ur){const i=function(u){let c=qi.ot;if(null!=u)try{const f=JSON.parse(u);kt("number"==typeof f),c=f}catch(f){er("SharedClientState","Failed to read sequence number from WebStorage",f)}return c}(r.newValue);i!==qi.ot&&t.sequenceNumberHandler(i)}else if(r.key===t.dr){const i=t.Cr(r.newValue);yield Promise.all(i.map(u=>t.syncEngine.Nr(u)))}}else t.ir.push(r)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(e,t,r){const i=new $m(this.currentUser,e,t,r),u=yD(this.persistenceKey,this.currentUser,e);this.setItem(u,i.Yi())}pr(e){const t=yD(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Er(e){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:e}))}Tr(e,t,r){const i=uw(this.persistenceKey,e),u=new Hm(e,t,r);this.setItem(i,u.Yi())}Ar(e){const t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}Rr(e){const t=this.cr.exec(e);return t?t[1]:null}Pr(e,t){const r=this.Rr(e);return lw.Ji(r,t)}vr(e,t){const r=this.ar.exec(e),i=Number(r[1]);return $m.Ji(new xr(void 0!==r[2]?r[2]:null),i,t)}Sr(e,t){const r=this.hr.exec(e),i=Number(r[1]);return Hm.Ji(i,t)}wr(e){return _D.Ji(e)}Cr(e){return JSON.parse(e)}Vr(e){var t=this;return(0,Ie.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.kr(e.batchId,e.state,e.error);je("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Dr(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}br(e,t){const r=t?this.sr.insert(e,t):this.sr.remove(e),i=this.gr(this.sr),u=this.gr(r),c=[],f=[];return u.forEach(y=>{i.has(y)||c.push(y)}),i.forEach(y=>{u.has(y)||f.push(y)}),this.syncEngine.Or(c,f).then(()=>{this.sr=r})}mr(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}gr(e){let t=Dm();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class ED{constructor(){this.Fr=new vD,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,t,r){this.$r[e]=t}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new vD,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class ex{Br(e){}shutdown(){}}class kT{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(e){this.Gr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){je("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Gr)e(0)}Kr(){je("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Gr)e(1)}static V(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const tx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class nx{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}class rx extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.so=(e.ssl?"https":"http")+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,t,r,i,u){const c=this.oo(e,t);je("RestConnection","Sending: ",c,r);const f={};return this.uo(f,i,u),this.co(e,c,f,r).then(y=>(je("RestConnection","Received: ",y),y),y=>{throw Ud("RestConnection",`${e} failed with error: `,y,"url: ",c,"request:",r),y})}ao(e,t,r,i,u,c){return this.ro(e,t,r,i,u)}uo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+qs,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,u)=>e[u]=i),r&&r.headers.forEach((i,u)=>e[u]=i)}oo(e,t){return`${this.so}/v1/${t}:${tx[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,t,r,i){return new Promise((u,c)=>{const f=new z0;f.listenOnce($0.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case em.NO_ERROR:const E=f.getResponseJson();je("Connection","XHR received:",JSON.stringify(E)),u(E);break;case em.TIMEOUT:je("Connection",'RPC "'+e+'" timed out'),c(new Le(me.DEADLINE_EXCEEDED,"Request time out"));break;case em.HTTP_ERROR:const A=f.getStatus();if(je("Connection",'RPC "'+e+'" failed with status:',A,"response text:",f.getResponseText()),A>0){const S=f.getResponseJson().error;if(S&&S.status&&S.message){const L=function(B){const q=B.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(q)>=0?q:me.UNKNOWN}(S.status);c(new Le(L,S.message))}else c(new Le(me.UNKNOWN,"Server responded with status "+f.getStatus()))}else c(new Le(me.UNAVAILABLE,"Connection failed."));break;default:lt()}}finally{je("Connection",'RPC "'+e+'" completed.')}});const y=JSON.stringify(i);f.send(t,"POST",y,r,15)})}ho(e,t,r){const i=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=B0(),c=j0(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(f.xmlHttpFactory=new G0({})),this.uo(f.initMessageHeaders,t,r),(0,Xt.uI)()||(0,Xt.b$)()||(0,Xt.d)()||(0,Xt.w1)()||(0,Xt.Mn)()||(0,Xt.ru)()||(f.httpHeadersOverwriteParam="$httpHeaders");const y=i.join("");je("Connection","Creating WebChannel: "+y,f);const E=u.createWebChannel(y,f);let A=!1,S=!1;const L=new nx({jr:q=>{S?je("Connection","Not sending because WebChannel is closed:",q):(A||(je("Connection","Opening WebChannel transport."),E.open(),A=!0),je("Connection","WebChannel sending:",q),E.send(q))},Wr:()=>E.close()}),B=(q,de,Te)=>{q.listen(de,We=>{try{Te(We)}catch(ct){setTimeout(()=>{throw ct},0)}})};return B(E,Of.EventType.OPEN,()=>{S||je("Connection","WebChannel transport opened.")}),B(E,Of.EventType.CLOSE,()=>{S||(S=!0,je("Connection","WebChannel transport closed"),L.eo())}),B(E,Of.EventType.ERROR,q=>{S||(S=!0,Ud("Connection","WebChannel transport errored:",q),L.eo(new Le(me.UNAVAILABLE,"The operation could not be completed")))}),B(E,Of.EventType.MESSAGE,q=>{var de;if(!S){const Te=q.data[0];kt(!!Te);const We=Te,ct=We.error||(null===(de=We[0])||void 0===de?void 0:de.error);if(ct){je("Connection","WebChannel received error:",ct);const It=ct.status;let dt=function(Ft){const fn=lr[Ft];if(void 0!==fn)return Em(fn)}(It),Nt=ct.message;void 0===dt&&(dt=me.INTERNAL,Nt="Unknown error status: "+It+" with message "+ct.message),S=!0,L.eo(new Le(dt,Nt)),E.close()}else je("Connection","WebChannel received:",Te),L.no(Te)}}),B(c,H0.STAT_EVENT,q=>{q.stat===iv.PROXY?je("Connection","Detected buffering proxy"):q.stat===iv.NOPROXY&&je("Connection","Detected no buffering proxy")}),setTimeout(()=>{L.Zr()},0),L}}function FT(){return typeof window<"u"?window:null}function s(){return typeof document<"u"?document:null}function o(n){return new lT(n,!0)}class a{constructor(e,t,r=1e3,i=1.5,u=6e4){this.js=e,this.timerId=t,this.lo=r,this.fo=i,this._o=u,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const t=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),i=Math.max(0,t-r);i>0&&je("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.wo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,i,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class l{constructor(e,t,r,i,u,c,f,y){this.js=e,this.Ao=r,this.Ro=i,this.bo=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=y,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new a(e,t)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var e=this;return(0,Ie.Z)(function*(){e.Do()&&(yield e.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,()=>this.Mo()))}Oo(e){this.Fo(),this.stream.send(e)}Mo(){var e=this;return(0,Ie.Z)(function*(){if(e.Co())return e.close(0)})()}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}close(e,t){var r=this;return(0,Ie.Z)(function*(){r.Fo(),r.$o(),r.So.cancel(),r.Po++,4!==e?r.So.reset():t&&t.code===me.RESOURCE_EXHAUSTED?(er(t.toString()),er("Using maximum backoff delay to prevent overloading the backend."),r.So.po()):t&&t.code===me.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Bo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Jr(t)})()}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),t=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Po===t&&this.Uo(r,i)},r=>{e(()=>{const i=new Le(me.UNKNOWN,"Fetching auth token failed: "+r.message);return this.qo(i)})})}Uo(e,t){const r=this.Lo(this.Po);this.stream=this.Ko(e,t),this.stream.zr(()=>{r(()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(i=>{r(()=>this.qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}xo(){var e=this;this.state=5,this.So.Io((0,Ie.Z)(function*(){e.state=0,e.start()}))}qo(e){return je("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return t=>{this.js.enqueueAndForget(()=>this.Po===e?t():(je("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class d extends l{constructor(e,t,r,i,u,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,c),this.wt=u}Ko(e,t){return this.bo.ho("Listen",e,t)}onMessage(e){this.So.reset();const t=function PI(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(y=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===y?1:"REMOVE"===y?2:"CURRENT"===y?3:"RESET"===y?4:lt(),i=e.targetChange.targetIds||[],u=function(y,E){return y.dt?(kt(void 0===E||"string"==typeof E),Cr.fromBase64String(E||"")):(kt(void 0===E||E instanceof Uint8Array),Cr.fromUint8Array(E||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&function(y){const E=void 0===y.code?me.UNKNOWN:Em(y.code);return new Le(E,y.message||"")}(c);t=new SI(r,i,u,f||null)}else if("documentChange"in e){const r=e.documentChange,i=Zs(n,r.document.name),u=Wr(r.document.updateTime),c=new Nr({mapValue:{fields:r.document.fields}}),f=xn.newFoundDocument(i,u,c);t=new zr(r.targetIds||[],r.removedTargetIds||[],f.key,f)}else if("documentDelete"in e){const r=e.documentDelete,i=Zs(n,r.document),u=r.readTime?Wr(r.readTime):Ct.min(),c=xn.newNoDocument(i,u);t=new zr([],r.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const r=e.documentRemove,i=Zs(n,r.document);t=new zr([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return lt();{const r=e.filter,u=new Rv(r.count||0);t=new wc(r.targetId,u)}}var y;return t}(this.wt,e),r=function(i){if(!("targetChange"in i))return Ct.min();const u=i.targetChange;return u.targetIds&&u.targetIds.length?Ct.min():u.readTime?Wr(u.readTime):Ct.min()}(e);return this.listener.Go(t,r)}Qo(e){const t={};t.database=nl(this.wt),t.addTarget=function(i,u){let c;const f=u.target;return c=qd(f)?{documents:Tm(i,f)}:{query:hT(i,f)},c.targetId=u.targetId,u.resumeToken.approximateByteSize()>0?c.resumeToken=NI(i,u.resumeToken):u.snapshotVersion.compareTo(Ct.min())>0&&(c.readTime=Ec(i,u.snapshotVersion.toTimestamp())),c}(this.wt,e);const r=function LM(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return lt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Oo(t)}jo(e){const t={};t.database=nl(this.wt),t.removeTarget=e,this.Oo(t)}}class p extends l{constructor(e,t,r,i,u,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,c),this.wt=u,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Ko(e,t){return this.bo.ho("Write",e,t)}onMessage(e){if(kt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const t=function OI(n,e){return n&&n.length>0?(kt(void 0!==e),n.map(t=>function(r,i){let u=Wr(r.updateTime?r.updateTime:i);return u.isEqual(Ct.min())&&(u=Wr(i)),new xv(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Wr(e.commitTime);return this.listener.Jo(r,t)}return kt(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=nl(this.wt),this.Oo(e)}Ho(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Ea(this.wt,r))};this.Oo(t)}}class _ extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=r,this.wt=i,this.Zo=!1}tu(){if(this.Zo)throw new Le(me.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,t,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,u])=>this.bo.ro(e,t,r,i,u)).catch(i=>{throw"FirebaseError"===i.name?(i.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Le(me.UNKNOWN,i.toString())})}ao(e,t,r,i){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,c])=>this.bo.ao(e,t,r,u,c,i)).catch(u=>{throw"FirebaseError"===u.name?(u.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Le(me.UNKNOWN,u.toString())})}terminate(){this.Zo=!0}}class w{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.cu(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(er(t),this.su=!1):je("OnlineStateTracker",t)}cu(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class D{constructor(e,t,r,i,u){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=u,this.du.Br(f=>{r.enqueueAndForget((0,Ie.Z)(function*(){var y;Pe(c)&&(je("RemoteStore","Restarting streams for network reachability change."),yield(y=(0,Ie.Z)(function*(E){const A=nt(E);A.lu.add(4),yield k(A),A._u.set("Unknown"),A.lu.delete(4),yield T(A)}),function(E){return y.apply(this,arguments)})(c))}))}),this._u=new w(r,i)}}function T(n){return N.apply(this,arguments)}function N(){return N=(0,Ie.Z)(function*(n){if(Pe(n))for(const e of n.fu)yield e(!0)}),N.apply(this,arguments)}function k(n){return K.apply(this,arguments)}function K(){return K=(0,Ie.Z)(function*(n){for(const e of n.fu)yield e(!1)}),K.apply(this,arguments)}function re(n,e){const t=nt(n);t.hu.has(e.targetId)||(t.hu.set(e.targetId,e),Tt(t)?ot(t):zm(t).Co()&&Be(t,e))}function Ce(n,e){const t=nt(n),r=zm(t);t.hu.delete(e),r.Co()&&Xe(t,e),0===t.hu.size&&(r.Co()?r.ko():Pe(t)&&t._u.set("Unknown"))}function Be(n,e){n.wu.Nt(e.targetId),zm(n).Qo(e)}function Xe(n,e){n.wu.Nt(e),zm(n).jo(e)}function ot(n){n.wu=new FM({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),te:e=>n.hu.get(e)||null}),zm(n).start(),n._u.iu()}function Tt(n){return Pe(n)&&!zm(n).Do()&&n.hu.size>0}function Pe(n){return 0===nt(n).lu.size}function Et(n){n.wu=void 0}function sn(n){return Rn.apply(this,arguments)}function Rn(){return Rn=(0,Ie.Z)(function*(n){n.hu.forEach((e,t)=>{Be(n,e)})}),Rn.apply(this,arguments)}function Nc(n,e){return tp.apply(this,arguments)}function tp(){return tp=(0,Ie.Z)(function*(n,e){Et(n),Tt(n)?(n._u.uu(e),ot(n)):n._u.set("Unknown")}),tp.apply(this,arguments)}function cw(n,e,t){return np.apply(this,arguments)}function np(){return np=(0,Ie.Z)(function*(n,e,t){if(n._u.set("Online"),e instanceof SI&&2===e.state&&e.cause)try{yield(r=(0,Ie.Z)(function*(i,u){const c=u.cause;for(const f of u.targetIds)i.hu.has(f)&&(yield i.remoteSyncer.rejectListen(f,c),i.hu.delete(f),i.wu.removeTarget(f))}),function(i,u){return r.apply(this,arguments)})(n,e)}catch(r){je("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield dh(n,r)}else if(e instanceof zr?n.wu.Ut(e):e instanceof wc?n.wu.zt(e):n.wu.Gt(e),!t.isEqual(Ct.min()))try{const r=yield pD(n.localStore);t.compareTo(r)>=0&&(yield function(i,u){const c=i.wu.Yt(u);return c.targetChanges.forEach((f,y)=>{if(f.resumeToken.approximateByteSize()>0){const E=i.hu.get(y);E&&i.hu.set(y,E.withResumeToken(f.resumeToken,u))}}),c.targetMismatches.forEach(f=>{const y=i.hu.get(f);if(!y)return;i.hu.set(f,y.withResumeToken(Cr.EMPTY_BYTE_STRING,y.snapshotVersion)),Xe(i,f);const E=new rl(y.target,f,1,y.sequenceNumber);Be(i,E)}),i.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){je("RemoteStore","Failed to raise snapshot:",r),yield dh(n,r)}var r}),np.apply(this,arguments)}function dh(n,e,t){return rp.apply(this,arguments)}function rp(){return rp=(0,Ie.Z)(function*(n,e,t){if(!Co(e))throw e;n.lu.add(1),yield k(n),n._u.set("Offline"),t||(t=()=>pD(n.localStore)),n.asyncQueue.enqueueRetryable((0,Ie.Z)(function*(){je("RemoteStore","Retrying IndexedDB access"),yield t(),n.lu.delete(1),yield T(n)}))}),rp.apply(this,arguments)}function Gm(n,e){return e().catch(t=>dh(n,t,e))}function al(n){return ip.apply(this,arguments)}function ip(){return ip=(0,Ie.Z)(function*(n){const e=nt(n),t=hh(e);let r=e.au.length>0?e.au[e.au.length-1].batchId:-1;for(;dw(e);)try{const i=yield gD(e.localStore,r);if(null===i){0===e.au.length&&t.ko();break}r=i.batchId,qP(e,i)}catch(i){yield dh(e,i)}ix(e)&&sx(e)}),ip.apply(this,arguments)}function dw(n){return Pe(n)&&n.au.length<10}function qP(n,e){n.au.push(e);const t=hh(n);t.Co()&&t.zo&&t.Ho(e.mutations)}function ix(n){return Pe(n)&&!hh(n).Do()&&n.au.length>0}function sx(n){hh(n).start()}function ZP(n){return LT.apply(this,arguments)}function LT(){return LT=(0,Ie.Z)(function*(n){hh(n).Xo()}),LT.apply(this,arguments)}function KP(n){return VT.apply(this,arguments)}function VT(){return VT=(0,Ie.Z)(function*(n){const e=hh(n);for(const t of n.au)e.Ho(t.mutations)}),VT.apply(this,arguments)}function YP(n,e,t){return UT.apply(this,arguments)}function UT(){return UT=(0,Ie.Z)(function*(n,e,t){const r=n.au.shift(),i=zI.from(r,e,t);yield Gm(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield al(n)}),UT.apply(this,arguments)}function QP(n,e){return BT.apply(this,arguments)}function BT(){return BT=(0,Ie.Z)(function*(n,e){var t;e&&hh(n).zo&&(yield(t=(0,Ie.Z)(function*(r,i){if(wm(u=i.code)&&u!==me.ABORTED){const c=r.au.shift();hh(r).No(),yield Gm(r,()=>r.remoteSyncer.rejectFailedWrite(c.batchId,i)),yield al(r)}var u}),function(r,i){return t.apply(this,arguments)})(n,e)),ix(n)&&sx(n)}),BT.apply(this,arguments)}function ox(n,e){return jT.apply(this,arguments)}function jT(){return jT=(0,Ie.Z)(function*(n,e){const t=nt(n);t.asyncQueue.verifyOperationInProgress(),je("RemoteStore","RemoteStore received new credentials");const r=Pe(t);t.lu.add(3),yield k(t),r&&t._u.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.lu.delete(3),yield T(t)}),jT.apply(this,arguments)}function $T(n,e){return HT.apply(this,arguments)}function HT(){return HT=(0,Ie.Z)(function*(n,e){const t=nt(n);e?(t.lu.delete(2),yield T(t)):e||(t.lu.add(2),yield k(t),t._u.set("Unknown"))}),HT.apply(this,arguments)}function zm(n){return n.mu||(n.mu=function(e,t,r){const i=nt(e);return i.tu(),new d(t,i.bo,i.authCredentials,i.appCheckCredentials,i.wt,r)}(n.datastore,n.asyncQueue,{zr:sn.bind(null,n),Jr:Nc.bind(null,n),Go:cw.bind(null,n)}),n.fu.push(function(){var e=(0,Ie.Z)(function*(t){t?(n.mu.No(),Tt(n)?ot(n):n._u.set("Unknown")):(yield n.mu.stop(),Et(n))});return function(t){return e.apply(this,arguments)}}())),n.mu}function hh(n){return n.gu||(n.gu=function(e,t,r){const i=nt(e);return i.tu(),new p(t,i.bo,i.authCredentials,i.appCheckCredentials,i.wt,r)}(n.datastore,n.asyncQueue,{zr:ZP.bind(null,n),Jr:QP.bind(null,n),Yo:KP.bind(null,n),Jo:YP.bind(null,n)}),n.fu.push(function(){var e=(0,Ie.Z)(function*(t){t?(n.gu.No(),yield al(n)):(yield n.gu.stop(),n.au.length>0&&(je("RemoteStore",`Stopping write stream with ${n.au.length} pending writes`),n.au=[]))});return function(t){return e.apply(this,arguments)}}())),n.gu}class GT{constructor(e,t,r,i,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=u,this.deferred=new tr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,r,i,u){const c=Date.now()+r,f=new GT(e,t,c,i,u);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Le(me.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wm(n,e){if(er("AsyncQueue",`${e}: ${n}`),Co(n))return new Le(me.UNAVAILABLE,`${e}: ${n}`);throw n}class qm{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Je.comparator(t.key,r.key):(t,r)=>Je.comparator(t.key,r.key),this.keyedMap=Jd(),this.sortedSet=new or(this.comparator)}static emptySet(e){return new qm(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof qm)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,u=r.getNext().key;if(!i.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new qm;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class ax{constructor(){this.yu=new or(Je.comparator)}track(e){const t=e.doc.key,r=this.yu.get(t);r?0!==e.type&&3===r.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==r.type?this.yu=this.yu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.yu=this.yu.remove(t):1===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):lt():this.yu=this.yu.insert(t,e)}pu(){const e=[];return this.yu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Zm{constructor(e,t,r,i,u,c,f,y){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=y}static fromInitialDocuments(e,t,r,i){const u=[];return t.forEach(c=>{u.push({type:0,doc:c})}),new Zm(e,t,qm.emptySet(t),u,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class JP{constructor(){this.Iu=void 0,this.listeners=[]}}class XP{constructor(){this.queries=new tl(e=>pI(e),Hf),this.onlineState="Unknown",this.Tu=new Set}}function zT(n,e){return WT.apply(this,arguments)}function WT(){return WT=(0,Ie.Z)(function*(n,e){const t=nt(n),r=e.query;let i=!1,u=t.queries.get(r);if(u||(i=!0,u=new JP),i)try{u.Iu=yield t.onListen(r)}catch(c){const f=Wm(c,`Initialization of query '${Cv(e.query)}' failed`);return void e.onError(f)}t.queries.set(r,u),u.listeners.push(e),e.Eu(t.onlineState),u.Iu&&e.Au(u.Iu)&&KT(t)}),WT.apply(this,arguments)}function qT(n,e){return ZT.apply(this,arguments)}function ZT(){return ZT=(0,Ie.Z)(function*(n,e){const t=nt(n),r=e.query;let i=!1;const u=t.queries.get(r);if(u){const c=u.listeners.indexOf(e);c>=0&&(u.listeners.splice(c,1),i=0===u.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),ZT.apply(this,arguments)}function e1(n,e){const t=nt(n);let r=!1;for(const i of e){const c=t.queries.get(i.query);if(c){for(const f of c.listeners)f.Au(i)&&(r=!0);c.Iu=i}}r&&KT(t)}function t1(n,e,t){const r=nt(n),i=r.queries.get(e);if(i)for(const u of i.listeners)u.onError(t);r.queries.delete(e)}function KT(n){n.Tu.forEach(e=>{e.next()})}class YT{constructor(e,t,r){this.query=e,this.Ru=t,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}Au(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Zm(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),t=!0):this.Vu(e,this.onlineState)&&(this.Su(e),t=!0),this.Pu=e,t}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let t=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}Vu(e,t){return!e.fromCache||!(this.options.Du&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(e){e=Zm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}class n1{constructor(e,t){this.payload=e,this.byteLength=t}Cu(){return"metadata"in this.payload}}class ux{constructor(e){this.wt=e}Wi(e){return Zs(this.wt,e)}zi(e){return e.metadata.exists?Fv(this.wt,e.document,!1):xn.newNoDocument(this.Wi(e.metadata.name),this.Hi(e.metadata.readTime))}Hi(e){return Wr(e)}}class r1{constructor(e,t,r){this.xu=e,this.localStore=t,this.wt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=lx(e)}Nu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=dn.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ku(e){const t=new Map,r=new ux(this.wt);for(const i of e)if(i.metadata.queries){const u=r.Wi(i.metadata.name);for(const c of i.metadata.queries){const f=(t.get(c)||Yt()).add(u);t.set(c,f)}}return t}complete(){var e=this;return(0,Ie.Z)(function*(){const t=yield function ow(n,e,t,r){return aw.apply(this,arguments)}(e.localStore,new ux(e.wt),e.documents,e.xu.id),r=e.ku(e.documents);for(const i of e.queries)yield PT(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Mu:e.collectionGroups,Ou:t}})()}}function lx(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class cx{constructor(e){this.key=e}}class dx{constructor(e){this.key=e}}class hx{constructor(e,t){this.query=e,this.Fu=t,this.$u=null,this.current=!1,this.Bu=Yt(),this.mutatedKeys=Yt(),this.Lu=Kd(e),this.Uu=new qm(this.Lu)}get qu(){return this.Fu}Ku(e,t){const r=t?t.Gu:new ax,i=t?t.Uu:this.Uu;let u=t?t.mutatedKeys:this.mutatedKeys,c=i,f=!1;const y="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,E="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((A,S)=>{const L=i.get(A),B=Tv(this.query,S)?S:null,q=!!L&&this.mutatedKeys.has(L.key),de=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let Te=!1;L&&B?L.data.isEqual(B.data)?q!==de&&(r.track({type:3,doc:B}),Te=!0):this.Qu(L,B)||(r.track({type:2,doc:B}),Te=!0,(y&&this.Lu(B,y)>0||E&&this.Lu(B,E)<0)&&(f=!0)):!L&&B?(r.track({type:0,doc:B}),Te=!0):L&&!B&&(r.track({type:1,doc:L}),Te=!0,(y||E)&&(f=!0)),Te&&(B?(c=c.add(B),u=de?u.add(A):u.delete(A)):(c=c.delete(A),u=u.delete(A)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const A="F"===this.query.limitType?c.last():c.first();c=c.delete(A.key),u=u.delete(A.key),r.track({type:1,doc:A})}return{Uu:c,Gu:r,Mi:f,mutatedKeys:u}}Qu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const u=e.Gu.pu();u.sort((E,A)=>function(S,L){const B=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return lt()}};return B(S)-B(L)}(E.type,A.type)||this.Lu(E.doc,A.doc)),this.ju(r);const c=t?this.Wu():[],f=0===this.Bu.size&&this.current?1:0,y=f!==this.$u;return this.$u=f,0!==u.length||y?{snapshot:new Zm(this.query,e.Uu,i,u,e.mutatedKeys,0===f,y,!1),zu:c}:{zu:c}}Eu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new ax,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(t=>this.Fu=this.Fu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Fu=this.Fu.delete(t)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=Yt(),this.Uu.forEach(r=>{this.Hu(r.key)&&(this.Bu=this.Bu.add(r.key))});const t=[];return e.forEach(r=>{this.Bu.has(r)||t.push(new dx(r))}),this.Bu.forEach(r=>{e.has(r)||t.push(new cx(r))}),t}Ju(e){this.Fu=e.ji,this.Bu=Yt();const t=this.Ku(e.documents);return this.applyChanges(t,!0)}Yu(){return Zm.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class i1{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class s1{constructor(e){this.key=e,this.Xu=!1}}class o1{constructor(e,t,r,i,u,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.Zu={},this.tc=new tl(f=>pI(f),Hf),this.ec=new Map,this.nc=new Set,this.sc=new or(Je.comparator),this.ic=new Map,this.rc=new lD,this.oc={},this.uc=new Map,this.cc=sl.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return!0===this.ac}}function a1(n,e){return QT.apply(this,arguments)}function QT(){return QT=(0,Ie.Z)(function*(n,e){const t=wA(n);let r,i;const u=t.tc.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),i=u.view.Yu();else{const c=yield xc(t.localStore,Ki(e));t.isPrimaryClient&&re(t.remoteStore,c);const f=t.sharedClientState.addLocalQueryTarget(c.targetId);r=c.targetId,i=yield JT(t,e,r,"current"===f)}return i}),QT.apply(this,arguments)}function JT(n,e,t,r){return XT.apply(this,arguments)}function XT(){return XT=(0,Ie.Z)(function*(n,e,t,r){n.hc=(A,S,L)=>{return(B=(0,Ie.Z)(function*(q,de,Te,We){let ct=de.view.Ku(Te);ct.Mi&&(ct=yield ep(q.localStore,de.query,!1).then(({documents:Nt})=>de.view.Ku(Nt,ct)));const It=We&&We.targetChanges.get(de.targetId),dt=de.view.applyChanges(ct,q.isPrimaryClient,It);return lA(q,de.targetId,dt.zu),dt.snapshot}),function(q,de,Te,We){return B.apply(this,arguments)})(n,A,S,L);var B};const i=yield ep(n.localStore,e,!0),u=new hx(e,i.ji),c=u.Ku(i.documents),f=zf.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),y=u.applyChanges(c,n.isPrimaryClient,f);lA(n,t,y.zu);const E=new i1(e,t,u);return n.tc.set(e,E),n.ec.has(t)?n.ec.get(t).push(e):n.ec.set(t,[e]),y.snapshot}),XT.apply(this,arguments)}function u1(n,e){return eA.apply(this,arguments)}function eA(){return eA=(0,Ie.Z)(function*(n,e){const t=nt(n),r=t.tc.get(e),i=t.ec.get(r.targetId);if(i.length>1)return t.ec.set(r.targetId,i.filter(u=>!Hf(u,e))),void t.tc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield ch(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Ce(t.remoteStore,r.targetId),Km(t,r.targetId)}).catch(Ku))):(Km(t,r.targetId),yield ch(t.localStore,r.targetId,!0))}),eA.apply(this,arguments)}function tA(){return tA=(0,Ie.Z)(function*(n,e,t){const r=EA(n);try{const i=yield function(u,c){const f=nt(u),y=zn.now(),E=c.reduce((L,B)=>L.add(B.key),Yt());let A,S;return f.persistence.runTransaction("Locally write mutations","readwrite",L=>{let B=Qi(),q=Yt();return f.Ui.getEntries(L,E).next(de=>{B=de,B.forEach((Te,We)=>{We.isValidDocument()||(q=q.add(Te))})}).next(()=>f.localDocuments.getOverlayedDocuments(L,B)).next(de=>{A=de;const Te=[];for(const We of c){const ct=sT(We,A.get(We.key).overlayedDocument);null!=ct&&Te.push(new wa(We.key,ct,aI(ct.value.mapValue),Nn.exists(!0)))}return f.mutationQueue.addMutationBatch(L,y,Te,c)}).next(de=>{S=de;const Te=de.applyToLocalDocumentSet(A,q);return f.documentOverlayCache.saveOverlays(L,de.batchId,Te)})}).then(()=>({batchId:S.batchId,changes:Im(A)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(u,c,f){let y=u.oc[u.currentUser.toKey()];y||(y=new or(jt)),y=y.insert(c,f),u.oc[u.currentUser.toKey()]=y}(r,i.batchId,t),yield Rc(r,i.changes),yield al(r.remoteStore)}catch(i){const u=Wm(i,"Failed to persist write");t.reject(u)}}),tA.apply(this,arguments)}function fx(n,e){return nA.apply(this,arguments)}function nA(){return nA=(0,Ie.Z)(function*(n,e){const t=nt(n);try{const r=yield NT(t.localStore,e);e.targetChanges.forEach((i,u)=>{const c=t.ic.get(u);c&&(kt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?c.Xu=!0:i.modifiedDocuments.size>0?kt(c.Xu):i.removedDocuments.size>0&&(kt(c.Xu),c.Xu=!1))}),yield Rc(t,r,e)}catch(r){yield Ku(r)}}),nA.apply(this,arguments)}function px(n,e,t){const r=nt(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.tc.forEach((u,c)=>{const f=c.view.Eu(e);f.snapshot&&i.push(f.snapshot)}),function(u,c){const f=nt(u);f.onlineState=c;let y=!1;f.queries.forEach((E,A)=>{for(const S of A.listeners)S.Eu(c)&&(y=!0)}),y&&KT(f)}(r.eventManager,e),i.length&&r.Zu.Go(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function c1(n,e,t){return rA.apply(this,arguments)}function rA(){return rA=(0,Ie.Z)(function*(n,e,t){const r=nt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.ic.get(e),u=i&&i.key;if(u){let c=new or(Je.comparator);c=c.insert(u,xn.newNoDocument(u,Ct.min()));const f=Yt().add(u),y=new eh(Ct.min(),new Map,new Cn(jt),c,f);yield fx(r,y),r.sc=r.sc.remove(u),r.ic.delete(e),cA(r)}else yield ch(r.localStore,e,!1).then(()=>Km(r,e,t)).catch(Ku)}),rA.apply(this,arguments)}function d1(n,e){return iA.apply(this,arguments)}function iA(){return iA=(0,Ie.Z)(function*(n,e){const t=nt(n),r=e.batch.batchId;try{const i=yield xT(t.localStore,e);uA(t,r,null),aA(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Rc(t,i)}catch(i){yield Ku(i)}}),iA.apply(this,arguments)}function h1(n,e,t){return sA.apply(this,arguments)}function sA(){return sA=(0,Ie.Z)(function*(n,e,t){const r=nt(n);try{const i=yield function(u,c){const f=nt(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return f.mutationQueue.lookupMutationBatch(y,c).next(A=>(kt(null!==A),E=A.keys(),f.mutationQueue.removeMutationBatch(y,A))).next(()=>f.mutationQueue.performConsistencyCheck(y)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(y,E,c)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>f.localDocuments.getDocuments(y,E))})}(r.localStore,e);uA(r,e,t),aA(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Rc(r,i)}catch(i){yield Ku(i)}}),sA.apply(this,arguments)}function oA(){return oA=(0,Ie.Z)(function*(n,e){const t=nt(n);Pe(t.remoteStore)||je("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(u){const c=nt(u);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>c.mutationQueue.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===r)return void e.resolve();const i=t.uc.get(r)||[];i.push(e),t.uc.set(r,i)}catch(r){const i=Wm(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),oA.apply(this,arguments)}function aA(n,e){(n.uc.get(e)||[]).forEach(t=>{t.resolve()}),n.uc.delete(e)}function uA(n,e,t){const r=nt(n);let i=r.oc[r.currentUser.toKey()];if(i){const u=i.get(e);u&&(t?u.reject(t):u.resolve(),i=i.remove(e)),r.oc[r.currentUser.toKey()]=i}}function Km(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ec.get(e))n.tc.delete(r),t&&n.Zu.lc(r,t);n.ec.delete(e),n.isPrimaryClient&&n.rc.us(e).forEach(r=>{n.rc.containsKey(r)||gx(n,r)})}function gx(n,e){n.nc.delete(e.path.canonicalString());const t=n.sc.get(e);null!==t&&(Ce(n.remoteStore,t),n.sc=n.sc.remove(e),n.ic.delete(t),cA(n))}function lA(n,e,t){for(const r of t)r instanceof cx?(n.rc.addReference(r.key,e),p1(n,r)):r instanceof dx?(je("SyncEngine","Document no longer in limbo: "+r.key),n.rc.removeReference(r.key,e),n.rc.containsKey(r.key)||gx(n,r.key)):lt()}function p1(n,e){const t=e.key,r=t.path.canonicalString();n.sc.get(t)||n.nc.has(r)||(je("SyncEngine","New document in limbo: "+t),n.nc.add(r),cA(n))}function cA(n){for(;n.nc.size>0&&n.sc.size<n.maxConcurrentLimboResolutions;){const e=n.nc.values().next().value;n.nc.delete(e);const t=new Je(dn.fromString(e)),r=n.cc.next();n.ic.set(r,new s1(t)),n.sc=n.sc.insert(t,r),re(n.remoteStore,new rl(Ki($f(t.path)),r,2,qi.ot))}}function Rc(n,e,t){return dA.apply(this,arguments)}function dA(){return dA=(0,Ie.Z)(function*(n,e,t){const r=nt(n),i=[],u=[],c=[];var f;r.tc.isEmpty()||(r.tc.forEach((f,y)=>{c.push(r.hc(y,e,t).then(E=>{if(E){r.isPrimaryClient&&r.sharedClientState.updateQueryState(y.targetId,E.fromCache?"not-current":"current"),i.push(E);const A=fD.Vi(y.targetId,E);u.push(A)}}))}),yield Promise.all(c),r.Zu.Go(i),yield(f=(0,Ie.Z)(function*(y,E){const A=nt(y);try{yield A.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>ce.forEach(E,L=>ce.forEach(L.Pi,B=>A.persistence.referenceDelegate.addReference(S,L.targetId,B)).next(()=>ce.forEach(L.vi,B=>A.persistence.referenceDelegate.removeReference(S,L.targetId,B)))))}catch(S){if(!Co(S))throw S;je("LocalStore","Failed to update sequence numbers: "+S)}for(const S of E){const L=S.targetId;if(!S.fromCache){const B=A.$i.get(L),de=B.withLastLimboFreeSnapshotVersion(B.snapshotVersion);A.$i=A.$i.insert(L,de)}}}),function(y,E){return f.apply(this,arguments)})(r.localStore,u))}),dA.apply(this,arguments)}function g1(n,e){return hA.apply(this,arguments)}function hA(){return hA=(0,Ie.Z)(function*(n,e){const t=nt(n);if(!t.currentUser.isEqual(e)){je("SyncEngine","User change. New user:",e.toKey());const r=yield tw(t.localStore,e);t.currentUser=e,(i=t).uc.forEach(c=>{c.forEach(f=>{f.reject(new Le(me.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.uc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Rc(t,r.Ki)}var i}),hA.apply(this,arguments)}function m1(n,e){const t=nt(n),r=t.ic.get(e);if(r&&r.Xu)return Yt().add(r.key);{let i=Yt();const u=t.ec.get(e);if(!u)return i;for(const c of u){const f=t.tc.get(c);i=i.unionWith(f.view.qu)}return i}}function y1(n,e){return fA.apply(this,arguments)}function fA(){return fA=(0,Ie.Z)(function*(n,e){const t=nt(n),r=yield ep(t.localStore,e.query,!0),i=e.view.Ju(r);return t.isPrimaryClient&&lA(t,e.targetId,i.zu),i}),fA.apply(this,arguments)}function _1(n,e){return pA.apply(this,arguments)}function pA(){return pA=(0,Ie.Z)(function*(n,e){const t=nt(n);return RT(t.localStore,e).then(r=>Rc(t,r))}),pA.apply(this,arguments)}function v1(n,e,t,r){return gA.apply(this,arguments)}function gA(){return gA=(0,Ie.Z)(function*(n,e,t,r){const i=nt(n),u=yield function(c,f){const y=nt(c),E=nt(y.mutationQueue);return y.persistence.runTransaction("Lookup mutation documents","readonly",A=>E.yn(A,f).next(S=>S?y.localDocuments.getDocuments(A,S):ce.resolve(null)))}(i.localStore,e);var f;null!==u?("pending"===t?yield al(i.remoteStore):"acknowledged"===t||"rejected"===t?(uA(i,e,r||null),aA(i,e),f=e,nt(nt(i.localStore).mutationQueue).In(f)):lt(),yield Rc(i,u)):je("SyncEngine","Cannot apply mutation batch with id: "+e)}),gA.apply(this,arguments)}function mA(){return mA=(0,Ie.Z)(function*(n,e){const t=nt(n);if(wA(t),EA(t),!0===e&&!0!==t.ac){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield mx(t,r.toArray());t.ac=!0,yield $T(t.remoteStore,!0);for(const u of i)re(t.remoteStore,u)}else if(!1===e&&!1!==t.ac){const r=[];let i=Promise.resolve();t.ec.forEach((u,c)=>{t.sharedClientState.isLocalQueryTarget(c)?r.push(c):i=i.then(()=>(Km(t,c),ch(t.localStore,c,!0))),Ce(t.remoteStore,c)}),yield i,yield mx(t,r),function(u){const c=nt(u);c.ic.forEach((f,y)=>{Ce(c.remoteStore,y)}),c.rc.cs(),c.ic=new Map,c.sc=new or(Je.comparator)}(t),t.ac=!1,yield $T(t.remoteStore,!1)}}),mA.apply(this,arguments)}function mx(n,e,t){return yA.apply(this,arguments)}function yA(){return yA=(0,Ie.Z)(function*(n,e,t){const r=nt(n),i=[],u=[];for(const c of e){let f;const y=r.ec.get(c);if(y&&0!==y.length){f=yield xc(r.localStore,Ki(y[0]));for(const E of y){const A=r.tc.get(E),S=yield y1(r,A);S.snapshot&&u.push(S.snapshot)}}else{const E=yield jm(r.localStore,c);f=yield xc(r.localStore,E),yield JT(r,yx(E),c,!1)}i.push(f)}return r.Zu.Go(u),i}),yA.apply(this,arguments)}function yx(n){return eT(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function E1(n){const e=nt(n);return nt(nt(e.localStore).persistence).Ri()}function I1(n,e,t,r){return _A.apply(this,arguments)}function _A(){return _A=(0,Ie.Z)(function*(n,e,t,r){const i=nt(n);if(i.ac)return void je("SyncEngine","Ignoring unexpected query state notification.");const u=i.ec.get(e);if(u&&u.length>0)switch(t){case"current":case"not-current":{const c=yield RT(i.localStore,gI(u[0])),f=eh.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Rc(i,c,f);break}case"rejected":yield ch(i.localStore,e,!0),Km(i,e,r);break;default:lt()}}),_A.apply(this,arguments)}function D1(n,e,t){return vA.apply(this,arguments)}function vA(){return vA=(0,Ie.Z)(function*(n,e,t){const r=wA(n);if(r.ac){for(const i of e){if(r.ec.has(i)){je("SyncEngine","Adding an already active target "+i);continue}const u=yield jm(r.localStore,i),c=yield xc(r.localStore,u);yield JT(r,yx(u),c.targetId,!1),re(r.remoteStore,c)}for(const i of t)r.ec.has(i)&&(yield ch(r.localStore,i,!1).then(()=>{Ce(r.remoteStore,i),Km(r,i)}).catch(Ku))}}),vA.apply(this,arguments)}function wA(n){const e=nt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=fx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=m1.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=c1.bind(null,e),e.Zu.Go=e1.bind(null,e.eventManager),e.Zu.lc=t1.bind(null,e.eventManager),e}function EA(n){const e=nt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=d1.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=h1.bind(null,e),e}class _x{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Ie.Z)(function*(){t.wt=o(e.databaseInfo.databaseId),t.sharedClientState=t.dc(e),t.persistence=t._c(e),yield t.persistence.start(),t.localStore=t.wc(e),t.gcScheduler=t.mc(e,t.localStore),t.indexBackfillerScheduler=t.gc(e,t.localStore)})()}mc(e,t){return null}gc(e,t){return null}wc(e){return MT(this.persistence,new ST,e.initialUser,this.wt)}_c(e){return new cD(Ia.Os,this.wt)}dc(e){return new ED}terminate(){var e=this;return(0,Ie.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class vx extends _x{constructor(e,t,r){super(),this.yc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,Ie.Z)(function*(){yield t().call(r,e),yield r.yc.initialize(r,e),yield EA(r.yc.syncEngine),yield al(r.yc.remoteStore),yield r.persistence.ci(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}wc(e){return MT(this.persistence,new ST,e.initialUser,this.wt)}mc(e,t){return new rD(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}gc(e,t){const r=new qC(t,this.persistence);return new WC(e.asyncQueue,r)}_c(e){const t=lh(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Ji.withCacheSize(this.cacheSizeBytes):Ji.DEFAULT;return new ew(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,FT(),s(),this.wt,this.sharedClientState,!!this.forceOwnership)}dc(e){return new ED}}class C1 extends vx{constructor(e,t){super(e,t,!1),this.yc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,Ie.Z)(function*(){yield t().call(r,e);const i=r.yc.syncEngine;r.sharedClientState instanceof wD&&(r.sharedClientState.syncEngine={kr:v1.bind(null,i),Mr:I1.bind(null,i),Or:D1.bind(null,i),Ri:E1.bind(null,i),Nr:_1.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.ci(function(){var u=(0,Ie.Z)(function*(c){yield function w1(n,e){return mA.apply(this,arguments)}(r.yc.syncEngine,c),r.gcScheduler&&(c&&!r.gcScheduler.started?r.gcScheduler.start():c||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(c&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():c||r.indexBackfillerScheduler.stop())});return function(c){return u.apply(this,arguments)}}())})()}dc(e){const t=FT();if(!wD.V(t))throw new Le(me.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=lh(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new wD(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class IA{initialize(e,t){var r=this;return(0,Ie.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>px(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=g1.bind(null,r.syncEngine),yield $T(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new XP}createDatastore(e){const t=o(e.databaseInfo.databaseId),r=new rx(e.databaseInfo);return new _(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,u=f=>px(this.syncEngine,f,0),c=kT.V()?new kT:new ex,new D(t,r,i,u,c);var t,r,i,u,c}createSyncEngine(e,t){return function(r,i,u,c,f,y,E){const A=new o1(r,i,u,c,f,y);return E&&(A.ac=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Ie.Z)(function*(t){const r=nt(t);je("RemoteStore","RemoteStore shutting down."),r.lu.add(5),yield k(r),r.du.shutdown(),r._u.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function wx(n,e=10240){let t=0;return{read:()=>(0,Ie.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,Ie.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class ID{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ic(this.observer.next,e)}error(e){this.observer.error?this.Ic(this.observer.error,e):er("Uncaught Error in snapshot listener:",e)}Tc(){this.muted=!0}Ic(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class T1{constructor(e,t){this.Ec=e,this.wt=t,this.metadata=new tr,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then(r=>{r&&r.Cu()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Ec.cancel()}getMetadata(){var e=this;return(0,Ie.Z)(function*(){return e.metadata.promise})()}fc(){var e=this;return(0,Ie.Z)(function*(){return yield e.getMetadata(),e.Rc()})()}Rc(){var e=this;return(0,Ie.Z)(function*(){const t=yield e.bc();if(null===t)return null;const r=e.Ac.decode(t),i=Number(r);isNaN(i)&&e.Pc(`length string (${r}) is not valid number`);const u=yield e.vc(i);return new n1(JSON.parse(u),t.length+i)})()}Vc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}bc(){var e=this;return(0,Ie.Z)(function*(){for(;e.Vc()<0&&!(yield e.Sc()););if(0===e.buffer.length)return null;const t=e.Vc();t<0&&e.Pc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}vc(e){var t=this;return(0,Ie.Z)(function*(){for(;t.buffer.length<e;)(yield t.Sc())&&t.Pc("Reached the end of bundle when more is expected.");const r=t.Ac.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Pc(e){throw this.Ec.cancel(),new Error(`Invalid bundle format: ${e}`)}Sc(){var e=this;return(0,Ie.Z)(function*(){const t=yield e.Ec.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class A1{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Ie.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Le(me.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,Ie.Z)(function*(u,c){const f=nt(u),y=nl(f.wt)+"/documents",E={documents:c.map(B=>qf(f.wt,B))},A=yield f.ao("BatchGetDocuments",y,E,c.length),S=new Map;A.forEach(B=>{const q=function dT(n,e){return"found"in e?function(t,r){kt(!!r.found);const i=Zs(t,r.found.name),u=Wr(r.found.updateTime),c=new Nr({mapValue:{fields:r.found.fields}});return xn.newFoundDocument(i,u,c)}(n,e):"missing"in e?function(t,r){kt(!!r.missing),kt(!!r.readTime);const i=Zs(t,r.missing),u=Wr(r.readTime);return xn.newNoDocument(i,u)}(n,e):lt()}(f.wt,B);S.set(q.key.toString(),q)});const L=[];return c.forEach(B=>{const q=S.get(B.toString());kt(!!q),L.push(q)}),L}),function(u,c){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Qd(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Ie.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const u=Je.fromPath(i);e.mutations.push(new DI(u,e.precondition(u)))}),yield(r=(0,Ie.Z)(function*(i,u){const c=nt(i),f=nl(c.wt)+"/documents",y={writes:u.map(E=>Ea(c.wt,E))};yield c.ro("Commit",f,y)}),function(i,u){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw lt();t=Ct.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Le(me.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Nn.updateTime(t):Nn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ct.min()))throw new Le(me.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Nn.updateTime(t)}return Nn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class S1{constructor(e,t,r,i,u){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=u,this.Dc=r.maxAttempts,this.So=new a(this.asyncQueue,"transaction_retry")}run(){this.Dc-=1,this.Cc()}Cc(){var e=this;this.So.Io((0,Ie.Z)(function*(){const t=new A1(e.datastore),r=e.xc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(u=>{e.Nc(u)}))}).catch(i=>{e.Nc(i)})}))}xc(e){try{const t=this.updateFunction(e);return!Bf(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Nc(e){this.Dc>0&&this.kc(e)?(this.Dc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Cc(),Promise.resolve()))):this.deferred.reject(e)}kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!wm(t)}return!1}}class M1{constructor(e,t,r,i){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=xr.UNAUTHENTICATED,this.clientId=uv.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var c=(0,Ie.Z)(function*(f){je("FirestoreClient","Received user=",f.uid),yield u.authCredentialListener(f),u.user=f});return function(f){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(r,c=>(je("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,Ie.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Le(me.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new tr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ie.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Wm(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function Ex(n,e){return DA.apply(this,arguments)}function DA(){return DA=(0,Ie.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),je("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,Ie.Z)(function*(u){r.isEqual(u)||(yield tw(e.localStore,u),r=u)});return function(u){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),DA.apply(this,arguments)}function Ix(n,e){return bA.apply(this,arguments)}function bA(){return bA=(0,Ie.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield CA(n);je("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>ox(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,u)=>ox(e.remoteStore,u)),n.onlineComponents=e}),bA.apply(this,arguments)}function CA(n){return TA.apply(this,arguments)}function TA(){return TA=(0,Ie.Z)(function*(n){return n.offlineComponents||(je("FirestoreClient","Using default OfflineComponentProvider"),yield Ex(n,new _x)),n.offlineComponents}),TA.apply(this,arguments)}function DD(n){return AA.apply(this,arguments)}function AA(){return AA=(0,Ie.Z)(function*(n){return n.onlineComponents||(je("FirestoreClient","Using default OnlineComponentProvider"),yield Ix(n,new IA)),n.onlineComponents}),AA.apply(this,arguments)}function Dx(n){return CA(n).then(e=>e.persistence)}function bD(n){return CA(n).then(e=>e.localStore)}function bx(n){return DD(n).then(e=>e.remoteStore)}function SA(n){return DD(n).then(e=>e.syncEngine)}function Ym(n){return MA.apply(this,arguments)}function MA(){return MA=(0,Ie.Z)(function*(n){const e=yield DD(n),t=e.eventManager;return t.onListen=a1.bind(null,e.syncEngine),t.onUnlisten=u1.bind(null,e.syncEngine),t}),MA.apply(this,arguments)}function Cx(n,e,t={}){const r=new tr;return n.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return function(i,u,c,f,y){const E=new ID({next:S=>{u.enqueueAndForget(()=>qT(i,A));const L=S.docs.has(c);!L&&S.fromCache?y.reject(new Le(me.UNAVAILABLE,"Failed to get document because the client is offline.")):L&&S.fromCache&&f&&"server"===f.source?y.reject(new Le(me.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(S)},error:S=>y.reject(S)}),A=new YT($f(c.path),E,{includeMetadataChanges:!0,Du:!0});return zT(i,A)}(yield Ym(n),n.asyncQueue,e,t,r)})),r.promise}function Tx(n,e,t={}){const r=new tr;return n.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return function(i,u,c,f,y){const E=new ID({next:S=>{u.enqueueAndForget(()=>qT(i,A)),S.fromCache&&"server"===f.source?y.reject(new Le(me.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(S)},error:S=>y.reject(S)}),A=new YT(c,E,{includeMetadataChanges:!0,Du:!0});return zT(i,A)}(yield Ym(n),n.asyncQueue,e,t,r)})),r.promise}const Ax=new Map;function xA(n,e,t){if(!t)throw new Le(me.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Sx(n,e,t,r){if(!0===e&&!0===r)throw new Le(me.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Mx(n){if(!Je.isDocumentKey(n))throw new Le(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function xx(n){if(Je.isDocumentKey(n))throw new Le(me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function CD(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":lt()}function hn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Le(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=CD(n);throw new Le(me.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Nx(n,e){if(e<=0)throw new Le(me.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class Rx{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Le(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Le(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Sx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hw{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Rx({}),this._settingsFrozen=!1,e instanceof To?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new Le(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new To(i.options.projectId)}(e))}get app(){if(!this._app)throw new Le(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Le(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Rx(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new nm;switch(t.type){case"gapi":const r=t.client;return kt(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new q0(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Le(me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Ax.get(e);t&&(je("ComponentProvider","Removing Datastore"),Ax.delete(e),t.terminate())}(this),Promise.resolve()}}class nr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ul(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new nr(this.firestore,e,this._key)}}class Xi{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Xi(this.firestore,e,this._query)}}class ul extends Xi{constructor(e,t,r){super(e,t,$f(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new nr(this.firestore,null,new Je(e))}withConverter(e){return new ul(this.firestore,e,this._path)}}function Px(n,e,...t){if(n=(0,Xt.m9)(n),xA("collection","path",e),n instanceof hw){const r=dn.fromString(e,...t);return xx(r),new ul(n,null,r)}{if(!(n instanceof nr||n instanceof ul))throw new Le(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(dn.fromString(e,...t));return xx(r),new ul(n.firestore,null,r)}}function TD(n,e,...t){if(n=(0,Xt.m9)(n),1===arguments.length&&(e=uv.I()),xA("doc","path",e),n instanceof hw){const r=dn.fromString(e,...t);return Mx(r),new nr(n,null,new Je(r))}{if(!(n instanceof nr||n instanceof ul))throw new Le(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(dn.fromString(e,...t));return Mx(r),new nr(n.firestore,n instanceof ul?n.converter:null,new Je(r))}}function Ox(n,e){return n=(0,Xt.m9)(n),e=(0,Xt.m9)(e),(n instanceof nr||n instanceof ul)&&(e instanceof nr||e instanceof ul)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function kx(n,e){return n=(0,Xt.m9)(n),e=(0,Xt.m9)(e),n instanceof Xi&&e instanceof Xi&&n.firestore===e.firestore&&Hf(n._query,e._query)&&n.converter===e.converter}class B1{constructor(){this.Mc=Promise.resolve(),this.Oc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new a(this,"async_queue_retry"),this.Kc=()=>{const t=s();t&&je("AsyncQueue","Visibility state changed to "+t.visibilityState),this.So.Eo()};const e=s();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Gc(),this.Qc(e)}enterRestrictedMode(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;const t=s();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Kc)}}enqueue(e){if(this.Gc(),this.Fc)return new Promise(()=>{});const t=new tr;return this.Qc(()=>this.Fc&&this.Uc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Oc.push(e),this.jc()))}jc(){var e=this;return(0,Ie.Z)(function*(){if(0!==e.Oc.length){try{yield e.Oc[0](),e.Oc.shift(),e.So.reset()}catch(t){if(!Co(t))throw t;je("AsyncQueue","Operation failed with retryable error: "+t)}e.Oc.length>0&&e.So.Io(()=>e.jc())}})()}Qc(e){const t=this.Mc.then(()=>(this.Lc=!0,e().catch(r=>{throw this.Bc=r,this.Lc=!1,er("INTERNAL UNHANDLED ERROR: ",function(u){let c=u.message||"";return u.stack&&(c=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),c}(r)),r}).then(r=>(this.Lc=!1,r))));return this.Mc=t,t}enqueueAfterDelay(e,t,r){this.Gc(),this.qc.indexOf(e)>-1&&(t=0);const i=GT.createAndSchedule(this,e,t,r,u=>this.Wc(u));return this.$c.push(i),i}Gc(){this.Bc&&lt()}verifyOperationInProgress(){}zc(){var e=this;return(0,Ie.Z)(function*(){let t;do{t=e.Mc,yield t}while(t!==e.Mc)})()}Hc(e){for(const t of this.$c)if(t.timerId===e)return!0;return!1}Jc(e){return this.zc().then(()=>{this.$c.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.$c)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.zc()})}Yc(e){this.qc.push(e)}Wc(e){const t=this.$c.indexOf(e);this.$c.splice(t,1)}}function NA(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class j1{constructor(){this._progressObserver={},this._taskCompletionResolver=new tr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class cr extends hw{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new B1,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Fx(this),this._firestoreClient.terminate()}}function H1(n=(0,ca.getApp)()){return(0,ca._getProvider)(n,"firestore").getImmediate()}function Zr(n){return n._firestoreClient||Fx(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function Fx(n){var e;const t=n._freezeSettings(),r=(u=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new YC(n._databaseId,u,n._persistenceKey,(f=t).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,f.useFetchStreams));var u,f;n._firestoreClient=new M1(n._authCredentials,n._appCheckCredentials,n._queue,r)}function Lx(n,e,t){const r=new tr;return n.asyncQueue.enqueue((0,Ie.Z)(function*(){try{yield Ex(n,t),yield Ix(n,e),r.resolve()}catch(i){const u=i;if(!("FirebaseError"===(c=u).name?c.code===me.FAILED_PRECONDITION||c.code===me.UNIMPLEMENTED:!(typeof DOMException<"u"&&c instanceof DOMException)||22===c.code||20===c.code||11===c.code))throw u;Ud("Error enabling offline persistence. Falling back to persistence disabled: "+u),r.reject(u)}var c})).then(()=>r.promise)}function Vx(n){if(n._initialized||n._terminated)throw new Le(me.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Pc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Le(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Un(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ll{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ll(Cr.fromBase64String(e))}catch(t){throw new Le(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ll(Cr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class sp{constructor(e){this._methodName=e}}class AD{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Le(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Le(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return jt(this._lat,e._lat)||jt(this._long,e._long)}}const J1=/^__.*__$/;class X1{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new wa(e,this.data,this.fieldMask,t,this.fieldTransforms):new vc(e,this.data,t,this.fieldTransforms)}}class Ux{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new wa(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Bx(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw lt()}}class SD{constructor(e,t,r,i,u,c){this.settings=e,this.databaseId=t,this.wt=r,this.ignoreUndefinedProperties=i,void 0===u&&this.Xc(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Zc(){return this.settings.Zc}ta(e){return new SD(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ea(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ta({path:r,na:!1});return i.sa(e),i}ia(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ta({path:r,na:!1});return i.Xc(),i}ra(e){return this.ta({path:void 0,na:!0})}oa(e){return ND(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.sa(this.path.get(e))}sa(e){if(0===e.length)throw this.oa("Document fields must not be empty");if(Bx(this.Zc)&&J1.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}class eO{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.wt=r||o(e)}aa(e,t,r,i=!1){return new SD({Zc:e,methodName:t,ca:r,path:Un.emptyPath(),na:!1,ua:i},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}function op(n){const e=n._freezeSettings(),t=o(n._databaseId);return new eO(n._databaseId,!!e.ignoreUndefinedProperties,t)}function MD(n,e,t,r,i,u={}){const c=n.aa(u.merge||u.mergeFields?2:0,e,t,i);kA("Data must be an object, but it was:",c,r);const f=Hx(r,c);let y,E;if(u.merge)y=new Zi(c.fieldMask),E=c.fieldTransforms;else if(u.mergeFields){const A=[];for(const S of u.mergeFields){const L=FA(e,S,t);if(!c.contains(L))throw new Le(me.INVALID_ARGUMENT,`Field '${L}' is specified in your field mask but missing from your input data.`);zx(A,L)||A.push(L)}y=new Zi(A),E=c.fieldTransforms.filter(S=>y.covers(S.field))}else y=null,E=c.fieldTransforms;return new X1(new Nr(f),y,E)}class fw extends sp{_toFieldTransform(e){if(2!==e.Zc)throw e.oa(1===e.Zc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof fw}}function jx(n,e,t){return new SD({Zc:3,ca:e.settings.ca,methodName:n._methodName,na:t},e.databaseId,e.wt,e.ignoreUndefinedProperties)}class RA extends sp{_toFieldTransform(e){return new Yi(e.path,new Yd)}isEqual(e){return e instanceof RA}}class tO extends sp{constructor(e,t){super(e),this.ha=t}_toFieldTransform(e){const t=jx(this,e,!0),r=this.ha.map(u=>ap(u,t)),i=new yc(r);return new Yi(e.path,i)}isEqual(e){return this===e}}class nO extends sp{constructor(e,t){super(e),this.ha=t}_toFieldTransform(e){const t=jx(this,e,!0),r=this.ha.map(u=>ap(u,t)),i=new _c(r);return new Yi(e.path,i)}isEqual(e){return this===e}}class rO extends sp{constructor(e,t){super(e),this.la=t}_toFieldTransform(e){const t=new va(e.wt,Mv(e.wt,this.la));return new Yi(e.path,t)}isEqual(e){return this===e}}function PA(n,e,t,r){const i=n.aa(1,e,t);kA("Data must be an object, but it was:",i,r);const u=[],c=Nr.empty();cc(r,(y,E)=>{const A=xD(e,y,t);E=(0,Xt.m9)(E);const S=i.ia(A);if(E instanceof fw)u.push(A);else{const L=ap(E,S);null!=L&&(u.push(A),c.set(A,L))}});const f=new Zi(u);return new Ux(c,f,i.fieldTransforms)}function OA(n,e,t,r,i,u){const c=n.aa(1,e,t),f=[FA(e,r,t)],y=[i];if(u.length%2!=0)throw new Le(me.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let L=0;L<u.length;L+=2)f.push(FA(e,u[L])),y.push(u[L+1]);const E=[],A=Nr.empty();for(let L=f.length-1;L>=0;--L)if(!zx(E,f[L])){const B=f[L];let q=y[L];q=(0,Xt.m9)(q);const de=c.ia(B);if(q instanceof fw)E.push(B);else{const Te=ap(q,de);null!=Te&&(E.push(B),A.set(B,Te))}}const S=new Zi(E);return new Ux(A,S,c.fieldTransforms)}function $x(n,e,t,r=!1){return ap(t,n.aa(r?4:3,e))}function ap(n,e){if(Gx(n=(0,Xt.m9)(n)))return kA("Unsupported field value:",e,n),Hx(n,e);if(n instanceof sp)return function(t,r){if(!Bx(r.Zc))throw r.oa(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.oa(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.na&&4!==e.Zc)throw e.oa("Nested arrays are not supported");return function(t,r){const i=[];let u=0;for(const c of t){let f=ap(c,r.ra(u));null==f&&(f={nullValue:"NULL_VALUE"}),i.push(f),u++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,Xt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Mv(r.wt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=zn.fromDate(t);return{timestampValue:Ec(r.wt,i)}}if(t instanceof zn){const i=new zn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Ec(r.wt,i)}}if(t instanceof AD)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof ll)return{bytesValue:NI(r.wt,t._byteString)};if(t instanceof nr){const i=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(i))throw r.oa(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Ov(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.oa(`Unsupported field value: ${CD(t)}`)}(n,e)}function Hx(n,e){const t={};return pv(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):cc(n,(r,i)=>{const u=ap(i,e.ea(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function Gx(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof zn||n instanceof AD||n instanceof ll||n instanceof nr||n instanceof sp)}function kA(n,e,t){if(!Gx(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=CD(t);throw e.oa("an object"===r?n+" a custom object":n+" "+r)}var r}function FA(n,e,t){if((e=(0,Xt.m9)(e))instanceof Pc)return e._internalPath;if("string"==typeof e)return xD(n,e);throw ND("Field path arguments must be of type string or ",n,!1,void 0,t)}const iO=new RegExp("[~\\*/\\[\\]]");function xD(n,e,t){if(e.search(iO)>=0)throw ND(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Pc(...e.split("."))._internalPath}catch{throw ND(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function ND(n,e,t,r,i){const u=r&&!r.isEmpty(),c=void 0!==i;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let y="";return(u||c)&&(y+=" (found",u&&(y+=` in field ${r}`),c&&(y+=` in document ${i}`),y+=")"),new Le(me.INVALID_ARGUMENT,f+n+y)}function zx(n,e){return n.some(t=>t.isEqual(e))}class pw{constructor(e,t,r,i,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new nr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new sO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(RD("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class sO extends pw{data(){return super.data()}}function RD(n,e){return"string"==typeof e?xD(n,e):e instanceof Pc?e._internalPath:e._delegate._internalPath}class up{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Oc extends pw{constructor(e,t,r,i,u,c){super(e,t,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new gw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(RD("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class gw extends Oc{data(e={}){return super.data(e)}}class fh{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new up(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new gw(this._firestore,this._userDataWriter,r.key,r,new up(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Le(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(c=>({type:"added",doc:new gw(r._firestore,r._userDataWriter,c.doc.key,c.doc,new up(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>i||3!==c.type).map(c=>{const f=new gw(r._firestore,r._userDataWriter,c.doc.key,c.doc,new up(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let y=-1,E=-1;return 0!==c.type&&(y=u.indexOf(c.doc.key),u=u.delete(c.doc.key)),1!==c.type&&(u=u.add(c.doc),E=u.indexOf(c.doc.key)),{type:oO(c.type),doc:f,oldIndex:y,newIndex:E}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function oO(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return lt()}}function Wx(n,e){return n instanceof Oc&&e instanceof Oc?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof fh&&e instanceof fh&&n._firestore===e._firestore&&kx(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function qx(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Le(me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class mw{}function ph(n,...e){for(const t of e)n=t._apply(n);return n}class aO extends mw{constructor(e,t,r){super(),this.fa=e,this.da=t,this._a=r,this.type="where"}_apply(e){const t=op(e.firestore),r=function(i,u,c,f,y,E,A){let S;if(y.isKeyField()){if("array-contains"===E||"array-contains-any"===E)throw new Le(me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if("in"===E||"not-in"===E){Xx(A,E);const B=[];for(const q of A)B.push(Jx(f,i,q));S={arrayValue:{values:B}}}else S=Jx(f,i,A)}else"in"!==E&&"not-in"!==E&&"array-contains-any"!==E||Xx(A,E),S=$x(c,"where",A,"in"===E||"not-in"===E);const L=ii.create(y,E,S);return function(B,q){if(q.ht()){const Te=Dv(B);if(null!==Te&&!Te.isEqual(q.field))throw new Le(me.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Te.toString()}' and '${q.field.toString()}'`);const We=Iv(B);null!==We&&eN(0,q.field,We)}const de=function(Te,We){for(const ct of Te.filters)if(We.indexOf(ct.op)>=0)return ct.op;return null}(B,function(Te){switch(Te){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(q.op));if(null!==de)throw new Le(me.INVALID_ARGUMENT,de===q.op?`Invalid query. You cannot use more than one '${q.op.toString()}' filter.`:`Invalid query. You cannot use '${q.op.toString()}' filters with '${de.toString()}' filters.`)}(i,L),L}(e._query,0,t,e.firestore._databaseId,this.fa,this.da,this._a);return new Xi(e.firestore,e.converter,function(i,u){const c=i.filters.concat([u]);return new fu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),c,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}class lO extends mw{constructor(e,t){super(),this.fa=e,this.wa=t,this.type="orderBy"}_apply(e){const t=function(r,i,u){if(null!==r.startAt)throw new Le(me.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Le(me.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new mc(i,u);return function(f,y){if(null===Iv(f)){const E=Dv(f);null!==E&&eN(0,E,y.field)}}(r,c),c}(e._query,this.fa,this.wa);return new Xi(e.firestore,e.converter,function(r,i){const u=r.explicitOrderBy.concat([i]);return new fu(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class Zx extends mw{constructor(e,t,r){super(),this.type=e,this.ma=t,this.ga=r}_apply(e){return new Xi(e.firestore,e.converter,pm(e._query,this.ma,this.ga))}}class Kx extends mw{constructor(e,t,r){super(),this.type=e,this.ya=t,this.pa=r}_apply(e){const t=Qx(e,this.type,this.ya,this.pa);return new Xi(e.firestore,e.converter,(i=t,new fu((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class Yx extends mw{constructor(e,t,r){super(),this.type=e,this.ya=t,this.pa=r}_apply(e){const t=Qx(e,this.type,this.ya,this.pa);return new Xi(e.firestore,e.converter,(i=t,new fu((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function Qx(n,e,t,r){if(t[0]=(0,Xt.m9)(t[0]),t[0]instanceof pw)return function(i,u,c,f,y){if(!f)throw new Le(me.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const E=[];for(const A of Zd(i))if(A.field.isKeyField())E.push(fc(u,f.key));else{const S=f.data.field(A.field);if(am(S))throw new Le(me.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+A.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===S){const L=A.field.canonicalString();throw new Le(me.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${L}' (used as the orderBy) does not exist.`)}E.push(S)}return new Xu(E,y)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=op(n.firestore);return function(u,c,f,y,E,A){const S=u.explicitOrderBy;if(E.length>S.length)throw new Le(me.INVALID_ARGUMENT,`Too many arguments provided to ${y}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const L=[];for(let B=0;B<E.length;B++){const q=E[B];if(S[B].field.isKeyField()){if("string"!=typeof q)throw new Le(me.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${y}(), but got a ${typeof q}`);if(!bv(u)&&-1!==q.indexOf("/"))throw new Le(me.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${y}() must be a plain document ID, but '${q}' contains a slash.`);const de=u.path.child(dn.fromString(q));if(!Je.isDocumentKey(de))throw new Le(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${y}() must result in a valid document path, but '${de}' is not because it contains an odd number of segments.`);const Te=new Je(de);L.push(fc(c,Te))}else{const de=$x(f,y,q);L.push(de)}}return new Xu(L,A)}(n._query,n.firestore._databaseId,i,e,t,r)}}function Jx(n,e,t){if("string"==typeof(t=(0,Xt.m9)(t))){if(""===t)throw new Le(me.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!bv(e)&&-1!==t.indexOf("/"))throw new Le(me.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(dn.fromString(t));if(!Je.isDocumentKey(r))throw new Le(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return fc(n,new Je(r))}if(t instanceof nr)return fc(n,t._key);throw new Le(me.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${CD(t)}.`)}function Xx(n,e){if(!Array.isArray(n)||0===n.length)throw new Le(me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Le(me.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function eN(n,e,t){if(!t.isEqual(e))throw new Le(me.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const yO={maxAttempts:5};class LA{convertValue(e,t="none"){switch(dc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ur(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Yu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw lt()}}convertObject(e,t){const r={};return cc(e.fields,(i,u)=>{r[i]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new AD(ur(e.latitude),ur(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=X0(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Uf(e));default:return null}}convertTimestamp(e){const t=ya(e);return new zn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=dn.fromString(e);kt(UI(r));const i=new To(r.get(1),r.get(3)),u=new Je(r.popFirst(5));return i.isEqual(t)||er(`Document ${u} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function PD(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class _O extends LA{constructor(e){super(),this.firestore=e}convertBytes(e){return new ll(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new nr(this.firestore,null,t)}}class tN{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=op(e)}set(e,t,r){this._verifyNotCommitted();const i=gh(e,this._firestore),u=PD(i.converter,t,r),c=MD(this._dataReader,"WriteBatch.set",i._key,u,null!==i.converter,r);return this._mutations.push(c.toMutation(i._key,Nn.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const u=gh(e,this._firestore);let c;return c="string"==typeof(t=(0,Xt.m9)(t))||t instanceof Pc?OA(this._dataReader,"WriteBatch.update",u._key,t,r,i):PA(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(c.toMutation(u._key,Nn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=gh(e,this._firestore);return this._mutations=this._mutations.concat(new Qd(t._key,Nn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Le(me.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function gh(n,e){if((n=(0,Xt.m9)(n)).firestore!==e)throw new Le(me.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class lp extends LA{constructor(e){super(),this.firestore=e}convertBytes(e){return new ll(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new nr(this.firestore,null,t)}}function nN(n,e,t){n=hn(n,nr);const r=hn(n.firestore,cr),i=PD(n.converter,e,t);return Qm(r,[MD(op(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Nn.none())])}function rN(n,e,t,...r){n=hn(n,nr);const i=hn(n.firestore,cr),u=op(i);let c;return c="string"==typeof(e=(0,Xt.m9)(e))||e instanceof Pc?OA(u,"updateDoc",n._key,e,t,r):PA(u,"updateDoc",n._key,e),Qm(i,[c.toMutation(n._key,Nn.exists(!0))])}function iN(n,...e){var t,r,i;n=(0,Xt.m9)(n);let u={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||NA(e[c])||(u=e[c],c++);const f={includeMetadataChanges:u.includeMetadataChanges};if(NA(e[c])){const S=e[c];e[c]=null===(t=S.next)||void 0===t?void 0:t.bind(S),e[c+1]=null===(r=S.error)||void 0===r?void 0:r.bind(S),e[c+2]=null===(i=S.complete)||void 0===i?void 0:i.bind(S)}let y,E,A;if(n instanceof nr)E=hn(n.firestore,cr),A=$f(n._key.path),y={next:S=>{e[c]&&e[c](VA(E,n,S))},error:e[c+1],complete:e[c+2]};else{const S=hn(n,Xi);E=hn(S.firestore,cr),A=S._query;const L=new lp(E);y={next:B=>{e[c]&&e[c](new fh(E,L,S,B))},error:e[c+1],complete:e[c+2]},qx(n._query)}return function(S,L,B,q){const de=new ID(q),Te=new YT(L,de,B);return S.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return zT(yield Ym(S),Te)})),()=>{de.Tc(),S.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return qT(yield Ym(S),Te)}))}}(Zr(E),A,f,y)}function Qm(n,e){return function(t,r){const i=new tr;return t.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return function l1(n,e,t){return tA.apply(this,arguments)}(yield SA(t),r,i)})),i.promise}(Zr(n),e)}function VA(n,e,t){const r=t.docs.get(e._key),i=new lp(n);return new Oc(n,i,e._key,r,new up(t.hasPendingWrites,t.fromCache),e.converter)}class SO extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=op(e)}get(e){const t=gh(e,this._firestore),r=new _O(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return lt();const u=i[0];if(u.isFoundDocument())return new pw(this._firestore,r,u.key,u,t.converter);if(u.isNoDocument())return new pw(this._firestore,r,t._key,null,t.converter);throw lt()})}set(e,t,r){const i=gh(e,this._firestore),u=PD(i.converter,t,r),c=MD(this._dataReader,"Transaction.set",i._key,u,null!==i.converter,r);return this._transaction.set(i._key,c),this}update(e,t,r,...i){const u=gh(e,this._firestore);let c;return c="string"==typeof(t=(0,Xt.m9)(t))||t instanceof Pc?OA(this._dataReader,"Transaction.update",u._key,t,r,i):PA(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,c),this}delete(e){const t=gh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=gh(e,this._firestore),r=new lp(this._firestore);return super.get(e).then(i=>new Oc(this._firestore,r,t._key,i._document,new up(!1,!1),t.converter))}}function UA(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Le("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function oN(){if(typeof Uint8Array>"u")throw new Le("unimplemented","Uint8Arrays are not available in this environment.")}function aN(){if(!function ZC(){return typeof atob<"u"}())throw new Le("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){qs=ca.SDK_VERSION,(0,ca._registerComponent)(new rg.wA("firestore",(t,{options:r})=>{const i=t.getProvider("app").getImmediate(),u=new cr(i,new sr(t.getProvider("auth-internal")),new jC(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),u._setSettings(r),u},"PUBLIC")),(0,ca.registerVersion)(sv,"3.4.14",n),(0,ca.registerVersion)(sv,"3.4.14","esm2017")}();class yw{constructor(e){this._delegate=e}static fromBase64String(e){return aN(),new yw(ll.fromBase64String(e))}static fromUint8Array(e){return oN(),new yw(ll.fromUint8Array(e))}toBase64(){return aN(),this._delegate.toBase64()}toUint8Array(){return oN(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function BA(n){return function LO(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class VO{enableIndexedDbPersistence(e,t){return function G1(n,e){Vx(n=hn(n,cr));const t=Zr(n),r=n._freezeSettings(),i=new IA;return Lx(t,i,new vx(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function z1(n){Vx(n=hn(n,cr));const e=Zr(n),t=n._freezeSettings(),r=new IA;return Lx(e,r,new C1(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function W1(n){if(n._initialized&&!n._terminated)throw new Le(me.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new tr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Ie.Z)(function*(){try{yield(t=(0,Ie.Z)(function*(r){if(!ma.V())return Promise.resolve();const i=r+"main";yield ma.delete(i)}),function(r){return t.apply(this,arguments)})(lh(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class uN{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof To||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Ud("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function V1(n,e,t,r={}){var i;const u=(n=hn(n,hw))._getSettings();if("firestore.googleapis.com"!==u.host&&u.host!==e&&Ud("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},u),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let c,f;if("string"==typeof r.mockUserToken)c=r.mockUserToken,f=xr.MOCK_USER;else{c=(0,Xt.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new Le(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new xr(y)}n._authCredentials=new rm(new W0(c,f))}}(this._delegate,e,t,r)}enableNetwork(){return function Z1(n){return function x1(n){return n.asyncQueue.enqueue((0,Ie.Z)(function*(){const e=yield Dx(n),t=yield bx(n);return e.setNetworkEnabled(!0),function(r){const i=nt(r);return i.lu.delete(0),T(i)}(t)}))}(Zr(n=hn(n,cr)))}(this._delegate)}disableNetwork(){return function K1(n){return function N1(n){return n.asyncQueue.enqueue((0,Ie.Z)(function*(){const e=yield Dx(n),t=yield bx(n);return e.setNetworkEnabled(!1),(r=(0,Ie.Z)(function*(i){const u=nt(i);u.lu.add(0),yield k(u),u._u.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(Zr(n=hn(n,cr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,Sx("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function q1(n){return function(e){const t=new tr;return e.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return function f1(n,e){return oA.apply(this,arguments)}(yield SA(e),t)})),t.promise}(Zr(n=hn(n,cr)))}(this._delegate)}onSnapshotsInSync(e){return function AO(n,e){return function O1(n,e){const t=new ID(e);return n.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return r=yield Ym(n),i=t,nt(r).Tu.add(i),void i.next();var r,i})),()=>{t.Tc(),n.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return r=yield Ym(n),i=t,void nt(r).Tu.delete(i);var r,i}))}}(Zr(n=hn(n,cr)),NA(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Le("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Jm(this,Px(this._delegate,e))}catch(t){throw bs(t,"collection()","Firestore.collection()")}}doc(e){try{return new Da(this,TD(this._delegate,e))}catch(t){throw bs(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Cs(this,function U1(n,e){if(n=hn(n,hw),xA("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Le(me.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Xi(n,null,(t=e,new fu(dn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw bs(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function MO(n,e,t){n=hn(n,cr);const r=Object.assign(Object.assign({},yO),t);return function(i){if(i.maxAttempts<1)throw new Le(me.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function k1(n,e,t){const r=new tr;return n.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){const i=yield(u=n,DD(u).then(c=>c.datastore));var u;new S1(n.asyncQueue,i,t,e,r).run()})),r.promise}(Zr(n),i=>e(new SO(n,i)),r)}(this._delegate,t=>e(new lN(this,t)))}batch(){return Zr(this._delegate),new cN(new tN(this._delegate,e=>Qm(this._delegate,e)))}loadBundle(e){return function Y1(n,e){const t=Zr(n=hn(n,cr)),r=new j1;return function F1(n,e,t,r){const i=function(u,c){let f;return f="string"==typeof u?(new TextEncoder).encode(u):u,y=function(y,E){if(y instanceof Uint8Array)return wx(y,E);if(y instanceof ArrayBuffer)return wx(new Uint8Array(y),E);if(y instanceof ReadableStream)return y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new T1(y,c);var y}(t,o(e));n.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){!function b1(n,e,t){const r=nt(n);var i;(i=(0,Ie.Z)(function*(u,c,f){try{const y=yield c.getMetadata();if(yield function(L,B){const q=nt(L),de=Wr(B.createTime);return q.persistence.runTransaction("hasNewerBundle","readonly",Te=>q.Ds.getBundleMetadata(Te,B.id)).then(Te=>!!Te&&Te.createTime.compareTo(de)>=0)}(u.localStore,y))return yield c.close(),f._completeWith({taskState:"Success",documentsLoaded:(L=y).totalDocuments,bytesLoaded:L.totalBytes,totalDocuments:L.totalDocuments,totalBytes:L.totalBytes}),Promise.resolve(new Set);f._updateProgress(lx(y));const E=new r1(y,u.localStore,c.wt);let A=yield c.fc();for(;A;){const L=yield E.Nu(A);L&&f._updateProgress(L),A=yield c.fc()}const S=yield E.complete();return yield Rc(u,S.Ou,void 0),yield function(L,B){const q=nt(L);return q.persistence.runTransaction("Save bundle","readwrite",de=>q.Ds.saveBundleMetadata(de,B))}(u.localStore,y),f._completeWith(S.progress),Promise.resolve(S.Mu)}catch(y){return Ud("SyncEngine",`Loading bundle failed with ${y}`),f._failWith(y),Promise.resolve(new Set)}var L}),function(u,c,f){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield SA(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function Q1(n,e){return function L1(n,e){return n.asyncQueue.enqueue((0,Ie.Z)(function*(){return function(t,r){const i=nt(t);return i.persistence.runTransaction("Get named query","readonly",u=>i.Ds.getNamedQuery(u,r))}(yield bD(n),e)}))}(Zr(n=hn(n,cr)),e).then(t=>t?new Xi(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Cs(this,t):null)}}class OD extends LA{constructor(e){super(),this.firestore=e}convertBytes(e){return new yw(new ll(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Da.forKey(t,this.firestore,null)}}class lN{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new OD(e)}get(e){const t=dp(e);return this._delegate.get(t).then(r=>new _w(this._firestore,new Oc(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=dp(e);return r?(UA("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const u=dp(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...i),this}delete(e){const t=dp(e);return this._delegate.delete(t),this}}class cN{constructor(e){this._delegate=e}set(e,t,r){const i=dp(e);return r?(UA("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const u=dp(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...i),this}delete(e){const t=dp(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class cp{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new gw(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new vw(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=cp.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let u=i.get(t);return u||(u=new cp(e,new OD(e),t),i.set(t,u)),u}}cp.INSTANCES=new WeakMap;class Da{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new OD(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Le("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Da(t,new nr(t._delegate,r,new Je(e)))}static forKey(e,t,r){return new Da(t,new nr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Jm(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Jm(this.firestore,Px(this._delegate,e))}catch(t){throw bs(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Xt.m9)(e))instanceof nr&&Ox(this._delegate,e)}set(e,t){t=UA("DocumentReference.set",t);try{return t?nN(this._delegate,e,t):nN(this._delegate,e)}catch(r){throw bs(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?rN(this._delegate,e):rN(this._delegate,e,t,...r)}catch(i){throw bs(i,"updateDoc()","DocumentReference.update()")}}delete(){return function CO(n){return Qm(hn(n.firestore,cr),[new Qd(n._key,Nn.none())])}(this._delegate)}onSnapshot(...e){const t=dN(e),r=hN(e,i=>new _w(this.firestore,new Oc(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return iN(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function wO(n){n=hn(n,nr);const e=hn(n.firestore,cr),t=Zr(e),r=new lp(e);return function R1(n,e){const t=new tr;return n.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return(r=(0,Ie.Z)(function*(i,u,c){try{const f=yield function(y,E){const A=nt(y);return A.persistence.runTransaction("read document","readonly",S=>A.localDocuments.getDocument(S,E))}(i,u);f.isFoundDocument()?c.resolve(f):f.isNoDocument()?c.resolve(null):c.reject(new Le(me.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const y=Wm(f,`Failed to get document '${u} from cache`);c.reject(y)}}),function(i,u,c){return r.apply(this,arguments)})(yield bD(n),e,t);var r})),t.promise}(t,n._key).then(i=>new Oc(e,r,n._key,i,new up(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function EO(n){n=hn(n,nr);const e=hn(n.firestore,cr);return Cx(Zr(e),n._key,{source:"server"}).then(t=>VA(e,n,t))}(this._delegate):function vO(n){n=hn(n,nr);const e=hn(n.firestore,cr);return Cx(Zr(e),n._key).then(t=>VA(e,n,t))}(this._delegate),t.then(r=>new _w(this.firestore,new Oc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Da(this.firestore,this._delegate.withConverter(e?cp.getInstance(this.firestore,e):null))}}function bs(n,e,t){return n.message=n.message.replace(e,t),n}function dN(n){for(const e of n)if("object"==typeof e&&!BA(e))return e;return{}}function hN(n,e){var t,r;let i;return i=BA(n[0])?n[0]:BA(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:u=>{i.next&&i.next(e(u))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class _w{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Da(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Wx(this._delegate,e._delegate)}}class vw extends _w{data(e){const t=this._delegate.data(e);return function At(n,e){n||lt()}(void 0!==t),t}}class Cs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new OD(e)}where(e,t,r){try{return new Cs(this.firestore,ph(this._delegate,function uO(n,e,t){const r=e,i=RD("where",n);return new aO(i,r,t)}(e,t,r)))}catch(i){throw bs(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Cs(this.firestore,ph(this._delegate,function cO(n,e="asc"){const t=e,r=RD("orderBy",n);return new lO(r,t)}(e,t)))}catch(r){throw bs(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Cs(this.firestore,ph(this._delegate,function dO(n){return Nx("limit",n),new Zx("limit",n,"F")}(e)))}catch(t){throw bs(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Cs(this.firestore,ph(this._delegate,function hO(n){return Nx("limitToLast",n),new Zx("limitToLast",n,"L")}(e)))}catch(t){throw bs(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Cs(this.firestore,ph(this._delegate,function fO(...n){return new Kx("startAt",n,!0)}(...e)))}catch(t){throw bs(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Cs(this.firestore,ph(this._delegate,function pO(...n){return new Kx("startAfter",n,!1)}(...e)))}catch(t){throw bs(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Cs(this.firestore,ph(this._delegate,function gO(...n){return new Yx("endBefore",n,!1)}(...e)))}catch(t){throw bs(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Cs(this.firestore,ph(this._delegate,function mO(...n){return new Yx("endAt",n,!0)}(...e)))}catch(t){throw bs(t,"endAt()","Query.endAt()")}}isEqual(e){return kx(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function DO(n){n=hn(n,Xi);const e=hn(n.firestore,cr),t=Zr(e),r=new lp(e);return function P1(n,e){const t=new tr;return n.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return(r=(0,Ie.Z)(function*(i,u,c){try{const f=yield ep(i,u,!0),y=new hx(u,f.ji),E=y.Ku(f.documents),A=y.applyChanges(E,!1);c.resolve(A.snapshot)}catch(f){const y=Wm(f,`Failed to execute query '${u} against cache`);c.reject(y)}}),function(i,u,c){return r.apply(this,arguments)})(yield bD(n),e,t);var r})),t.promise}(t,n._query).then(i=>new fh(e,r,n,i))}(this._delegate):"server"===e?.source?function bO(n){n=hn(n,Xi);const e=hn(n.firestore,cr),t=Zr(e),r=new lp(e);return Tx(t,n._query,{source:"server"}).then(i=>new fh(e,r,n,i))}(this._delegate):function IO(n){n=hn(n,Xi);const e=hn(n.firestore,cr),t=Zr(e),r=new lp(e);return qx(n._query),Tx(t,n._query).then(i=>new fh(e,r,n,i))}(this._delegate),t.then(r=>new jA(this.firestore,new fh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=dN(e),r=hN(e,i=>new jA(this.firestore,new fh(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return iN(this._delegate,t,r)}withConverter(e){return new Cs(this.firestore,this._delegate.withConverter(e?cp.getInstance(this.firestore,e):null))}}class BO{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new vw(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class jA{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Cs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new vw(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new BO(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new vw(this._firestore,r))})}isEqual(e){return Wx(this._delegate,e._delegate)}}class Jm extends Cs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Da(this.firestore,e):null}doc(e){try{return new Da(this.firestore,void 0===e?TD(this._delegate):TD(this._delegate,e))}catch(t){throw bs(t,"doc()","CollectionReference.doc()")}}add(e){return function TO(n,e){const t=hn(n.firestore,cr),r=TD(n),i=PD(n.converter,e);return Qm(t,[MD(op(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Nn.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Da(this.firestore,t))}isEqual(e){return Ox(this._delegate,e._delegate)}withConverter(e){return new Jm(this.firestore,this._delegate.withConverter(e?cp.getInstance(this.firestore,e):null))}}function dp(n){return hn(n,nr)}class $A{constructor(...e){this._delegate=new Pc(...e)}static documentId(){return new $A(Un.keyField().canonicalString())}isEqual(e){return(e=(0,Xt.m9)(e))instanceof Pc&&this._delegate._internalPath.isEqual(e._internalPath)}}class hp{constructor(e){this._delegate=e}static serverTimestamp(){const e=function NO(){return new RA("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new hp(e)}static delete(){const e=function xO(){return new fw("deleteField")}();return e._methodName="FieldValue.delete",new hp(e)}static arrayUnion(...e){const t=function RO(...n){return new tO("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new hp(t)}static arrayRemove(...e){const t=function PO(...n){return new nO("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new hp(t)}static increment(e){const t=function OO(n){return new rO("increment",n)}(e);return t._methodName="FieldValue.increment",new hp(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const jO={Firestore:uN,GeoPoint:AD,Timestamp:zn,Blob:yw,Transaction:lN,WriteBatch:cN,DocumentReference:Da,DocumentSnapshot:_w,Query:Cs,QueryDocumentSnapshot:vw,QuerySnapshot:jA,CollectionReference:Jm,FieldPath:$A,FieldValue:hp,setLogLevel:function UO(n){!function Vd(n){qu.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function fN(n,e){return function GO(n,e=DC.z){return new ei.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function HA(n,e){return fN(n,e).pipe((0,_t.U)(t=>({payload:t,type:"query"})))}function kD(n,e){return HA(n,e).pipe(Xc(void 0),y_(),(0,_t.U)(([t,r])=>{const i=r.payload.docChanges(),u=i.map(c=>({type:c.type,payload:c}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((c,f)=>{const y=i.find(A=>A.doc.ref.isEqual(c.ref)),E=t?.payload.docs.find(A=>A.ref.isEqual(c.ref));y&&JSON.stringify(y.doc.metadata)===JSON.stringify(c.metadata)||!y&&E&&JSON.stringify(E.metadata)===JSON.stringify(c.metadata)||u.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:c}})}),u}))}function pN(n,e,t){return kD(n,t).pipe(Hn((r,i)=>function WO(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function qO(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return GA(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return GA(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return GA(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(u=>u.payload),e),[]),function Ig(n,e=Ui.y){return n=n??yd,(0,vt.e)((t,r)=>{let i,u=!0;t.subscribe((0,Dn.x)(r,c=>{const f=e(c);(u||!n(i,f))&&(u=!1,i=f,r.next(c))}))})}(),(0,_t.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function GA(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function gN(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function HO(n){(function $O(n,e){n.INTERNAL.registerComponent(new rg.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},jO)))})(n,(e,t)=>new uN(e,t,new VO)),n.registerVersion("@firebase/firestore-compat","0.1.23")}(_d.Z);class mN{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=kD(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,_t.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(Xc(void 0),y_(),Ii(([r,i])=>i.length>0||!r),(0,_t.U)(([r,i])=>i),vn.iC)}auditTrail(e){return this.stateChanges(e).pipe(Hn((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=gN(e);return pN(this.query,t,this.afs.schedulers.outsideAngular).pipe(vn.iC)}valueChanges(e={}){return HA(this.query,this.afs.schedulers.outsideAngular).pipe((0,_t.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),vn.iC)}get(e){return(0,cn.D)(this.query.get(e)).pipe(vn.iC)}add(e){return this.ref.add(e)}doc(e){return new yN(this.ref.doc(e),this.afs)}}class yN{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:u}=_N(r,t);return new mN(i,u,this.afs)}snapshotChanges(){return function zO(n,e){return fN(n,e).pipe(Xc(void 0),y_(),(0,_t.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(vn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,_t.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,cn.D)(this.ref.get(e)).pipe(vn.iC)}}class ZO{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?kD(this.query,this.afs.schedulers.outsideAngular).pipe((0,_t.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Ii(t=>t.length>0),vn.iC):kD(this.query,this.afs.schedulers.outsideAngular).pipe(vn.iC)}auditTrail(e){return this.stateChanges(e).pipe(Hn((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=gN(e);return pN(this.query,t,this.afs.schedulers.outsideAngular).pipe(vn.iC)}valueChanges(e={}){return HA(this.query,this.afs.schedulers.outsideAngular).pipe((0,_t.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),vn.iC)}get(e){return(0,cn.D)(this.query.get(e)).pipe(vn.iC)}}const KO=new h.OlP("angularfire2.enableFirestorePersistence"),YO=new h.OlP("angularfire2.firestore.persistenceSettings"),QO=new h.OlP("angularfire2.firestore.settings"),JO=new h.OlP("angularfire2.firestore.use-emulator");function _N(n,e=(t=>t)){return{query:e(n),ref:n}}let XO=(()=>{class n{constructor(t,r,i,u,c,f,y,E,A,S,L,B,q,de,Te,We,ct){this.schedulers=y;const It=(0,Us.on)(t,f,r),dt=A;S&&wg(It,f,L,q,de,Te,B,We),[this.firestore,this.persistenceEnabled$]=(0,Us.cc)(`${It.name}.firestore`,"AngularFirestore",It.name,()=>{const Nt=f.runOutsideAngular(()=>It.firestore());if(u&&Nt.settings(u),dt&&Nt.useEmulator(...dt),i&&!_l(c)){const Ft=()=>{try{return(0,cn.D)(Nt.enablePersistence(E||void 0).then(()=>!0,()=>!1))}catch(fn){return typeof console<"u"&&console.warn(fn),ze(!1)}};return[Nt,f.runOutsideAngular(Ft)]}return[Nt,ze(!1)]},[u,dt,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:c}=_N(i,r),f=this.schedulers.ngZone.run(()=>u);return new mN(f,c,this)}collectionGroup(t,r){const i=r||(c=>c),u=this.firestore.collectionGroup(t);return new ZO(i(u),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new yN(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Us.Dh),h.LFG(Us.xv,8),h.LFG(KO,8),h.LFG(QO,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(vn.HU),h.LFG(YO,8),h.LFG(JO,8),h.LFG(Eg,8),h.LFG(g_,8),h.LFG(vg,8),h.LFG(FE,8),h.LFG(uu,8),h.LFG(m_,8),h.LFG(LE,8),h.LFG(pf,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),vN=(()=>{class n{constructor(t,r,i,u,c){this.afauth=t,this.afs=r,this.afAuth=i,this.router=u,this.ngZone=c,this.afauth.authState.subscribe(f=>{f?(this.userData=f,localStorage.setItem("user",JSON.stringify(this.userData)),JSON.parse(localStorage.getItem("user")),this.router.navigate(["home"])):(localStorage.setItem("user","null"),JSON.parse(localStorage.getItem("user")))})}login(t,r){var i=this;return(0,Ie.Z)(function*(){try{return yield i.afauth.signInWithEmailAndPassword(t,r)}catch(u){return console.log("Error en el Login",u),null}})()}loginWithGoogle(t,r){var i=this;return(0,Ie.Z)(function*(){try{return yield i.afauth.signInWithPopup(new dE.Z.auth.GoogleAuthProvider)}catch(u){return console.log("Error en el Login con Google:",u),null}})()}Logout(){return console.log("Saliendo.."),this.afauth.signOut().then(()=>{localStorage.removeItem("user"),this.router.navigate(["sign-in"])})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Eg),h.LFG(XO),h.LFG(Eg),h.LFG(Mr),h.LFG(h.R0b))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class FD{constructor(e,t,r,i){this.acerca=e,this.educacion=t,this.experiencia=r,this.hard=i}}class wN{}class EN{}class kc{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),u=i.toLowerCase(),c=t.slice(r+1).trim();this.maybeSetNormalizedName(i,u),this.headers.has(u)?this.headers.get(u).push(c):this.headers.set(u,[c])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof kc?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new kc;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof kc?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const u=e.value;if(u){let c=this.headers.get(t);if(!c)return;c=c.filter(f=>-1===u.indexOf(f)),0===c.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,c)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class ek{encodeKey(e){return IN(e)}encodeValue(e){return IN(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const nk=/%(\d[a-f0-9])/gi,rk={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function IN(n){return encodeURIComponent(n).replace(nk,(e,t)=>rk[t]??e)}function LD(n){return`${n}`}class mh{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new ek,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function tk(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const u=i.indexOf("="),[c,f]=-1==u?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,u)),e.decodeValue(i.slice(u+1))],y=t.get(c)||[];y.push(f),t.set(c,y)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(LD):[LD(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(u=>{t.push({param:r,value:u,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new mh({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(LD(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(LD(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class ik{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function DN(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function bN(n){return typeof Blob<"u"&&n instanceof Blob}function CN(n){return typeof FormData<"u"&&n instanceof FormData}class ww{constructor(e,t,r,i){let u;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function sk(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,u=i):u=r,u&&(this.reportProgress=!!u.reportProgress,this.withCredentials=!!u.withCredentials,u.responseType&&(this.responseType=u.responseType),u.headers&&(this.headers=u.headers),u.context&&(this.context=u.context),u.params&&(this.params=u.params)),this.headers||(this.headers=new kc),this.context||(this.context=new ik),this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=t;else{const f=t.indexOf("?");this.urlWithParams=t+(-1===f?"?":f<t.length-1?"&":"")+c}}else this.params=new mh,this.urlWithParams=t}serializeBody(){return null===this.body?null:DN(this.body)||bN(this.body)||CN(this.body)||function ok(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof mh?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||CN(this.body)?null:bN(this.body)?this.body.type||null:DN(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof mh?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,u=void 0!==e.body?e.body:this.body,c=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,f=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let y=e.headers||this.headers,E=e.params||this.params;const A=e.context??this.context;return void 0!==e.setHeaders&&(y=Object.keys(e.setHeaders).reduce((S,L)=>S.set(L,e.setHeaders[L]),y)),e.setParams&&(E=Object.keys(e.setParams).reduce((S,L)=>S.set(L,e.setParams[L]),E)),new ww(t,r,u,{params:E,headers:y,context:A,reportProgress:f,responseType:i,withCredentials:c})}}var Kr=(()=>((Kr=Kr||{})[Kr.Sent=0]="Sent",Kr[Kr.UploadProgress=1]="UploadProgress",Kr[Kr.ResponseHeader=2]="ResponseHeader",Kr[Kr.DownloadProgress=3]="DownloadProgress",Kr[Kr.Response=4]="Response",Kr[Kr.User=5]="User",Kr))();class zA{constructor(e,t=200,r="OK"){this.headers=e.headers||new kc,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class WA extends zA{constructor(e={}){super(e),this.type=Kr.ResponseHeader}clone(e={}){return new WA({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class VD extends zA{constructor(e={}){super(e),this.type=Kr.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new VD({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class TN extends zA{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function qA(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let AN=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let u;if(t instanceof ww)u=t;else{let y,E;y=i.headers instanceof kc?i.headers:new kc(i.headers),i.params&&(E=i.params instanceof mh?i.params:new mh({fromObject:i.params})),u=new ww(t,r,void 0!==i.body?i.body:null,{headers:y,context:i.context,params:E,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const c=ze(u).pipe(hs(y=>this.handler.handle(y)));if(t instanceof ww||"events"===i.observe)return c;const f=c.pipe(Ii(y=>y instanceof VD));switch(i.observe||"body"){case"body":switch(u.responseType){case"arraybuffer":return f.pipe((0,_t.U)(y=>{if(null!==y.body&&!(y.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return y.body}));case"blob":return f.pipe((0,_t.U)(y=>{if(null!==y.body&&!(y.body instanceof Blob))throw new Error("Response is not a Blob.");return y.body}));case"text":return f.pipe((0,_t.U)(y=>{if(null!==y.body&&"string"!=typeof y.body)throw new Error("Response is not a string.");return y.body}));default:return f.pipe((0,_t.U)(y=>y.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new mh).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,qA(i,r))}post(t,r,i={}){return this.request("POST",t,qA(i,r))}put(t,r,i={}){return this.request("PUT",t,qA(i,r))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(wN))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class SN{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const MN=new h.OlP("HTTP_INTERCEPTORS");let ak=(()=>{class n{intercept(t,r){return r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const uk=/^\)\]\}',?\n/;let xN=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new ei.y(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((B,q)=>i.setRequestHeader(B,q.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const B=t.detectContentTypeHeader();null!==B&&i.setRequestHeader("Content-Type",B)}if(t.responseType){const B=t.responseType.toLowerCase();i.responseType="json"!==B?B:"text"}const u=t.serializeBody();let c=null;const f=()=>{if(null!==c)return c;const B=i.statusText||"OK",q=new kc(i.getAllResponseHeaders()),de=function lk(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return c=new WA({headers:q,status:i.status,statusText:B,url:de}),c},y=()=>{let{headers:B,status:q,statusText:de,url:Te}=f(),We=null;204!==q&&(We=typeof i.response>"u"?i.responseText:i.response),0===q&&(q=We?200:0);let ct=q>=200&&q<300;if("json"===t.responseType&&"string"==typeof We){const It=We;We=We.replace(uk,"");try{We=""!==We?JSON.parse(We):null}catch(dt){We=It,ct&&(ct=!1,We={error:dt,text:We})}}ct?(r.next(new VD({body:We,headers:B,status:q,statusText:de,url:Te||void 0})),r.complete()):r.error(new TN({error:We,headers:B,status:q,statusText:de,url:Te||void 0}))},E=B=>{const{url:q}=f(),de=new TN({error:B,status:i.status||0,statusText:i.statusText||"Unknown Error",url:q||void 0});r.error(de)};let A=!1;const S=B=>{A||(r.next(f()),A=!0);let q={type:Kr.DownloadProgress,loaded:B.loaded};B.lengthComputable&&(q.total=B.total),"text"===t.responseType&&!!i.responseText&&(q.partialText=i.responseText),r.next(q)},L=B=>{let q={type:Kr.UploadProgress,loaded:B.loaded};B.lengthComputable&&(q.total=B.total),r.next(q)};return i.addEventListener("load",y),i.addEventListener("error",E),i.addEventListener("timeout",E),i.addEventListener("abort",E),t.reportProgress&&(i.addEventListener("progress",S),null!==u&&i.upload&&i.upload.addEventListener("progress",L)),i.send(u),r.next({type:Kr.Sent}),()=>{i.removeEventListener("error",E),i.removeEventListener("abort",E),i.removeEventListener("load",y),i.removeEventListener("timeout",E),t.reportProgress&&(i.removeEventListener("progress",S),null!==u&&i.upload&&i.upload.removeEventListener("progress",L)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(fr))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const ZA=new h.OlP("XSRF_COOKIE_NAME"),KA=new h.OlP("XSRF_HEADER_NAME");class NN{}let ck=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=pl(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(pe),h.LFG(h.Lbi),h.LFG(ZA))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),YA=(()=>{class n{constructor(t,r){this.tokenService=t,this.headerName=r}intercept(t,r){const i=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(t);const u=this.tokenService.getToken();return null!==u&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,u)})),r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(NN),h.LFG(KA))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),dk=(()=>{class n{constructor(t,r){this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=this.injector.get(MN,[]);this.chain=r.reduceRight((i,u)=>new SN(i,u),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(EN),h.LFG(h.zs3))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),hk=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:YA,useClass:ak}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:ZA,useValue:t.cookieName}:[],t.headerName?{provide:KA,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[YA,{provide:MN,useExisting:YA,multi:!0},{provide:NN,useClass:ck},{provide:ZA,useValue:"XSRF-TOKEN"},{provide:KA,useValue:"X-XSRF-TOKEN"}]}),n})(),fk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[AN,{provide:wN,useClass:dk},xN,{provide:EN,useExisting:xN}],imports:[hk.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),n})(),Ew=(()=>{class n{constructor(t){this.http=t,this.URL="http://localhost:8080/"}getPersona(){return this.http.get(this.URL+"buscar/1")}putForm(t){return this.http.put(this.URL+"editar/1",t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(AN))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),RN=(()=>{class n{constructor(t){this.personaService=t,this.persona=new FD("","","","")}ngOnInit(){this.personaService.getPersona().subscribe(t=>this.persona=t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Ew))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-acerca"]],decls:12,vars:1,consts:[["href","iniciar-sesion"],["src","assets/ico/boton-editar (2).png","alt","icono_editar",1,"icono_editar"],["href","https://w.../"],["src","assets/ico/boton-eliminar.png","alt","icono_eliminar",1,"icono_eliminar"],[1,"acerca"],[2,"text-align","left"]],template:function(t,r){1&t&&(h.TgZ(0,"a",0),h._UZ(1,"img",1),h.qZA(),h.TgZ(2,"a",2),h._UZ(3,"img",3),h.qZA(),h.TgZ(4,"div",4)(5,"div")(6,"h2",5),h._uU(7,"Acerca de\u2026 "),h.qZA()(),h.TgZ(8,"div")(9,"p"),h._uU(10),h.qZA(),h._UZ(11,"p"),h.qZA()()),2&t&&(h.xp6(10),h.hij(" ",r.persona.acerca," "))}}),n})(),PN=(()=>{class n{constructor(t){this.personaService=t,this.persona=new FD("","","","")}ngOnInit(){this.personaService.getPersona().subscribe(t=>this.persona=t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Ew))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-experiencia"]],decls:25,vars:1,consts:[["href","iniciar-sesion"],["src","assets/ico/boton-editar (2).png","alt","icono_editar",1,"icono_editar"],["href","https://w.../"],["src","assets/ico/boton-eliminar.png","alt","icono_eliminar",1,"icono_eliminar"],[1,"experiencia"],[2,"text-align","left"],[1,"container-fluid"],[1,"row","align-items-start"],[1,"col"],["src","assets/image/copitec.jpg",1,"copitec"],[1,"row","align-items-end"],["src","assets/image/cassa.webp",1,"cassa"]],template:function(t,r){1&t&&(h.TgZ(0,"a",0),h._UZ(1,"img",1),h.qZA(),h.TgZ(2,"a",2),h._UZ(3,"img",3),h.qZA(),h.TgZ(4,"div",4)(5,"div")(6,"h3",5),h._uU(7,"Experiencia... "),h.qZA()(),h.TgZ(8,"div",6)(9,"div",7)(10,"div",8)(11,"div"),h._UZ(12,"img",9),h._uU(13," Ingeniero "),h.qZA()(),h.TgZ(14,"div",8),h._uU(15," Soluciones de Ingenieria "),h.TgZ(16,"p"),h._uU(17),h.qZA()()(),h.TgZ(18,"div",10)(19,"div",8)(20,"div"),h._UZ(21,"img",11),h._uU(22," Docente en Colegio Cassaffousth "),h.qZA()(),h.TgZ(23,"div",8),h._uU(24," Electronica Digital IV "),h.qZA()()()()),2&t&&(h.xp6(17),h.Oqu(r.persona.experiencia))}}),n})(),ON=(()=>{class n{constructor(t){this.personaService=t,this.persona=new FD("","","","")}ngOnInit(){this.personaService.getPersona().subscribe(t=>this.persona=t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Ew))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-educacion"]],decls:25,vars:2,consts:[["href","iniciar-sesion"],["src","assets/ico/boton-editar (2).png","alt","icono_editar",1,"icono_editar"],["href","https://w.../"],["src","assets/ico/boton-eliminar.png","alt","icono_eliminar",1,"icono_eliminar"],[1,"educacion"],[2,"text-align","left"],[1,"container-fluid"],[1,"row","align-items-start"],[1,"col"],[1,"universidad",3,"src"],[1,"row","align-items-end"],["src","assets/image/enet.jpg",1,"escuela"]],template:function(t,r){1&t&&(h.TgZ(0,"a",0),h._UZ(1,"img",1),h.qZA(),h.TgZ(2,"a",2),h._UZ(3,"img",3),h.qZA(),h.TgZ(4,"div",4)(5,"div")(6,"h3",5),h._uU(7,"Educacion... "),h.qZA()(),h.TgZ(8,"div",6)(9,"div",7)(10,"div",8)(11,"div"),h._UZ(12,"img",9),h._uU(13," Ingeniero en Electronica "),h.qZA()(),h.TgZ(14,"div",8),h._uU(15," Universidad Tecnologica Nacional "),h.TgZ(16,"p"),h._uU(17),h.qZA()()(),h.TgZ(18,"div",10)(19,"div",8)(20,"div"),h._UZ(21,"img",11),h._uU(22," Enet N\xb0 1 "),h.qZA()(),h.TgZ(23,"div",8),h._uU(24," Tecnico Mecanico Electricista "),h.qZA()()()()),2&t&&(h.xp6(12),h.s9C("src",r.persona.educacion,h.LSH),h.xp6(5),h.hij(" ",r.persona.educacion,""))}}),n})(),kN=(()=>{class n{constructor(t){this.personaService=t,this.persona=new FD("","","","")}ngOnInit(){this.personaService.getPersona().subscribe(t=>this.persona=t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Ew))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-hard"]],decls:61,vars:0,consts:[[1,"skills"],[2,"text-align","left"],[1,"container"],[1,"text1"],["href","iniciar-sesion"],["src","assets/ico/boton-editar (2).png","alt","icono_editar",1,"icono_editar"],["href","https://w.../"],["src","assets/ico/boton-eliminar.png","alt","icono_eliminar",1,"icono_eliminar"],[1,"progress-bar","blue","stripes"],[2,"width","80%"],[1,"progress-bar","green","stripes"],[1,"progress-bar","orange","stripes"],[2,"width","60%"],[2,"width","50%"],[2,"width","55%"],[2,"width","90%"]],template:function(t,r){1&t&&(h.TgZ(0,"div",0)(1,"div")(2,"h3",1),h._uU(3,"Hard & Soft Skills... "),h.qZA()(),h.TgZ(4,"div",2)(5,"div",3),h._uU(6,"HTML"),h.qZA(),h.TgZ(7,"a",4),h._UZ(8,"img",5),h.qZA(),h.TgZ(9,"a",6),h._UZ(10,"img",7),h.qZA(),h.TgZ(11,"div",8),h._UZ(12,"span",9),h.qZA(),h.TgZ(13,"div",3),h._uU(14,"CSS"),h.qZA(),h.TgZ(15,"a",4),h._UZ(16,"img",5),h.qZA(),h.TgZ(17,"a",6),h._UZ(18,"img",7),h.qZA(),h.TgZ(19,"div",10),h._UZ(20,"span",9),h.qZA(),h.TgZ(21,"div",3),h._uU(22,"JS"),h.qZA(),h.TgZ(23,"a",4),h._UZ(24,"img",5),h.qZA(),h.TgZ(25,"a",6),h._UZ(26,"img",7),h.qZA(),h.TgZ(27,"div",11),h._UZ(28,"span",12),h.qZA(),h.TgZ(29,"div",3),h._uU(30,"BOOTSTRAP"),h.qZA(),h.TgZ(31,"a",4),h._UZ(32,"img",5),h.qZA(),h.TgZ(33,"a",6),h._UZ(34,"img",7),h.qZA(),h.TgZ(35,"div",8),h._UZ(36,"span",13),h.qZA(),h.TgZ(37,"div",3),h._uU(38,"JAVA"),h.qZA(),h.TgZ(39,"a",4),h._UZ(40,"img",5),h.qZA(),h.TgZ(41,"a",6),h._UZ(42,"img",7),h.qZA(),h.TgZ(43,"div",10),h._UZ(44,"span",13),h.qZA(),h.TgZ(45,"div",3),h._uU(46,"MYSQL"),h.qZA(),h.TgZ(47,"a",4),h._UZ(48,"img",5),h.qZA(),h.TgZ(49,"a",6),h._UZ(50,"img",7),h.qZA(),h.TgZ(51,"div",11),h._UZ(52,"span",14),h.qZA(),h.TgZ(53,"div",3),h._uU(54,"ANGULAR"),h.qZA(),h.TgZ(55,"a",4),h._UZ(56,"img",5),h.qZA(),h.TgZ(57,"a",6),h._UZ(58,"img",7),h.qZA(),h.TgZ(59,"div",8),h._UZ(60,"span",15),h.qZA()()())}}),n})(),FN=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-encabezado"]],decls:27,vars:0,consts:[["charset","UTF-8"],["http-equiv","X-UA-Compatible","content","IE=edge"],["name","viewport","content","width=device-width, initial-scale=1.0, maximum-scale=1,user-scalable=no"],[1,"logoArgentinaPrograma"],["src","assets/image/logo_argentina_programa.png","alt","logo_argentina_programa",1,"logo_argentina_programa"],["href","","routerLink","/iniciar-sesion"],["src","assets/ico/user.png","alt","icono_login",1,"icono_login"],["href","https://wa.me/543512305521"],["src","assets/ico/whatsapp_ico_negro.png","alt","icono_whatsapp",1,"icono_whatsapp"],["href","https://www.instagram.com/waltermartinrossi/"],["src","assets/ico/instagram_ico_negro.png","alt","icono_instagram",1,"icono_instagram"],["href","https://www.facebook.com/walter.rossi.127/"],["src","assets/ico/facebook_ico_negro.png","alt","icono_facebook",1,"icono_facebook"],["href",""],["src","assets/ico/play.png","alt","icono_play",1,"icono_play"],[1,"fondoWeb"],["src","assets/image/fondoWeb2.jpg","alt","fondoWeb"],[1,"container-fluid"],["src","https://i.im.ge/2022/08/20/OIzpJ0.Walter-Rossi.jpg","alt","imagenWalter","width","960","height","200",1,"rounded-circle"],[1,"nombrePostulante"]],template:function(t,r){1&t&&(h.TgZ(0,"head"),h._UZ(1,"meta",0)(2,"meta",1)(3,"meta",2),h.TgZ(4,"title"),h._uU(5," PORTFOLIO"),h.qZA()(),h.TgZ(6,"div",3),h._UZ(7,"img",4),h.qZA(),h.TgZ(8,"a",5),h._UZ(9,"img",6),h.qZA(),h.TgZ(10,"a",7),h._UZ(11,"img",8),h.qZA(),h.TgZ(12,"a",9),h._UZ(13,"img",10),h.qZA(),h.TgZ(14,"a",11),h._UZ(15,"img",12),h.qZA(),h.TgZ(16,"a",13),h._UZ(17,"img",14),h.qZA(),h.TgZ(18,"div",15),h._UZ(19,"img",16),h.qZA(),h.TgZ(20,"div",17),h._UZ(21,"img",18),h.qZA(),h.TgZ(22,"div")(23,"h2",19),h._uU(24,"Walter M. Rossi "),h.qZA()(),h._UZ(25,"div")(26,"div"))},dependencies:[Xp]}),n})(),pk=(()=>{class n{constructor(t,r){this.authService=t,this.router=r}home(){window.location.reload()}ngOnInit(){}Logout(){const t=(0,fd.n)();(0,fd.y)(t).then(()=>{console.log("Saliendo..")}).catch(r=>{})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(vN),h.Y36(Mr))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-home"]],decls:18,vars:0,consts:[["type","submit",1,"btn","btn-primary",3,"click"],[1,"lineas"]],template:function(t,r){1&t&&(h.TgZ(0,"div")(1,"button",0),h.NdJ("click",function(){return r.Logout()}),h._uU(2,"Logout"),h.qZA()(),h._UZ(3,"app-encabezado"),h.TgZ(4,"div",1),h._UZ(5,"hr"),h.qZA(),h._UZ(6,"app-acerca"),h.TgZ(7,"div",1),h._UZ(8,"hr"),h.qZA(),h._UZ(9,"app-experiencia"),h.TgZ(10,"div",1),h._UZ(11,"hr"),h.qZA(),h._UZ(12,"app-educacion"),h.TgZ(13,"div",1),h._UZ(14,"hr"),h.qZA(),h._UZ(15,"app-hard"),h.TgZ(16,"div",1),h._UZ(17,"hr"),h.qZA())},dependencies:[RN,PN,ON,kN,FN]}),n})(),LN=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.Qsj),h.Y36(h.SBq))},n.\u0275dir=h.lG2({type:n}),n})(),fp=(()=>{class n extends LN{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275dir=h.lG2({type:n,features:[h.qOj]}),n})();const cl=new h.OlP("NgValueAccessor"),yk={provide:cl,useExisting:(0,h.Gpc)(()=>Iw),multi:!0},vk=new h.OlP("CompositionEventMode");let Iw=(()=>{class n extends LN{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function _k(){const n=R()?R().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(vk,8))},n.\u0275dir=h.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&h.NdJ("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[h._Bn([yk]),h.qOj]}),n})();const es=new h.OlP("NgValidators"),_h=new h.OlP("NgAsyncValidators");function ZN(n){return null!=n}function KN(n){return(0,h.QGY)(n)?(0,cn.D)(n):n}function YN(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function QN(n,e){return e.map(t=>t(n))}function JN(n){return n.map(e=>function Ik(n){return!n.validate}(e)?e:t=>e.validate(t))}function QA(n){return null!=n?function XN(n){if(!n)return null;const e=n.filter(ZN);return 0==e.length?null:function(t){return YN(QN(t,e))}}(JN(n)):null}function JA(n){return null!=n?function eR(n){if(!n)return null;const e=n.filter(ZN);return 0==e.length?null:function(t){return function gk(...n){const e=(0,Jo.jO)(n),{args:t,keys:r}=Xo(n),i=new ei.y(u=>{const{length:c}=t;if(!c)return void u.complete();const f=new Array(c);let y=c,E=c;for(let A=0;A<c;A++){let S=!1;(0,ds.Xf)(t[A]).subscribe((0,Dn.x)(u,L=>{S||(S=!0,E--),f[A]=L},()=>y--,void 0,()=>{(!y||!S)&&(E||u.next(r?Ml(r,f):f),u.complete())}))}});return e?i.pipe(po(e)):i}(QN(t,e).map(KN)).pipe((0,_t.U)(YN))}}(JN(n)):null}function tR(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function nR(n){return n._rawValidators}function rR(n){return n._rawAsyncValidators}function XA(n){return n?Array.isArray(n)?n:[n]:[]}function BD(n,e){return Array.isArray(n)?n.includes(e):n===e}function iR(n,e){const t=XA(e);return XA(n).forEach(i=>{BD(t,i)||t.push(i)}),t}function sR(n,e){return XA(e).filter(t=>!BD(n,t))}class oR{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=QA(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=JA(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Ts extends oR{get formDirective(){return null}get path(){return null}}class vh extends oR{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class aR{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let eS=(()=>{class n extends aR{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(vh,2))},n.\u0275dir=h.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&h.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[h.qOj]}),n})(),uR=(()=>{class n extends aR{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Ts,10))},n.\u0275dir=h.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&h.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[h.qOj]}),n})();const Dw="VALID",$D="INVALID",Xm="PENDING",bw="DISABLED";function iS(n){return(HD(n)?n.validators:n)||null}function cR(n){return Array.isArray(n)?QA(n):n||null}function sS(n,e){return(HD(e)?e.asyncValidators:n)||null}function dR(n){return Array.isArray(n)?JA(n):n||null}function HD(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class pR{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=cR(this._rawValidators),this._composedAsyncValidatorFn=dR(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Dw}get invalid(){return this.status===$D}get pending(){return this.status==Xm}get disabled(){return this.status===bw}get enabled(){return this.status!==bw}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=cR(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=dR(e)}addValidators(e){this.setValidators(iR(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(iR(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(sR(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(sR(e,this._rawAsyncValidators))}hasValidator(e){return BD(this._rawValidators,e)}hasAsyncValidator(e){return BD(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Xm,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=bw,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Dw,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Dw||this.status===Xm)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?bw:Dw}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Xm,this._hasOwnPendingAsyncValidator=!0;const t=KN(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new h.vpe,this.statusChanges=new h.vpe}_calculateStatus(){return this._allControlsDisabled()?bw:this.errors?$D:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Xm)?Xm:this._anyControlsHaveStatus($D)?$D:Dw}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){HD(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class GD extends pR{constructor(e,t,r){super(iS(t),sS(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function fR(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new h.vHH(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function hR(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new h.vHH(1e3,"");if(!r[t])throw new h.vHH(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,u)=>{r=t(r,i,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}function zD(n,e){return[...e.path,n]}function Cw(n,e){oS(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function Nk(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&gR(n,e)})}(n,e),function Pk(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Rk(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&gR(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function xk(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function WD(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),ZD(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function qD(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function oS(n,e){const t=nR(n);null!==e.validator?n.setValidators(tR(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=rR(n);null!==e.asyncValidator?n.setAsyncValidators(tR(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();qD(e._rawValidators,i),qD(e._rawAsyncValidators,i)}function ZD(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=nR(n);if(Array.isArray(i)&&i.length>0){const u=i.filter(c=>c!==e.validator);u.length!==i.length&&(t=!0,n.setValidators(u))}}if(null!==e.asyncValidator){const i=rR(n);if(Array.isArray(i)&&i.length>0){const u=i.filter(c=>c!==e.asyncValidator);u.length!==i.length&&(t=!0,n.setAsyncValidators(u))}}}const r=()=>{};return qD(e._rawValidators,r),qD(e._rawAsyncValidators,r),t}function gR(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function aS(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function uS(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(u=>{u.constructor===Iw?t=u:function Fk(n){return Object.getPrototypeOf(n.constructor)===fp}(u)?r=u:i=u}),i||r||t||null}function vR(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function wR(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const ey=class extends pR{constructor(e=null,t,r){super(iS(t),sS(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),HD(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=wR(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){vR(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){vR(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){wR(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},jk={provide:vh,useExisting:(0,h.Gpc)(()=>cS)},DR=(()=>Promise.resolve(null))();let cS=(()=>{class n extends vh{constructor(t,r,i,u,c){super(),this._changeDetectorRef=c,this.control=new ey,this._registered=!1,this.update=new h.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=uS(0,u)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),aS(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Cw(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){DR.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&(0,h.D6c)(r);DR.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?zD(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Ts,9),h.Y36(es,10),h.Y36(_h,10),h.Y36(cl,10),h.Y36(h.sBO,8))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[h._Bn([jk]),h.qOj,h.TTD]}),n})(),bR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),TR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();const dS=new h.OlP("NgModelWithFormControlWarning"),qk={provide:Ts,useExisting:(0,h.Gpc)(()=>KD)};let KD=(()=>{class n extends Ts{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new h.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ZD(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Cw(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){WD(t.control||null,t,!1),function Lk(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function _R(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(WD(r||null,t),(n=>n instanceof ey)(i)&&(Cw(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function mR(n,e){oS(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function Ok(n,e){return ZD(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){oS(this.form,this),this._oldForm&&ZD(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(es,10),h.Y36(_h,10))},n.\u0275dir=h.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&h.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[h._Bn([qk]),h.qOj,h.TTD]}),n})();const Yk={provide:vh,useExisting:(0,h.Gpc)(()=>pS)};let pS=(()=>{class n extends vh{constructor(t,r,i,u,c){super(),this._ngModelWarningConfig=c,this._added=!1,this.update=new h.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=uS(0,u)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),aS(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return zD(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(h.Y36(Ts,13),h.Y36(es,10),h.Y36(_h,10),h.Y36(cl,10),h.Y36(dS,8))},n.\u0275dir=h.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[h._Bn([Yk]),h.qOj,h.TTD]}),n})(),$R=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[TR]}),n})(),dF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[$R]}),n})(),hF=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:dS,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[$R]}),n})(),pF=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-navbar"]],decls:7,vars:0,consts:[["type","submit",1,"btn","btn-outline-success","my-2","my-sm-0"]],template:function(t,r){1&t&&(h.TgZ(0,"nav")(1,"div")(2,"button",0),h._uU(3,"LOG IN"),h.qZA()(),h.TgZ(4,"div")(5,"button",0),h._uU(6,"LOG OUT"),h.qZA()()())}}),n})(),gF=(()=>{class n{constructor(t,r){this.authService=t,this.router=r,this.usuario={email:"",password:""}}Ingresar(){console.log(this.usuario);const{email:t,password:r}=this.usuario;this.authService.login(t,r).then(i=>{console.log("Se logueo: ",i)})}Logout(){const t=(0,fd.n)();(0,fd.y)(t).then(()=>{console.log("Saliendo..")}).catch(r=>{})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(vN),h.Y36(Mr))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-iniciar-sesion"]],decls:17,vars:2,consts:[[1,"container"],[1,"m-5"],[1,"mb-3"],["for","exampleInputEmail1",1,"form-label"],["type","email","id","exampleInputEmail1","aria-describedby","emailHelp",1,"form-control",3,"ngModel","ngModelChange"],["for","exampleInputPassword1",1,"form-label"],["type","password","id","exampleInputPassword1",1,"form-control",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-primary",3,"click"]],template:function(t,r){1&t&&(h._UZ(0,"app-navbar"),h.TgZ(1,"div",0)(2,"h1",1),h._uU(3,"INICIAR SESION"),h.qZA(),h.TgZ(4,"div",2)(5,"label",3),h._uU(6,"e-mail"),h.qZA(),h.TgZ(7,"input",4),h.NdJ("ngModelChange",function(u){return r.usuario.email=u}),h.qZA()(),h.TgZ(8,"div",2)(9,"label",5),h._uU(10,"Password"),h.qZA(),h.TgZ(11,"input",6),h.NdJ("ngModelChange",function(u){return r.usuario.password=u}),h.qZA()(),h.TgZ(12,"button",7),h.NdJ("click",function(){return r.Ingresar()}),h._uU(13,"Enviar"),h.qZA(),h._UZ(14,"div"),h.TgZ(15,"button",7),h.NdJ("click",function(){return r.Logout()}),h._uU(16,"Logout"),h.qZA()()),2&t&&(h.xp6(7),h.Q6J("ngModel",r.usuario.email),h.xp6(4),h.Q6J("ngModel",r.usuario.password))},dependencies:[Iw,eS,cS,pF]}),n})(),mF=(()=>{class n{constructor(t,r){this.api=t,this.route=r,this.acercaForm=new GD({acerca:new ey(""),educacion:new ey(""),experiencia:new ey(""),hardsoft:new ey("")})}ngOnInit(){}putForm(t){this.api.putForm(t).subscribe(r=>{console.log(r)}),console.log(t)}Ir_a_home(){console.log("redirige a ir a home para seguir editando"),this.route.navigateByUrl("/home")}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Ew),h.Y36(Mr))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-modal-acerca"]],decls:32,vars:1,consts:[["type","button","data-bs-toggle","modal","data-bs-target","#exampleModal",1,"btn","btn-primary"],[1,"container"],[3,"formGroup","ngSubmit"],[1,"formGroup"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],["for","exampleFormControlTextarea1",1,"form-label"],["type","text","id","exampleFormControlTextarea1","rows","3","formControlName","acerca",1,"form-control"],["type","text","id","exampleFormControlTextarea1","rows","3","formControlName","educacion",1,"form-control"],["type","text","id","exampleFormControlTextarea1","rows","3","formControlName","experiencia",1,"form-control"],["type","text","id","exampleFormControlTextarea1","rows","3","formControlName","hardsoft",1,"form-control"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","submit",1,"btn","btn-primary"],["type","submit",1,"btn","btn-primary",3,"click"]],template:function(t,r){1&t&&(h.TgZ(0,"button",0),h._uU(1," Editar Acerca de.. "),h.qZA(),h.TgZ(2,"div",1)(3,"form",2),h.NdJ("ngSubmit",function(){return r.putForm(r.acercaForm.value)}),h.TgZ(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"h5",8),h._uU(10,"Acerca de.."),h.qZA(),h._UZ(11,"button",9),h.qZA(),h.TgZ(12,"div",10)(13,"label",11),h._uU(14,"Acerca de:"),h.qZA(),h._UZ(15,"input",12),h.TgZ(16,"label",11),h._uU(17,"Educacion:"),h.qZA(),h._UZ(18,"input",13),h.TgZ(19,"label",11),h._uU(20,"Experiencia:"),h.qZA(),h._UZ(21,"input",14),h.TgZ(22,"label",11),h._uU(23,"HardSoft:"),h.qZA(),h._UZ(24,"input",15),h.qZA(),h.TgZ(25,"div",16)(26,"button",17),h._uU(27,"Cerrar"),h.qZA(),h.TgZ(28,"button",18),h._uU(29,"Guardar Cambios"),h.qZA(),h.TgZ(30,"button",19),h.NdJ("click",function(){return r.Ir_a_home()}),h._uU(31,"Ir a Inicio"),h.qZA()()()()()()()()),2&t&&(h.xp6(3),h.Q6J("formGroup",r.acercaForm))},dependencies:[bR,Iw,eS,uR,KD,pS]}),n})(),yF=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-compo1"]],decls:2,vars:0,template:function(t,r){1&t&&(h.TgZ(0,"p"),h._uU(1," compo1 works! "),h.qZA())}}),n})();const _F=[{path:"portfolio",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-portfolio"]],decls:23,vars:0,consts:[[1,"lineas"],[1,"btn","btn-danger"],["controls",""],["src","../assets/Music/M\xfasica de Fondo Instrumental Inspiradora.mp3","type","audio/mpeg"]],template:function(t,r){1&t&&(h._UZ(0,"app-encabezado"),h.TgZ(1,"div",0),h._UZ(2,"hr"),h.qZA(),h._UZ(3,"app-acerca"),h.TgZ(4,"div",0),h._UZ(5,"hr"),h.qZA(),h._UZ(6,"app-experiencia"),h.TgZ(7,"div",0),h._UZ(8,"hr"),h.qZA(),h._UZ(9,"app-educacion"),h.TgZ(10,"div",0),h._UZ(11,"hr"),h.qZA(),h._UZ(12,"app-hard"),h.TgZ(13,"div",0),h._UZ(14,"hr"),h.qZA(),h.TgZ(15,"div",0),h._UZ(16,"hr"),h.qZA(),h.TgZ(17,"button",1),h._uU(18,"PRUEBA"),h.qZA(),h._UZ(19,"h1")(20,"app-compo1"),h.TgZ(21,"audio",2),h._UZ(22,"source",3),h.qZA())},dependencies:[yF,RN,PN,ON,kN,FN]}),n})()},{path:"iniciar-sesion",component:gF},{path:"home",component:pk},{path:"modal-acerca",component:mF},{path:"skills",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-skills"]],decls:2,vars:0,template:function(t,r){1&t&&(h.TgZ(0,"h1"),h._uU(1,"Skills"),h.qZA())},styles:[".example-h2[_ngcontent-%COMP%]{margin:10px}.example-section[_ngcontent-%COMP%]{display:flex;align-content:center;align-items:center;height:60px}.example-margin[_ngcontent-%COMP%]{margin:0 10px}"]}),n})()}];let vF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[aE.forRoot(_F),aE]}),n})(),wF=(()=>{class n{constructor(){this.title="Portfolio",this.nombre="Walter",this.apellido="Rossi"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-root"]],decls:2,vars:0,template:function(t,r){1&t&&(h.TgZ(0,"div"),h._UZ(1,"router-outlet"),h.qZA())},dependencies:[yy]}),n})();class HR{}const Fc="*";function GR(n,e=null){return{type:2,steps:n,options:e}}function zR(n){return{type:6,styles:n,offset:null}}function WR(n){Promise.resolve(null).then(n)}class Aw{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){WR(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class qR{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const u=this.players.length;0==u?WR(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++t==u&&this._onFinish()}),c.onDestroy(()=>{++r==u&&this._onDestroy()}),c.onStart(()=>{++i==u&&this._onStart()})}),this.totalTime=this.players.reduce((c,f)=>Math.max(c,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}function ZR(n){return new h.vHH(3e3,!1)}function nL(){return typeof window<"u"&&typeof window.document<"u"}function vS(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function wh(n){switch(n.length){case 0:return new Aw;case 1:return n[0];default:return new qR(n)}}function KR(n,e,t,r,i=new Map,u=new Map){const c=[],f=[];let y=-1,E=null;if(r.forEach(A=>{const S=A.get("offset"),L=S==y,B=L&&E||new Map;A.forEach((q,de)=>{let Te=de,We=q;if("offset"!==de)switch(Te=e.normalizePropertyName(Te,c),We){case"!":We=i.get(de);break;case Fc:We=u.get(de);break;default:We=e.normalizeStyleValue(de,Te,We,c)}B.set(Te,We)}),L||f.push(B),E=B,y=S}),c.length)throw function GF(n){return new h.vHH(3502,!1)}();return f}function wS(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&ES(t,"start",n)));break;case"done":n.onDone(()=>r(t&&ES(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&ES(t,"destroy",n)))}}function ES(n,e,t){const u=IS(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),c=n._data;return null!=c&&(u._data=c),u}function IS(n,e,t,r,i="",u=0,c){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:u,disabled:!!c}}function Mo(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function YR(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let DS=(n,e)=>!1,QR=(n,e,t)=>[],JR=null;function bS(n){const e=n.parentNode||n.host;return e===JR?null:e}(vS()||typeof Element<"u")&&(nL()?(JR=(()=>document.documentElement)(),DS=(n,e)=>{for(;e;){if(e===n)return!0;e=bS(e)}return!1}):DS=(n,e)=>n.contains(e),QR=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let gp=null,XR=!1;const eP=DS,tP=QR;let nP=(()=>{class n{validateStyleProperty(t){return function iL(n){gp||(gp=function sL(){return typeof document<"u"?document.body:null}()||{},XR=!!gp.style&&"WebkitAppearance"in gp.style);let e=!0;return gp.style&&!function rL(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in gp.style,!e&&XR&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in gp.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return eP(t,r)}getParentElement(t){return bS(t)}query(t,r,i){return tP(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,u,c,f=[],y){return new Aw(i,u)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),CS=(()=>{class n{}return n.NOOP=new nP,n})();const TS="ng-enter",YD="ng-leave",QD="ng-trigger",JD=".ng-trigger",iP="ng-animating",AS=".ng-animating";function Eh(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:SS(parseFloat(e[1]),e[2])}function SS(n,e){return"s"===e?1e3*n:n}function XD(n,e,t){return n.hasOwnProperty("duration")?n:function uL(n,e,t){let i,u=0,c="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(ZR()),{duration:0,delay:0,easing:""};i=SS(parseFloat(f[1]),f[2]);const y=f[3];null!=y&&(u=SS(parseFloat(y),f[4]));const E=f[5];E&&(c=E)}else i=n;if(!t){let f=!1,y=e.length;i<0&&(e.push(function IF(){return new h.vHH(3100,!1)}()),f=!0),u<0&&(e.push(function DF(){return new h.vHH(3101,!1)}()),f=!0),f&&e.splice(y,0,ZR())}return{duration:i,delay:u,easing:c}}(n,e,t)}function Sw(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function sP(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Ih(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function aP(n,e,t){return t?e+":"+t+";":""}function uP(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=aP(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=aP(0,hL(t),n.style[t]));n.setAttribute("style",e)}function dl(n,e,t){n.style&&(e.forEach((r,i)=>{const u=xS(i);t&&!t.has(i)&&t.set(i,n.style[u]),n.style[u]=r}),vS()&&uP(n))}function mp(n,e){n.style&&(e.forEach((t,r)=>{const i=xS(r);n.style[i]=""}),vS()&&uP(n))}function Mw(n){return Array.isArray(n)?1==n.length?n[0]:GR(n):n}const MS=new RegExp("{{\\s*(.+?)\\s*}}","g");function lP(n){let e=[];if("string"==typeof n){let t;for(;t=MS.exec(n);)e.push(t[1]);MS.lastIndex=0}return e}function eb(n,e,t){const r=n.toString(),i=r.replace(MS,(u,c)=>{let f=e[c];return null==f&&(t.push(function CF(n){return new h.vHH(3003,!1)}()),f=""),f.toString()});return i==r?n:i}function tb(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const dL=/-+([a-z0-9])/g;function xS(n){return n.replace(dL,(...e)=>e[1].toUpperCase())}function hL(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function xo(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function TF(n){return new h.vHH(3004,!1)}()}}function cP(n,e){return window.getComputedStyle(n)[e]}function _L(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function vL(n,e,t){if(":"==n[0]){const y=function wL(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function BF(n){return new h.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof y)return void e.push(y);n=y}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function UF(n){return new h.vHH(3015,!1)}()),e;const i=r[1],u=r[2],c=r[3];e.push(dP(i,c));"<"==u[0]&&!("*"==i&&"*"==c)&&e.push(dP(c,i))}(r,t,e)):t.push(n),t}const sb=new Set(["true","1"]),ob=new Set(["false","0"]);function dP(n,e){const t=sb.has(n)||ob.has(n),r=sb.has(e)||ob.has(e);return(i,u)=>{let c="*"==n||n==i,f="*"==e||e==u;return!c&&t&&"boolean"==typeof i&&(c=i?sb.has(n):ob.has(n)),!f&&r&&"boolean"==typeof u&&(f=u?sb.has(e):ob.has(e)),c&&f}}const EL=new RegExp("s*:selfs*,?","g");function NS(n,e,t,r){return new IL(n).build(e,t,r)}class IL{constructor(e){this._driver=e}build(e,t,r){const i=new CL(t);return this._resetContextStyleTimingState(i),xo(this,Mw(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const u=[],c=[];return"@"==e.name.charAt(0)&&t.errors.push(function SF(){return new h.vHH(3006,!1)}()),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const y=f,E=y.name;E.toString().split(/\s*,\s*/).forEach(A=>{y.name=A,u.push(this.visitState(y,t))}),y.name=E}else if(1==f.type){const y=this.visitTransition(f,t);r+=y.queryCount,i+=y.depCount,c.push(y)}else t.errors.push(function MF(){return new h.vHH(3007,!1)}())}),{type:7,name:e.name,states:u,transitions:c,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const u=new Set,c=i||{};r.styles.forEach(f=>{f instanceof Map&&f.forEach(y=>{lP(y).forEach(E=>{c.hasOwnProperty(E)||u.add(E)})})}),u.size&&(tb(u.values()),t.errors.push(function xF(n,e){return new h.vHH(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=xo(this,Mw(e.animation),t);return{type:1,matchers:_L(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:yp(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>xo(this,r,t)),options:yp(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const u=e.steps.map(c=>{t.currentTime=r;const f=xo(this,c,t);return i=Math.max(i,t.currentTime),f});return t.currentTime=i,{type:3,steps:u,options:yp(e.options)}}visitAnimate(e,t){const r=function AL(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return RS(XD(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(u=>"{"==u.charAt(0)&&"{"==u.charAt(1))){const u=RS(0,0,"");return u.dynamic=!0,u.strValue=t,u}const i=XD(t,e);return RS(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,u=e.styles?e.styles:zR({});if(5==u.type)i=this.visitKeyframes(u,t);else{let c=e.styles,f=!1;if(!c){f=!0;const E={};r.easing&&(E.easing=r.easing),c=zR(E)}t.currentTime+=r.duration+r.delay;const y=this.visitStyle(c,t);y.isEmptyStep=f,i=y}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let f of i)"string"==typeof f?f===Fc?r.push(f):t.errors.push(new h.vHH(3002,!1)):r.push(sP(f));let u=!1,c=null;return r.forEach(f=>{if(f instanceof Map&&(f.has("easing")&&(c=f.get("easing"),f.delete("easing")),!u))for(let y of f.values())if(y.toString().indexOf("{{")>=0){u=!0;break}}),{type:6,styles:r,easing:c,offset:e.offset,containsDynamicStyles:u,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,u=t.currentTime;r&&u>0&&(u-=r.duration+r.delay),e.styles.forEach(c=>{"string"!=typeof c&&c.forEach((f,y)=>{const E=t.collectedStyles.get(t.currentQuerySelector),A=E.get(y);let S=!0;A&&(u!=i&&u>=A.startTime&&i<=A.endTime&&(t.errors.push(function RF(n,e,t,r,i){return new h.vHH(3010,!1)}()),S=!1),u=A.startTime),S&&E.set(y,{startTime:u,endTime:i}),t.options&&function cL(n,e,t){const r=e.params||{},i=lP(n);i.length&&i.forEach(u=>{r.hasOwnProperty(u)||t.push(function bF(n){return new h.vHH(3001,!1)}())})}(f,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function PF(){return new h.vHH(3011,!1)}()),r;let u=0;const c=[];let f=!1,y=!1,E=0;const A=e.steps.map(We=>{const ct=this._makeStyleAst(We,t);let It=null!=ct.offset?ct.offset:function TL(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(ct.styles),dt=0;return null!=It&&(u++,dt=ct.offset=It),y=y||dt<0||dt>1,f=f||dt<E,E=dt,c.push(dt),ct});y&&t.errors.push(function OF(){return new h.vHH(3012,!1)}()),f&&t.errors.push(function kF(){return new h.vHH(3200,!1)}());const S=e.steps.length;let L=0;u>0&&u<S?t.errors.push(function FF(){return new h.vHH(3202,!1)}()):0==u&&(L=1/(S-1));const B=S-1,q=t.currentTime,de=t.currentAnimateTimings,Te=de.duration;return A.forEach((We,ct)=>{const It=L>0?ct==B?1:L*ct:c[ct],dt=It*Te;t.currentTime=q+de.delay+dt,de.duration=dt,this._validateStyleAst(We,t),We.offset=It,r.styles.push(We)}),r}visitReference(e,t){return{type:8,animation:xo(this,Mw(e.animation),t),options:yp(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:yp(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:yp(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[u,c]=function DL(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(EL,"")),n=n.replace(/@\*/g,JD).replace(/@\w+/g,t=>JD+"-"+t.slice(1)).replace(/:animating/g,AS),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+u:u,Mo(t.collectedStyles,t.currentQuerySelector,new Map);const f=xo(this,Mw(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:u,limit:i.limit||0,optional:!!i.optional,includeSelf:c,animation:f,originalSelector:e.selector,options:yp(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function LF(){return new h.vHH(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:XD(e.timings,t.errors,!0);return{type:12,animation:xo(this,Mw(e.animation),t),timings:r,options:null}}}class CL{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function yp(n){return n?(n=Sw(n)).params&&(n.params=function bL(n){return n?Sw(n):null}(n.params)):n={},n}function RS(n,e,t){return{duration:n,delay:e,easing:t}}function PS(n,e,t,r,i,u,c=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:u,totalTime:i+u,easing:c,subTimeline:f}}class ab{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const xL=new RegExp(":enter","g"),RL=new RegExp(":leave","g");function OS(n,e,t,r,i,u=new Map,c=new Map,f,y,E=[]){return(new PL).buildKeyframes(n,e,t,r,i,u,c,f,y,E)}class PL{buildKeyframes(e,t,r,i,u,c,f,y,E,A=[]){E=E||new ab;const S=new kS(e,t,E,i,u,A,[]);S.options=y;const L=y.delay?Eh(y.delay):0;S.currentTimeline.delayNextStep(L),S.currentTimeline.setStyles([c],null,S.errors,y),xo(this,r,S);const B=S.timelines.filter(q=>q.containsAnimation());if(B.length&&f.size){let q;for(let de=B.length-1;de>=0;de--){const Te=B[de];if(Te.element===t){q=Te;break}}q&&!q.allowOnlyTimelineStyles()&&q.setStyles([f],null,S.errors,y)}return B.length?B.map(q=>q.buildKeyframes()):[PS(t,[],[],[],0,L,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),u=t.currentTimeline.currentTime,c=this._visitSubInstructions(r,i,i.options);u!=c&&t.transformIntoNewTimeline(c)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let u=t.currentTimeline.currentTime;const c=null!=r.duration?Eh(r.duration):null,f=null!=r.delay?Eh(r.delay):null;return 0!==c&&e.forEach(y=>{const E=t.appendInstructionToTimeline(y,c,f);u=Math.max(u,E.duration+E.delay)}),u}visitReference(e,t){t.updateOptions(e.options,!0),xo(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const u=e.options;if(u&&(u.params||u.delay)&&(i=t.createSubContext(u),i.transformIntoNewTimeline(),null!=u.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=ub);const c=Eh(u.delay);i.delayNextStep(c)}e.steps.length&&(e.steps.forEach(c=>xo(this,c,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const u=e.options&&e.options.delay?Eh(e.options.delay):0;e.steps.forEach(c=>{const f=t.createSubContext(e.options);u&&f.delayNextStep(u),xo(this,c,f),i=Math.max(i,f.currentTimeline.currentTime),r.push(f.currentTimeline)}),r.forEach(c=>t.currentTimeline.mergeTimelineCollectedStyles(c)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return XD(t.params?eb(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const u=e.style;5==u.type?this.visitKeyframes(u,t):(t.incrementTime(r.duration),this.visitStyle(u,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const u=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(u):r.setStyles(e.styles,u,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,u=r.duration,f=t.createSubContext().currentTimeline;f.easing=r.easing,e.styles.forEach(y=>{f.forwardTime((y.offset||0)*u),f.setStyles(y.styles,y.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(i+u),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},u=i.delay?Eh(i.delay):0;u&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=ub);let c=r;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=f.length;let y=null;f.forEach((E,A)=>{t.currentQueryIndex=A;const S=t.createSubContext(e.options,E);u&&S.delayNextStep(u),E===t.element&&(y=S.currentTimeline),xo(this,e.animation,S),S.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,S.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(c),y&&(t.currentTimeline.mergeTimelineCollectedStyles(y),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,u=e.timings,c=Math.abs(u.duration),f=c*(t.currentQueryTotal-1);let y=c*t.currentQueryIndex;switch(u.duration<0?"reverse":u.easing){case"reverse":y=f-y;break;case"full":y=r.currentStaggerTime}const A=t.currentTimeline;y&&A.delayNextStep(y);const S=A.currentTime;xo(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-S+(i.startTime-r.currentTimeline.startTime)}}const ub={};class kS{constructor(e,t,r,i,u,c,f,y){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=u,this.errors=c,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ub,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=y||new lb(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Eh(r.duration)),null!=r.delay&&(i.delay=Eh(r.delay));const u=r.params;if(u){let c=i.params;c||(c=this.options.params={}),Object.keys(u).forEach(f=>{(!t||!c.hasOwnProperty(f))&&(c[f]=eb(u[f],c,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,u=new kS(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return u.previousNode=this.previousNode,u.currentAnimateTimings=this.currentAnimateTimings,u.options=this._copyOptions(),u.updateOptions(e),u.currentQueryIndex=this.currentQueryIndex,u.currentQueryTotal=this.currentQueryTotal,u.parentContext=this,this.subContextCount++,u}transformIntoNewTimeline(e){return this.previousNode=ub,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},u=new OL(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(u),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,u,c){let f=[];if(i&&f.push(this.element),e.length>0){e=(e=e.replace(xL,"."+this._enterClassName)).replace(RL,"."+this._leaveClassName);let E=this._driver.query(this.element,e,1!=r);0!==r&&(E=r<0?E.slice(E.length+r,E.length):E.slice(0,r)),f.push(...E)}return!u&&0==f.length&&c.push(function VF(n){return new h.vHH(3014,!1)}()),f}}class lb{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new lb(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||Fc),this._currentKeyframe.set(t,Fc);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const u=i&&i.params||{},c=function kL(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let u of r)t.set(u,Fc)}else Ih(i,t)}),t}(e,this._globalTimelineStyles);for(let[f,y]of c){const E=eb(y,u,r);this._pendingStyles.set(f,E),this._localTimelineStyles.has(f)||this._backFill.set(f,this._globalTimelineStyles.get(f)??Fc),this._updateStyle(f,E)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((f,y)=>{const E=Ih(f,new Map,this._backFill);E.forEach((A,S)=>{"!"===A?e.add(S):A===Fc&&t.add(S)}),r||E.set("offset",y/this.duration),i.push(E)});const u=e.size?tb(e.values()):[],c=t.size?tb(t.values()):[];if(r){const f=i[0],y=new Map(f);f.set("offset",0),y.set("offset",1),i=[f,y]}return PS(this.element,i,u,c,this.duration,this.startTime,this.easing,!1)}}class OL extends lb{constructor(e,t,r,i,u,c,f=!1){super(e,t,c.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=u,this._stretchStartingKeyframe=f,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const u=[],c=r+t,f=t/c,y=Ih(e[0]);y.set("offset",0),u.push(y);const E=Ih(e[0]);E.set("offset",pP(f)),u.push(E);const A=e.length-1;for(let S=1;S<=A;S++){let L=Ih(e[S]);const B=L.get("offset");L.set("offset",pP((t+B*r)/c)),u.push(L)}r=c,t=0,i="",e=u}return PS(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function pP(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class FS{}const FL=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class LL extends FS{normalizePropertyName(e,t){return xS(e)}normalizeStyleValue(e,t,r,i){let u="";const c=r.toString().trim();if(FL.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)u="px";else{const f=r.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&i.push(function AF(n,e){return new h.vHH(3005,!1)}())}return c+u}}function gP(n,e,t,r,i,u,c,f,y,E,A,S,L){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:u,toState:r,toStyles:c,timelines:f,queriedElements:y,preStyleProps:E,postStyleProps:A,totalTime:S,errors:L}}const LS={};class mP{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function VL(n,e,t,r,i){return n.some(u=>u(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,u,c,f,y,E,A){const S=[],L=this.ast.options&&this.ast.options.params||LS,q=this.buildStyles(r,f&&f.params||LS,S),de=y&&y.params||LS,Te=this.buildStyles(i,de,S),We=new Set,ct=new Map,It=new Map,dt="void"===i,Nt={params:UL(de,L),delay:this.ast.options?.delay},Ft=A?[]:OS(e,t,this.ast.animation,u,c,q,Te,Nt,E,S);let fn=0;if(Ft.forEach(Lc=>{fn=Math.max(Lc.duration+Lc.delay,fn)}),S.length)return gP(t,this._triggerName,r,i,dt,q,Te,[],[],ct,It,fn,S);Ft.forEach(Lc=>{const Vc=Lc.element,kP=Mo(ct,Vc,new Set);Lc.preStyleProps.forEach(_p=>kP.add(_p));const Nw=Mo(It,Vc,new Set);Lc.postStyleProps.forEach(_p=>Nw.add(_p)),Vc!==t&&We.add(Vc)});const As=tb(We.values());return gP(t,this._triggerName,r,i,dt,q,Te,Ft,As,ct,It,fn)}}function UL(n,e){const t=Sw(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class BL{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=Sw(this.defaultParams);return Object.keys(e).forEach(u=>{const c=e[u];null!==c&&(i[u]=c)}),this.styles.styles.forEach(u=>{"string"!=typeof u&&u.forEach((c,f)=>{c&&(c=eb(c,i,t));const y=this.normalizer.normalizePropertyName(f,t);c=this.normalizer.normalizeStyleValue(f,y,c,t),r.set(y,c)})}),r}}class $L{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new BL(i.style,i.options&&i.options.params||{},r))}),yP(this.states,"true","1"),yP(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new mP(e,i,this.states))}),this.fallbackTransition=function HL(n,e,t){return new mP(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(c=>c.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function yP(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const GL=new ab;class zL{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],u=NS(this._driver,t,r,[]);if(r.length)throw function zF(n){return new h.vHH(3503,!1)}();this._animations.set(e,u)}_buildPlayer(e,t,r){const i=e.element,u=KR(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,u,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],u=this._animations.get(e);let c;const f=new Map;if(u?(c=OS(this._driver,t,u,TS,YD,new Map,new Map,r,GL,i),c.forEach(A=>{const S=Mo(f,A.element,new Map);A.postStyleProps.forEach(L=>S.set(L,null))})):(i.push(function WF(){return new h.vHH(3300,!1)}()),c=[]),i.length)throw function qF(n){return new h.vHH(3504,!1)}();f.forEach((A,S)=>{A.forEach((L,B)=>{A.set(B,this._driver.computeStyle(S,B,Fc))})});const E=wh(c.map(A=>{const S=f.get(A.element);return this._buildPlayer(A,new Map,S)}));return this._playersById.set(e,E),E.onDestroy(()=>this.destroy(e)),this.players.push(E),E}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function ZF(n){return new h.vHH(3301,!1)}();return t}listen(e,t,r,i){const u=IS(t,"","","");return wS(this._getPlayer(e),r,u,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const u=this._getPlayer(e);switch(r){case"play":u.play();break;case"pause":u.pause();break;case"reset":u.reset();break;case"restart":u.restart();break;case"finish":u.finish();break;case"init":u.init();break;case"setPosition":u.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const _P="ng-animate-queued",VS="ng-animate-disabled",YL=[],vP={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},QL={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ba="__ng_removed";class US{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function tV(n){return n??null}(r?e.value:e),r){const u=Sw(e);delete u.value,this.options=u}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const xw="void",BS=new US(xw);class JL{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Ca(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function KF(n,e){return new h.vHH(3302,!1)}();if(null==r||0==r.length)throw function YF(n){return new h.vHH(3303,!1)}();if(!function nV(n){return"start"==n||"done"==n}(r))throw function QF(n,e){return new h.vHH(3400,!1)}();const u=Mo(this._elementListeners,e,[]),c={name:t,phase:r,callback:i};u.push(c);const f=Mo(this._engine.statesByElement,e,new Map);return f.has(t)||(Ca(e,QD),Ca(e,QD+"-"+t),f.set(t,BS)),()=>{this._engine.afterFlush(()=>{const y=u.indexOf(c);y>=0&&u.splice(y,1),this._triggers.has(t)||f.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function JF(n){return new h.vHH(3401,!1)}();return t}trigger(e,t,r,i=!0){const u=this._getTrigger(t),c=new jS(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(Ca(e,QD),Ca(e,QD+"-"+t),this._engine.statesByElement.set(e,f=new Map));let y=f.get(t);const E=new US(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&y&&E.absorbOptions(y.options),f.set(t,E),y||(y=BS),E.value!==xw&&y.value===E.value){if(!function sV(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const u=t[i];if(!e.hasOwnProperty(u)||n[u]!==e[u])return!1}return!0}(y.params,E.params)){const de=[],Te=u.matchStyles(y.value,y.params,de),We=u.matchStyles(E.value,E.params,de);de.length?this._engine.reportError(de):this._engine.afterFlush(()=>{mp(e,Te),dl(e,We)})}return}const L=Mo(this._engine.playersByElement,e,[]);L.forEach(de=>{de.namespaceId==this.id&&de.triggerName==t&&de.queued&&de.destroy()});let B=u.matchTransition(y.value,E.value,e,E.params),q=!1;if(!B){if(!i)return;B=u.fallbackTransition,q=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:B,fromState:y,toState:E,player:c,isFallbackTransition:q}),q||(Ca(e,_P),c.onStart(()=>{ty(e,_P)})),c.onDone(()=>{let de=this.players.indexOf(c);de>=0&&this.players.splice(de,1);const Te=this._engine.playersByElement.get(e);if(Te){let We=Te.indexOf(c);We>=0&&Te.splice(We,1)}}),this.players.push(c),L.push(c),c}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,JD,!0);r.forEach(i=>{if(i[ba])return;const u=this._engine.fetchNamespacesByElement(i);u.size?u.forEach(c=>c.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const u=this._engine.statesByElement.get(e),c=new Map;if(u){const f=[];if(u.forEach((y,E)=>{if(c.set(E,y.value),this._triggers.has(E)){const A=this.trigger(e,E,xw,i);A&&f.push(A)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,c),r&&wh(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(u=>{const c=u.name;if(i.has(c))return;i.add(c);const y=this._triggers.get(c).fallbackTransition,E=r.get(c)||BS,A=new US(xw),S=new jS(this.id,c,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:c,transition:y,fromState:E,toState:A,player:S,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const u=r.players.length?r.playersByQueriedElement.get(e):[];if(u&&u.length)i=!0;else{let c=e;for(;c=c.parentNode;)if(r.statesByElement.get(c)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const u=e[ba];(!u||u===vP)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Ca(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const u=r.element,c=this._elementListeners.get(u);c&&c.forEach(f=>{if(f.name==r.triggerName){const y=IS(u,r.triggerName,r.fromState.value,r.toState.value);y._data=e,wS(r.player,f.phase,y,f.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const u=r.transition.ast.depCount,c=i.transition.ast.depCount;return 0==u||0==c?u-c:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class XL{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,u)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new JL(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let c=!1,f=this.driver.getParentElement(t);for(;f;){const y=i.get(f);if(y){const E=r.indexOf(y);r.splice(E+1,0,e),c=!0;break}f=this.driver.getParentElement(f)}c||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const u=this._fetchNamespace(i.namespaceId);u&&t.add(u)}return t}trigger(e,t,r,i){if(cb(t)){const u=this._fetchNamespace(e);if(u)return u.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!cb(t))return;const u=t[ba];if(u&&u.setForRemoval){u.setForRemoval=!1,u.setForMove=!0;const c=this.collectedLeaveElements.indexOf(t);c>=0&&this.collectedLeaveElements.splice(c,1)}if(e){const c=this._fetchNamespace(e);c&&c.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Ca(e,VS)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),ty(e,VS))}removeNode(e,t,r,i){if(cb(t)){const u=e?this._fetchNamespace(e):null;if(u?u.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const c=this.namespacesByHostElement.get(t);c&&c.id!==e&&c.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,u){this.collectedLeaveElements.push(t),t[ba]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:u}}listen(e,t,r,i,u){return cb(t)?this._fetchNamespace(e).listen(t,r,i,u):()=>{}}_buildInstruction(e,t,r,i,u){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,u)}destroyInnerAnimations(e){let t=this.driver.query(e,JD,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,AS,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return wh(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[ba];if(t&&t.setForRemoval){if(e[ba]=vP,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(VS)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Ca(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?wh(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function XF(n){return new h.vHH(3402,!1)}()}_flushAnimations(e,t){const r=new ab,i=[],u=new Map,c=[],f=new Map,y=new Map,E=new Map,A=new Set;this.disabledNodes.forEach(pt=>{A.add(pt);const xt=this.driver.query(pt,".ng-animate-queued",!0);for(let Lt=0;Lt<xt.length;Lt++)A.add(xt[Lt])});const S=this.bodyNode,L=Array.from(this.statesByElement.keys()),B=IP(L,this.collectedEnterElements),q=new Map;let de=0;B.forEach((pt,xt)=>{const Lt=TS+de++;q.set(xt,Lt),pt.forEach(wn=>Ca(wn,Lt))});const Te=[],We=new Set,ct=new Set;for(let pt=0;pt<this.collectedLeaveElements.length;pt++){const xt=this.collectedLeaveElements[pt],Lt=xt[ba];Lt&&Lt.setForRemoval&&(Te.push(xt),We.add(xt),Lt.hasAnimation?this.driver.query(xt,".ng-star-inserted",!0).forEach(wn=>We.add(wn)):ct.add(xt))}const It=new Map,dt=IP(L,Array.from(We));dt.forEach((pt,xt)=>{const Lt=YD+de++;It.set(xt,Lt),pt.forEach(wn=>Ca(wn,Lt))}),e.push(()=>{B.forEach((pt,xt)=>{const Lt=q.get(xt);pt.forEach(wn=>ty(wn,Lt))}),dt.forEach((pt,xt)=>{const Lt=It.get(xt);pt.forEach(wn=>ty(wn,Lt))}),Te.forEach(pt=>{this.processLeaveNode(pt)})});const Nt=[],Ft=[];for(let pt=this._namespaceList.length-1;pt>=0;pt--)this._namespaceList[pt].drainQueuedTransitions(t).forEach(Lt=>{const wn=Lt.player,gi=Lt.element;if(Nt.push(wn),this.collectedEnterElements.length){const ts=gi[ba];if(ts&&ts.setForMove){if(ts.previousTriggersValues&&ts.previousTriggersValues.has(Lt.triggerName)){const vp=ts.previousTriggersValues.get(Lt.triggerName),Ta=this.statesByElement.get(Lt.element);if(Ta&&Ta.has(Lt.triggerName)){const fb=Ta.get(Lt.triggerName);fb.value=vp,Ta.set(Lt.triggerName,fb)}}return void wn.destroy()}}const hl=!S||!this.driver.containsElement(S,gi),No=It.get(gi),Dh=q.get(gi),vr=this._buildInstruction(Lt,r,Dh,No,hl);if(vr.errors&&vr.errors.length)return void Ft.push(vr);if(hl)return wn.onStart(()=>mp(gi,vr.fromStyles)),wn.onDestroy(()=>dl(gi,vr.toStyles)),void i.push(wn);if(Lt.isFallbackTransition)return wn.onStart(()=>mp(gi,vr.fromStyles)),wn.onDestroy(()=>dl(gi,vr.toStyles)),void i.push(wn);const VP=[];vr.timelines.forEach(ts=>{ts.stretchStartingKeyframe=!0,this.disabledNodes.has(ts.element)||VP.push(ts)}),vr.timelines=VP,r.append(gi,vr.timelines),c.push({instruction:vr,player:wn,element:gi}),vr.queriedElements.forEach(ts=>Mo(f,ts,[]).push(wn)),vr.preStyleProps.forEach((ts,vp)=>{if(ts.size){let Ta=y.get(vp);Ta||y.set(vp,Ta=new Set),ts.forEach((fb,ZS)=>Ta.add(ZS))}}),vr.postStyleProps.forEach((ts,vp)=>{let Ta=E.get(vp);Ta||E.set(vp,Ta=new Set),ts.forEach((fb,ZS)=>Ta.add(ZS))})});if(Ft.length){const pt=[];Ft.forEach(xt=>{pt.push(function eL(n,e){return new h.vHH(3505,!1)}())}),Nt.forEach(xt=>xt.destroy()),this.reportError(pt)}const fn=new Map,As=new Map;c.forEach(pt=>{const xt=pt.element;r.has(xt)&&(As.set(xt,xt),this._beforeAnimationBuild(pt.player.namespaceId,pt.instruction,fn))}),i.forEach(pt=>{const xt=pt.element;this._getPreviousPlayers(xt,!1,pt.namespaceId,pt.triggerName,null).forEach(wn=>{Mo(fn,xt,[]).push(wn),wn.destroy()})});const Lc=Te.filter(pt=>bP(pt,y,E)),Vc=new Map;EP(Vc,this.driver,ct,E,Fc).forEach(pt=>{bP(pt,y,E)&&Lc.push(pt)});const Nw=new Map;B.forEach((pt,xt)=>{EP(Nw,this.driver,new Set(pt),y,"!")}),Lc.forEach(pt=>{const xt=Vc.get(pt),Lt=Nw.get(pt);Vc.set(pt,new Map([...Array.from(xt?.entries()??[]),...Array.from(Lt?.entries()??[])]))});const _p=[],FP=[],LP={};c.forEach(pt=>{const{element:xt,player:Lt,instruction:wn}=pt;if(r.has(xt)){if(A.has(xt))return Lt.onDestroy(()=>dl(xt,wn.toStyles)),Lt.disabled=!0,Lt.overrideTotalTime(wn.totalTime),void i.push(Lt);let gi=LP;if(As.size>1){let No=xt;const Dh=[];for(;No=No.parentNode;){const vr=As.get(No);if(vr){gi=vr;break}Dh.push(No)}Dh.forEach(vr=>As.set(vr,gi))}const hl=this._buildAnimation(Lt.namespaceId,wn,fn,u,Nw,Vc);if(Lt.setRealPlayer(hl),gi===LP)_p.push(Lt);else{const No=this.playersByElement.get(gi);No&&No.length&&(Lt.parentPlayer=wh(No)),i.push(Lt)}}else mp(xt,wn.fromStyles),Lt.onDestroy(()=>dl(xt,wn.toStyles)),FP.push(Lt),A.has(xt)&&i.push(Lt)}),FP.forEach(pt=>{const xt=u.get(pt.element);if(xt&&xt.length){const Lt=wh(xt);pt.setRealPlayer(Lt)}}),i.forEach(pt=>{pt.parentPlayer?pt.syncPlayerEvents(pt.parentPlayer):pt.destroy()});for(let pt=0;pt<Te.length;pt++){const xt=Te[pt],Lt=xt[ba];if(ty(xt,YD),Lt&&Lt.hasAnimation)continue;let wn=[];if(f.size){let hl=f.get(xt);hl&&hl.length&&wn.push(...hl);let No=this.driver.query(xt,AS,!0);for(let Dh=0;Dh<No.length;Dh++){let vr=f.get(No[Dh]);vr&&vr.length&&wn.push(...vr)}}const gi=wn.filter(hl=>!hl.destroyed);gi.length?rV(this,xt,gi):this.processLeaveNode(xt)}return Te.length=0,_p.forEach(pt=>{this.players.push(pt),pt.onDone(()=>{pt.destroy();const xt=this.players.indexOf(pt);this.players.splice(xt,1)}),pt.play()}),_p}elementContainsData(e,t){let r=!1;const i=t[ba];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,u){let c=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(c=f)}else{const f=this.playersByElement.get(e);if(f){const y=!u||u==xw;f.forEach(E=>{E.queued||!y&&E.triggerName!=i||c.push(E)})}}return(r||i)&&(c=c.filter(f=>!(r&&r!=f.namespaceId||i&&i!=f.triggerName))),c}_beforeAnimationBuild(e,t,r){const u=t.element,c=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const y of t.timelines){const E=y.element,A=E!==u,S=Mo(r,E,[]);this._getPreviousPlayers(E,A,c,f,t.toState).forEach(B=>{const q=B.getRealPlayer();q.beforeDestroy&&q.beforeDestroy(),B.destroy(),S.push(B)})}mp(u,t.fromStyles)}_buildAnimation(e,t,r,i,u,c){const f=t.triggerName,y=t.element,E=[],A=new Set,S=new Set,L=t.timelines.map(q=>{const de=q.element;A.add(de);const Te=de[ba];if(Te&&Te.removedBeforeQueried)return new Aw(q.duration,q.delay);const We=de!==y,ct=function iV(n){const e=[];return DP(n,e),e}((r.get(de)||YL).map(fn=>fn.getRealPlayer())).filter(fn=>!!fn.element&&fn.element===de),It=u.get(de),dt=c.get(de),Nt=KR(0,this._normalizer,0,q.keyframes,It,dt),Ft=this._buildPlayer(q,Nt,ct);if(q.subTimeline&&i&&S.add(de),We){const fn=new jS(e,f,de);fn.setRealPlayer(Ft),E.push(fn)}return Ft});E.forEach(q=>{Mo(this.playersByQueriedElement,q.element,[]).push(q),q.onDone(()=>function eV(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,q.element,q))}),A.forEach(q=>Ca(q,iP));const B=wh(L);return B.onDestroy(()=>{A.forEach(q=>ty(q,iP)),dl(y,t.toStyles)}),S.forEach(q=>{Mo(i,q,[]).push(B)}),B}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Aw(e.duration,e.delay)}}class jS{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Aw,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>wS(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Mo(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function cb(n){return n&&1===n.nodeType}function wP(n,e){const t=n.style.display;return n.style.display=e??"none",t}function EP(n,e,t,r,i){const u=[];t.forEach(y=>u.push(wP(y)));const c=[];r.forEach((y,E)=>{const A=new Map;y.forEach(S=>{const L=e.computeStyle(E,S,i);A.set(S,L),(!L||0==L.length)&&(E[ba]=QL,c.push(E))}),n.set(E,A)});let f=0;return t.forEach(y=>wP(y,u[f++])),c}function IP(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const i=new Set(e),u=new Map;function c(f){if(!f)return 1;let y=u.get(f);if(y)return y;const E=f.parentNode;return y=t.has(E)?E:i.has(E)?1:c(E),u.set(f,y),y}return e.forEach(f=>{const y=c(f);1!==y&&t.get(y).push(f)}),t}function Ca(n,e){n.classList?.add(e)}function ty(n,e){n.classList?.remove(e)}function rV(n,e,t){wh(t).onDone(()=>n.processLeaveNode(e))}function DP(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof qR?DP(r.players,e):e.push(r)}}function bP(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(u=>i.add(u)):e.set(n,r),t.delete(n),!0}class db{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,u)=>{},this._transitionEngine=new XL(e,t,r),this._timelineEngine=new zL(e,t,r),this._transitionEngine.onRemovalComplete=(i,u)=>this.onRemovalComplete(i,u)}registerTrigger(e,t,r,i,u){const c=e+"-"+i;let f=this._triggerCache[c];if(!f){const y=[],A=NS(this._driver,u,y,[]);if(y.length)throw function HF(n,e){return new h.vHH(3404,!1)}();f=function jL(n,e,t){return new $L(n,e,t)}(i,A,this._normalizer),this._triggerCache[c]=f}this._transitionEngine.registerTrigger(t,i,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[u,c]=YR(r);this._timelineEngine.command(u,t,c,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,u){if("@"==r.charAt(0)){const[c,f]=YR(r);return this._timelineEngine.listen(c,t,f,u)}return this._transitionEngine.listen(e,t,r,i,u)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let aV=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let u=n.initialStylesByElement.get(t);u||n.initialStylesByElement.set(t,u=new Map),this._initialStyles=u}start(){this._state<1&&(this._startStyles&&dl(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(dl(this._element,this._initialStyles),this._endStyles&&(dl(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(mp(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(mp(this._element,this._endStyles),this._endStyles=null),dl(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function $S(n){let e=null;return n.forEach((t,r)=>{(function uV(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class CP{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:cP(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class lV{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return eP(e,t)}getParentElement(e){return bS(e)}query(e,t,r){return tP(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,u,c=[]){const y={duration:r,delay:i,fill:0==i?"both":"forwards"};u&&(y.easing=u);const E=new Map,A=c.filter(B=>B instanceof CP);(function fL(n,e){return 0===n||0===e})(r,i)&&A.forEach(B=>{B.currentSnapshot.forEach((q,de)=>E.set(de,q))});let S=function lL(n){return n.length?n[0]instanceof Map?n:n.map(e=>sP(e)):[]}(t).map(B=>Ih(B));S=function pL(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((u,c)=>{r.has(c)||i.push(c),r.set(c,u)}),i.length)for(let u=1;u<e.length;u++){let c=e[u];i.forEach(f=>c.set(f,cP(n,f)))}}return e}(e,S,E);const L=function oV(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=$S(e[0]),e.length>1&&(r=$S(e[e.length-1]))):e instanceof Map&&(t=$S(e)),t||r?new aV(n,t,r):null}(e,S);return new CP(e,S,y,L)}}let cV=(()=>{class n extends HR{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:h.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?GR(t):t;return TP(this._renderer,null,r,"register",[i]),new dV(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.FYo),h.LFG(pe))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class dV extends class EF{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new hV(this._id,e,t||{},this._renderer)}}class hV{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return TP(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function TP(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const AP="@.disabled";let fV=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(u,c)=>{const f=c?.parentNode(u);f&&c.removeChild(f,u)}}createRenderer(t,r){const u=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let A=this._rendererCache.get(u);return A||(A=new SP("",u,this.engine),this._rendererCache.set(u,A)),A}const c=r.id,f=r.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const y=A=>{Array.isArray(A)?A.forEach(y):this.engine.registerTrigger(c,f,t,A.name,A)};return r.data.animation.forEach(y),new pV(this,f,u,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(u=>{const[c,f]=u;c(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.FYo),h.LFG(db),h.LFG(h.R0b))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class SP{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==AP?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class pV extends SP{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==AP?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function gV(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let u=t.slice(1),c="";return"@"!=u.charAt(0)&&([u,c]=function mV(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(u)),this.engine.listen(this.namespaceId,i,u,c,f=>{this.factory.scheduleListenerCallback(f._data||-1,r,f)})}return this.delegate.listen(e,t,r)}}let yV=(()=>{class n extends db{constructor(t,r,i,u){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(pe),h.LFG(CS),h.LFG(FS),h.LFG(h.z2F))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const MP=[{provide:HR,useClass:cV},{provide:FS,useFactory:function _V(){return new LL}},{provide:db,useClass:yV},{provide:h.FYo,useFactory:function vV(n,e,t){return new fV(n,e,t)},deps:[vi,db,h.R0b]}],HS=[{provide:CS,useFactory:()=>new lV},{provide:h.QbO,useValue:"BrowserAnimations"},...MP],xP=[{provide:CS,useClass:nP},{provide:h.QbO,useValue:"NoopAnimations"},...MP];let wV=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?xP:HS}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:HS,imports:[mn]}),n})();const NP_firebase={projectId:"portfoliowr-2022",appId:"1:567439846605:web:7847d86893f03291260d84",storageBucket:"portfoliowr-2022.appspot.com",apiKey:"AIzaSyB9tw44OffzMP-oe_xmwQbkhwaVsscwRIc",authDomain:"portfoliowr-2022.firebaseapp.com",messagingSenderId:"567439846605"};class GS{constructor(e){return e}}class PP{constructor(){return(0,vn.vb)("auth")}}const zS=new h.OlP("angularfire2.auth-instances");function IV(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new GS(r)}}const DV={provide:PP,deps:[[new h.FiY,zS]]},bV={provide:GS,useFactory:function EV(n,e){const t=(0,vn.JM)("auth",n,e);return t&&new GS(t)},deps:[[new h.FiY,zS],Uu]};let CV=(()=>{class n{constructor(){(0,au.KN)("angularfire",vn.q4.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[bV,DV]}),n})();function TV(n,...e){return{ngModule:CV,providers:[{provide:zS,useFactory:IV(n),multi:!0,deps:[h.R0b,h.zs3,vn.HU,ig,[new h.FiY,pf],...e]}]}}const AV=(0,vn.u3)(fd.n,!0);class WS{constructor(e){return e}}const OP="firestore",qS=new h.OlP("angularfire2.firestore-instances");function xV(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new WS(r)}}const NV={provide:class SV{constructor(){return(0,vn.vb)(OP)}},deps:[[new h.FiY,qS]]},RV={provide:WS,useFactory:function MV(n,e){const t=(0,vn.JM)(OP,n,e);return t&&new WS(t)},deps:[[new h.FiY,qS],Uu]};let PV=(()=>{class n{constructor(){(0,au.KN)("angularfire",vn.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[RV,NV]}),n})();function OV(n,...e){return{ngModule:PV,providers:[{provide:qS,useFactory:xV(n),multi:!0,deps:[h.R0b,h.zs3,vn.HU,ig,[new h.FiY,PP],[new h.FiY,pf],...e]}]}}const kV=(0,vn.u3)(H1,!0),FV={apiKey:"AIzaSyB9tw44OffzMP-oe_xmwQbkhwaVsscwRIc",authDomain:"portfoliowr-2022.firebaseapp.com",projectId:"portfoliowr-2022",storageBucket:"portfoliowr-2022.appspot.com",messagingSenderId:"567439846605",appId:"1:567439846605:web:7847d86893f03291260d84"};let LV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n,bootstrap:[wF]}),n.\u0275inj=h.cJS({imports:[mn,vF,fk,hF,dF,wV,Us.hO.initializeApp(FV),Yb(()=>mE(NP_firebase)),TV(()=>AV()),OV(()=>kV())]}),n})();(0,h.G48)(),Mh().bootstrapModule(LV).catch(n=>console.error(n))},5867:(ht,Re,O)=>{O.d(Re,{C6:()=>h.getApps,KN:()=>h.registerVersion,Mq:()=>h.getApp,ZF:()=>h.initializeApp});var h=O(9681);(0,h.registerVersion)("firebase","9.9.3","app")},127:(ht,Re,O)=>{O.d(Re,{Z:()=>h.Z});var h=O(3942);h.Z.registerVersion("firebase","9.9.3","app-compat")},5881:(ht,Re,O)=>{O.r(Re);var h=O(5861),V=O(3942),R=O(6457),se=O(2090),pe=(O(9681),O(1877),O(4859));function he(){return window}function G(){return(G=(0,h.Z)(function*(Y,z,j){var Ee;const{BuildInfo:He}=he();(0,R.aq)(z.sessionId,"AuthEvent did not contain a session ID");const Se=yield ge(z.sessionId),qe={};return(0,R.ar)()?qe.ibi=He.packageName:(0,R.as)()?qe.apn=He.packageName:(0,R.at)(Y,"operation-not-supported-in-this-environment"),He.displayName&&(qe.appDisplayName=He.displayName),qe.sessionId=Se,(0,R.au)(Y,j,z.type,void 0,null!==(Ee=z.eventId)&&void 0!==Ee?Ee:void 0,qe)})).apply(this,arguments)}function $e(){return($e=(0,h.Z)(function*(Y){const{BuildInfo:z}=he(),j={};(0,R.ar)()?j.iosBundleId=z.packageName:(0,R.as)()?j.androidPackageName=z.packageName:(0,R.at)(Y,"operation-not-supported-in-this-environment"),yield(0,R.av)(Y,j)})).apply(this,arguments)}function it(){return(it=(0,h.Z)(function*(Y,z,j){const{cordova:Ee}=he();let He=()=>{};try{yield new Promise((Se,qe)=>{let mt=null;function zt(){var Vt;Se();const rn=null===(Vt=Ee.plugins.browsertab)||void 0===Vt?void 0:Vt.close;"function"==typeof rn&&rn(),"function"==typeof j?.close&&j.close()}function qn(){mt||(mt=window.setTimeout(()=>{qe((0,R.aw)(Y,"redirect-cancelled-by-user"))},2e3))}function gn(){"visible"===document?.visibilityState&&qn()}z.addPassiveListener(zt),document.addEventListener("resume",qn,!1),(0,R.as)()&&document.addEventListener("visibilitychange",gn,!1),He=()=>{z.removePassiveListener(zt),document.removeEventListener("resume",qn,!1),document.removeEventListener("visibilitychange",gn,!1),mt&&window.clearTimeout(mt)}})}finally{He()}})).apply(this,arguments)}function ge(Y){return et.apply(this,arguments)}function et(){return(et=(0,h.Z)(function*(Y){const z=tt(Y),j=yield crypto.subtle.digest("SHA-256",z);return Array.from(new Uint8Array(j)).map(He=>He.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function tt(Y){if((0,R.aq)(/[0-9a-zA-Z]+/.test(Y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(Y);const z=new ArrayBuffer(Y.length),j=new Uint8Array(z);for(let Ee=0;Ee<Y.length;Ee++)j[Ee]=Y.charCodeAt(Ee);return j}class Oe extends R.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(z=>{this.resolveInialized=z})}addPassiveListener(z){this.passiveListeners.add(z)}removePassiveListener(z){this.passiveListeners.delete(z)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(z){return this.resolveInialized(),this.passiveListeners.forEach(j=>j(z)),super.onEvent(z)}initialized(){var z=this;return(0,h.Z)(function*(){yield z.initPromise})()}}function ie(Y){return ue.apply(this,arguments)}function ue(){return(ue=(0,h.Z)(function*(Y){const z=yield te()._get(fe(Y));return z&&(yield te()._remove(fe(Y))),z})).apply(this,arguments)}function X(){const Y=[],z="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let j=0;j<20;j++){const Ee=Math.floor(Math.random()*z.length);Y.push(z.charAt(Ee))}return Y.join("")}function te(){return(0,R.ay)(R.b)}function fe(Y){return(0,R.az)("authEvent",Y.config.apiKey,Y.name)}function Ue(Y){if(!Y?.includes("?"))return{};const[z,...j]=Y.split("?");return(0,se.zd)(j.join("?"))}function Ke(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,R.aw)("no-auth-event")}}function Qt(){var Y;return(null===(Y=self?.location)||void 0===Y?void 0:Y.protocol)||null}function Tr(Y=(0,se.z$)()){return!("file:"!==Qt()&&"ionic:"!==Qt()&&"capacitor:"!==Qt()||!Y.toLowerCase().match(/iphone|ipad|ipod|android/))}function oi(){try{const Y=self.localStorage,z=R.aI();if(Y)return Y.setItem(z,"1"),Y.removeItem(z),!function Ri(Y=(0,se.z$)()){return function Ar(){return(0,se.w1)()&&11===document?.documentMode}()||function Tn(Y=(0,se.z$)()){return/Edge\/\d+/.test(Y)}(Y)}()||(0,se.hl)()}catch{return ai()&&(0,se.hl)()}return!1}function ai(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Bn(){return(function Gt(){return"http:"===Qt()||"https:"===Qt()}()||(0,se.ru)()||Tr())&&!function Ys(){return(0,se.b$)()||(0,se.UG)()}()&&oi()&&!ai()}function ns(){return Tr()&&typeof document<"u"}function _n(){return(_n=(0,h.Z)(function*(){return!!ns()&&new Promise(Y=>{const z=setTimeout(()=>{Y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(z),Y(!0)})})})).apply(this,arguments)}const nn={LOCAL:"local",NONE:"none",SESSION:"session"},rr=R.ax,Pr="persistence";function pn(Y){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,h.Z)(function*(Y){yield Y._initializationPromise;const z=st(),j=R.az(Pr,Y.config.apiKey,Y.name);z&&z.setItem(j,Y._getPersistence())})).apply(this,arguments)}function st(){var Y;try{return(null===(Y=function Sr(){return typeof window<"u"?window:null}())||void 0===Y?void 0:Y.sessionStorage)||null}catch{return null}}const rt=R.ax;class An{constructor(){this.browserResolver=R.ay(R.k),this.cordovaResolver=R.ay(class en{constructor(){this._redirectPersistence=R.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=R.aB,this._overrideRedirectResult=R.aC}_initialize(z){var j=this;return(0,h.Z)(function*(){const Ee=z._key();let He=j.eventManagers.get(Ee);return He||(He=new Oe(z),j.eventManagers.set(Ee,He),j.attachCallbackListeners(z,He)),He})()}_openPopup(z){(0,R.at)(z,"operation-not-supported-in-this-environment")}_openRedirect(z,j,Ee,He){var Se=this;return(0,h.Z)(function*(){!function we(Y){var z,j,Ee,He,Se,qe,mt,zt,qn,gn;const Vt=he();(0,R.ax)("function"==typeof(null===(z=Vt?.universalLinks)||void 0===z?void 0:z.subscribe),Y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,R.ax)(typeof(null===(j=Vt?.BuildInfo)||void 0===j?void 0:j.packageName)<"u",Y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,R.ax)("function"==typeof(null===(Se=null===(He=null===(Ee=Vt?.cordova)||void 0===Ee?void 0:Ee.plugins)||void 0===He?void 0:He.browsertab)||void 0===Se?void 0:Se.openUrl),Y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,R.ax)("function"==typeof(null===(zt=null===(mt=null===(qe=Vt?.cordova)||void 0===qe?void 0:qe.plugins)||void 0===mt?void 0:mt.browsertab)||void 0===zt?void 0:zt.isAvailable),Y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,R.ax)("function"==typeof(null===(gn=null===(qn=Vt?.cordova)||void 0===qn?void 0:qn.InAppBrowser)||void 0===gn?void 0:gn.open),Y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(z);const qe=yield Se._initialize(z);yield qe.initialized(),qe.resetRedirect(),(0,R.aD)(),yield Se._originValidation(z);const mt=function be(Y,z,j=null){return{type:z,eventId:j,urlResponse:null,sessionId:X(),postBody:null,tenantId:Y.tenantId,error:(0,R.aw)(Y,"no-auth-event")}}(z,Ee,He);yield function Ze(Y,z){return te()._set(fe(Y),z)}(z,mt);const zt=yield function H(Y,z,j){return G.apply(this,arguments)}(z,mt,j),qn=yield function ke(Y){const{cordova:z}=he();return new Promise(j=>{z.plugins.browsertab.isAvailable(Ee=>{let He=null;Ee?z.plugins.browsertab.openUrl(Y):He=z.InAppBrowser.open(Y,(0,R.ap)()?"_blank":"_system","location=yes"),j(He)})})}(zt);return function De(Y,z,j){return it.apply(this,arguments)}(z,qe,qn)})()}_isIframeWebStorageSupported(z,j){throw new Error("Method not implemented.")}_originValidation(z){const j=z._key();return this.originValidationPromises[j]||(this.originValidationPromises[j]=function ee(Y){return $e.apply(this,arguments)}(z)),this.originValidationPromises[j]}attachCallbackListeners(z,j){const{universalLinks:Ee,handleOpenURL:He,BuildInfo:Se}=he(),qe=setTimeout((0,h.Z)(function*(){yield ie(z),j.onEvent(Ke())}),500),mt=function(){var gn=(0,h.Z)(function*(Vt){clearTimeout(qe);const rn=yield ie(z);let Qs=null;rn&&Vt?.url&&(Qs=function _e(Y,z){var j,Ee;const He=function Ve(Y){const z=Ue(Y),j=z.link?decodeURIComponent(z.link):void 0,Ee=Ue(j).link,He=z.deep_link_id?decodeURIComponent(z.deep_link_id):void 0;return Ue(He).link||He||Ee||j||Y}(z);if(He.includes("/__/auth/callback")){const Se=Ue(He),qe=Se.firebaseError?function oe(Y){try{return JSON.parse(Y)}catch{return null}}(decodeURIComponent(Se.firebaseError)):null,mt=null===(Ee=null===(j=qe?.code)||void 0===j?void 0:j.split("auth/"))||void 0===Ee?void 0:Ee[1],zt=mt?(0,R.aw)(mt):null;return zt?{type:Y.type,eventId:Y.eventId,tenantId:Y.tenantId,error:zt,urlResponse:null,sessionId:null,postBody:null}:{type:Y.type,eventId:Y.eventId,tenantId:Y.tenantId,sessionId:Y.sessionId,urlResponse:He,postBody:null}}return null}(rn,Vt.url)),j.onEvent(Qs||Ke())});return function(rn){return gn.apply(this,arguments)}}();typeof Ee<"u"&&"function"==typeof Ee.subscribe&&Ee.subscribe(null,mt);const zt=He,qn=`${Se.packageName.toLowerCase()}://`;he().handleOpenURL=function(){var gn=(0,h.Z)(function*(Vt){if(Vt.toLowerCase().startsWith(qn)&&mt({url:Vt}),"function"==typeof zt)try{zt(Vt)}catch(rn){console.error(rn)}});return function(Vt){return gn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=R.a,this._completeRedirectFn=R.aB,this._overrideRedirectResult=R.aC}_initialize(z){var j=this;return(0,h.Z)(function*(){return yield j.selectUnderlyingResolver(),j.assertedUnderlyingResolver._initialize(z)})()}_openPopup(z,j,Ee,He){var Se=this;return(0,h.Z)(function*(){return yield Se.selectUnderlyingResolver(),Se.assertedUnderlyingResolver._openPopup(z,j,Ee,He)})()}_openRedirect(z,j,Ee,He){var Se=this;return(0,h.Z)(function*(){return yield Se.selectUnderlyingResolver(),Se.assertedUnderlyingResolver._openRedirect(z,j,Ee,He)})()}_isIframeWebStorageSupported(z,j){this.assertedUnderlyingResolver._isIframeWebStorageSupported(z,j)}_originValidation(z){return this.assertedUnderlyingResolver._originValidation(z)}get _shouldInitProactively(){return ns()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return rt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var z=this;return(0,h.Z)(function*(){if(z.underlyingResolver)return;const j=yield function ft(){return _n.apply(this,arguments)}();z.underlyingResolver=j?z.cordovaResolver:z.browserResolver})()}}function Or(Y){return Y.unwrap()}function $t(Y){return kr(Y)}function kr(Y){const{_tokenResponse:z}=Y instanceof se.ZR?Y.customData:Y;if(!z)return null;if(!(Y instanceof se.ZR)&&"temporaryProof"in z&&"phoneNumber"in z)return R.P.credentialFromResult(Y);const j=z.providerId;if(!j||j===R.o.PASSWORD)return null;let Ee;switch(j){case R.o.GOOGLE:Ee=R.Q;break;case R.o.FACEBOOK:Ee=R.N;break;case R.o.GITHUB:Ee=R.T;break;case R.o.TWITTER:Ee=R.W;break;default:const{oauthIdToken:He,oauthAccessToken:Se,oauthTokenSecret:qe,pendingToken:mt,nonce:zt}=z;return Se||qe||He||mt?mt?j.startsWith("saml.")?R.aL._create(j,mt):R.J._fromParams({providerId:j,signInMethod:j,pendingToken:mt,idToken:He,accessToken:Se}):new R.U(j).credential({idToken:He,accessToken:Se,rawNonce:zt}):null}return Y instanceof se.ZR?Ee.credentialFromError(Y):Ee.credentialFromResult(Y)}function Pt(Y,z){return z.catch(j=>{throw j instanceof se.ZR&&function Pn(Y,z){var j,Ee;const He=null===(j=z.customData)||void 0===j?void 0:j._tokenResponse;if("auth/multi-factor-auth-required"===(null===(Ee=z)||void 0===Ee?void 0:Ee.code))z.resolver=new Q(Y,R.an(Y,z));else if(He){const Se=kr(z),qe=z;Se&&(qe.credential=Se,qe.tenantId=He.tenantId||void 0,qe.email=He.email||void 0,qe.phoneNumber=He.phoneNumber||void 0)}}(Y,j),j}).then(j=>{const He=j.user;return{operationType:j.operationType,credential:$t(j),additionalUserInfo:R.al(j),user:$.getOrCreate(He)}})}function ui(Y,z){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,h.Z)(function*(Y,z){const j=yield z;return{verificationId:j.verificationId,confirm:Ee=>Pt(Y,j.confirm(Ee))}})).apply(this,arguments)}class Q{constructor(z,j){this.resolver=j,this.auth=function Sn(Y){return Y.wrapped()}(z)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(z){return Pt(Or(this.auth),this.resolver.resolveSignIn(z))}}class ${constructor(z){this._delegate=z,this.multiFactor=R.ao(z)}static getOrCreate(z){return $.USER_MAP.has(z)||$.USER_MAP.set(z,new $(z)),$.USER_MAP.get(z)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(z){return this._delegate.getIdTokenResult(z)}getIdToken(z){return this._delegate.getIdToken(z)}linkAndRetrieveDataWithCredential(z){return this.linkWithCredential(z)}linkWithCredential(z){var j=this;return(0,h.Z)(function*(){return Pt(j.auth,R.Z(j._delegate,z))})()}linkWithPhoneNumber(z,j){var Ee=this;return(0,h.Z)(function*(){return ui(Ee.auth,R.l(Ee._delegate,z,j))})()}linkWithPopup(z){var j=this;return(0,h.Z)(function*(){return Pt(j.auth,R.d(j._delegate,z,An))})()}linkWithRedirect(z){var j=this;return(0,h.Z)(function*(){return yield pn(R.aE(j.auth)),R.g(j._delegate,z,An)})()}reauthenticateAndRetrieveDataWithCredential(z){return this.reauthenticateWithCredential(z)}reauthenticateWithCredential(z){var j=this;return(0,h.Z)(function*(){return Pt(j.auth,R._(j._delegate,z))})()}reauthenticateWithPhoneNumber(z,j){return ui(this.auth,R.r(this._delegate,z,j))}reauthenticateWithPopup(z){return Pt(this.auth,R.e(this._delegate,z,An))}reauthenticateWithRedirect(z){var j=this;return(0,h.Z)(function*(){return yield pn(R.aE(j.auth)),R.h(j._delegate,z,An)})()}sendEmailVerification(z){return R.ab(this._delegate,z)}unlink(z){var j=this;return(0,h.Z)(function*(){return yield R.ak(j._delegate,z),j})()}updateEmail(z){return R.ag(this._delegate,z)}updatePassword(z){return R.ah(this._delegate,z)}updatePhoneNumber(z){return R.u(this._delegate,z)}updateProfile(z){return R.af(this._delegate,z)}verifyBeforeUpdateEmail(z,j){return R.ac(this._delegate,z,j)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}$.USER_MAP=new WeakMap;const U=R.ax;let W=(()=>{class Y{constructor(j,Ee){if(this.app=j,Ee.isInitialized())return this._delegate=Ee.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:He}=j.options;U(He,"invalid-api-key",{appName:j.name}),U(He,"invalid-api-key",{appName:j.name});const Se=typeof window<"u"?An:void 0;this._delegate=Ee.initialize({options:{persistence:Ae(He,j.name),popupRedirectResolver:Se}}),this._delegate._updateErrorMap(R.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?$.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(j){this._delegate.languageCode=j}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(j){this._delegate.tenantId=j}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(j,Ee){R.G(this._delegate,j,Ee)}applyActionCode(j){return R.a2(this._delegate,j)}checkActionCode(j){return R.a3(this._delegate,j)}confirmPasswordReset(j,Ee){return R.a1(this._delegate,j,Ee)}createUserWithEmailAndPassword(j,Ee){var He=this;return(0,h.Z)(function*(){return Pt(He._delegate,R.a5(He._delegate,j,Ee))})()}fetchProvidersForEmail(j){return this.fetchSignInMethodsForEmail(j)}fetchSignInMethodsForEmail(j){return R.aa(this._delegate,j)}isSignInWithEmailLink(j){return R.a8(this._delegate,j)}getRedirectResult(){var j=this;return(0,h.Z)(function*(){U(Bn(),j._delegate,"operation-not-supported-in-this-environment");const Ee=yield R.j(j._delegate,An);return Ee?Pt(j._delegate,Promise.resolve(Ee)):{credential:null,user:null}})()}addFrameworkForLogging(j){!function yn(Y,z){(0,R.aE)(Y)._logFramework(z)}(this._delegate,j)}onAuthStateChanged(j,Ee,He){const{next:Se,error:qe,complete:mt}=Z(j,Ee,He);return this._delegate.onAuthStateChanged(Se,qe,mt)}onIdTokenChanged(j,Ee,He){const{next:Se,error:qe,complete:mt}=Z(j,Ee,He);return this._delegate.onIdTokenChanged(Se,qe,mt)}sendSignInLinkToEmail(j,Ee){return R.a7(this._delegate,j,Ee)}sendPasswordResetEmail(j,Ee){return R.a0(this._delegate,j,Ee||void 0)}setPersistence(j){var Ee=this;return(0,h.Z)(function*(){let He;switch(function dr(Y,z){rr(Object.values(nn).includes(z),Y,"invalid-persistence-type"),(0,se.b$)()?rr(z!==nn.SESSION,Y,"unsupported-persistence-type"):(0,se.UG)()?rr(z===nn.NONE,Y,"unsupported-persistence-type"):ai()?rr(z===nn.NONE||z===nn.LOCAL&&(0,se.hl)(),Y,"unsupported-persistence-type"):rr(z===nn.NONE||oi(),Y,"unsupported-persistence-type")}(Ee._delegate,j),j){case nn.SESSION:He=R.a;break;case nn.LOCAL:He=(yield R.ay(R.i)._isAvailable())?R.i:R.b;break;case nn.NONE:He=R.L;break;default:return R.at("argument-error",{appName:Ee._delegate.name})}return Ee._delegate.setPersistence(He)})()}signInAndRetrieveDataWithCredential(j){return this.signInWithCredential(j)}signInAnonymously(){return Pt(this._delegate,R.X(this._delegate))}signInWithCredential(j){return Pt(this._delegate,R.Y(this._delegate,j))}signInWithCustomToken(j){return Pt(this._delegate,R.$(this._delegate,j))}signInWithEmailAndPassword(j,Ee){return Pt(this._delegate,R.a6(this._delegate,j,Ee))}signInWithEmailLink(j,Ee){return Pt(this._delegate,R.a9(this._delegate,j,Ee))}signInWithPhoneNumber(j,Ee){return ui(this._delegate,R.s(this._delegate,j,Ee))}signInWithPopup(j){var Ee=this;return(0,h.Z)(function*(){return U(Bn(),Ee._delegate,"operation-not-supported-in-this-environment"),Pt(Ee._delegate,R.c(Ee._delegate,j,An))})()}signInWithRedirect(j){var Ee=this;return(0,h.Z)(function*(){return U(Bn(),Ee._delegate,"operation-not-supported-in-this-environment"),yield pn(Ee._delegate),R.f(Ee._delegate,j,An)})()}updateCurrentUser(j){return this._delegate.updateCurrentUser(j)}verifyPasswordResetCode(j){return R.a4(this._delegate,j)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return Y.Persistence=nn,Y})();function Z(Y,z,j){let Ee=Y;"function"!=typeof Y&&({next:Ee,error:z,complete:j}=Y);const He=Ee;return{next:qe=>He(qe&&$.getOrCreate(qe)),error:z,complete:j}}function Ae(Y,z){const j=function En(Y,z){const j=st();if(!j)return[];const Ee=R.az(Pr,Y,z);switch(j.getItem(Ee)){case nn.NONE:return[R.L];case nn.LOCAL:return[R.i,R.a];case nn.SESSION:return[R.a];default:return[]}}(Y,z);if(typeof self<"u"&&!j.includes(R.i)&&j.push(R.i),typeof window<"u")for(const Ee of[R.b,R.a])j.includes(Ee)||j.push(Ee);return j.includes(R.L)||j.push(R.L),j}class Ge{constructor(){this.providerId="phone",this._delegate=new R.P(Or(V.Z.auth()))}static credential(z,j){return R.P.credential(z,j)}verifyPhoneNumber(z,j){return this._delegate.verifyPhoneNumber(z,j)}unwrap(){return this._delegate}}Ge.PHONE_SIGN_IN_METHOD=R.P.PHONE_SIGN_IN_METHOD,Ge.PROVIDER_ID=R.P.PROVIDER_ID;const Dt=R.ax;class an{constructor(z,j,Ee=V.Z.app()){var He;Dt(null===(He=Ee.options)||void 0===He?void 0:He.apiKey,"invalid-api-key",{appName:Ee.name}),this._delegate=new R.R(z,j,Ee.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Wn(Y){Y.INTERNAL.registerComponent(new pe.wA("auth-compat",z=>{const j=z.getProvider("app-compat").getImmediate(),Ee=z.getProvider("auth");return new W(j,Ee)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:R.A.EMAIL_SIGNIN,PASSWORD_RESET:R.A.PASSWORD_RESET,RECOVER_EMAIL:R.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:R.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:R.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:R.A.VERIFY_EMAIL}},EmailAuthProvider:R.M,FacebookAuthProvider:R.N,GithubAuthProvider:R.T,GoogleAuthProvider:R.Q,OAuthProvider:R.U,SAMLAuthProvider:R.V,PhoneAuthProvider:Ge,PhoneMultiFactorGenerator:R.m,RecaptchaVerifier:an,TwitterAuthProvider:R.W,Auth:W,AuthCredential:R.H,Error:se.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Y.registerVersion("@firebase/auth-compat","0.2.18")}(V.Z)},9751:(ht,Re,O)=>{O.d(Re,{y:()=>he});var h=O(2961),V=O(727),R=O(8822),se=O(9635),ae=O(2416),ye=O(576),pe=O(2806);let he=(()=>{class ee{constructor(ke){ke&&(this._subscribe=ke)}lift(ke){const De=new ee;return De.source=this,De.operator=ke,De}subscribe(ke,De,it){const we=function G(ee){return ee&&ee instanceof h.Lv||function H(ee){return ee&&(0,ye.m)(ee.next)&&(0,ye.m)(ee.error)&&(0,ye.m)(ee.complete)}(ee)&&(0,V.Nn)(ee)}(ke)?ke:new h.Hp(ke,De,it);return(0,pe.x)(()=>{const{operator:ge,source:et}=this;we.add(ge?ge.call(we,et):et?this._subscribe(we):this._trySubscribe(we))}),we}_trySubscribe(ke){try{return this._subscribe(ke)}catch(De){ke.error(De)}}forEach(ke,De){return new(De=ve(De))((it,we)=>{const ge=new h.Hp({next:et=>{try{ke(et)}catch(tt){we(tt),ge.unsubscribe()}},error:we,complete:it});this.subscribe(ge)})}_subscribe(ke){var De;return null===(De=this.source)||void 0===De?void 0:De.subscribe(ke)}[R.L](){return this}pipe(...ke){return(0,se.U)(ke)(this)}toPromise(ke){return new(ke=ve(ke))((De,it)=>{let we;this.subscribe(ge=>we=ge,ge=>it(ge),()=>De(we))})}}return ee.create=$e=>new ee($e),ee})();function ve(ee){var $e;return null!==($e=ee??ae.v.Promise)&&void 0!==$e?$e:Promise}},7579:(ht,Re,O)=>{O.d(Re,{x:()=>pe});var h=O(9751),V=O(727);const se=(0,O(3888).d)(ve=>function(){ve(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ae=O(8737),ye=O(2806);let pe=(()=>{class ve extends h.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(G){const ee=new he(this,this);return ee.operator=G,ee}_throwIfClosed(){if(this.closed)throw new se}next(G){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ee of this.currentObservers)ee.next(G)}})}error(G){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=G;const{observers:ee}=this;for(;ee.length;)ee.shift().error(G)}})}complete(){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:G}=this;for(;G.length;)G.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var G;return(null===(G=this.observers)||void 0===G?void 0:G.length)>0}_trySubscribe(G){return this._throwIfClosed(),super._trySubscribe(G)}_subscribe(G){return this._throwIfClosed(),this._checkFinalizedStatuses(G),this._innerSubscribe(G)}_innerSubscribe(G){const{hasError:ee,isStopped:$e,observers:ke}=this;return ee||$e?V.Lc:(this.currentObservers=null,ke.push(G),new V.w0(()=>{this.currentObservers=null,(0,ae.P)(ke,G)}))}_checkFinalizedStatuses(G){const{hasError:ee,thrownError:$e,isStopped:ke}=this;ee?G.error($e):ke&&G.complete()}asObservable(){const G=new h.y;return G.source=this,G}}return ve.create=(H,G)=>new he(H,G),ve})();class he extends pe{constructor(H,G){super(),this.destination=H,this.source=G}next(H){var G,ee;null===(ee=null===(G=this.destination)||void 0===G?void 0:G.next)||void 0===ee||ee.call(G,H)}error(H){var G,ee;null===(ee=null===(G=this.destination)||void 0===G?void 0:G.error)||void 0===ee||ee.call(G,H)}complete(){var H,G;null===(G=null===(H=this.destination)||void 0===H?void 0:H.complete)||void 0===G||G.call(H)}_subscribe(H){var G,ee;return null!==(ee=null===(G=this.source)||void 0===G?void 0:G.subscribe(H))&&void 0!==ee?ee:V.Lc}}},2961:(ht,Re,O)=>{O.d(Re,{Hp:()=>it,Lv:()=>ee});var h=O(576),V=O(727),R=O(2416),se=O(7849);function ae(){}const ye=ve("C",void 0,void 0);function ve(Fe,Oe,be){return{kind:Fe,value:Oe,error:be}}var H=O(3410),G=O(2806);class ee extends V.w0{constructor(Oe){super(),this.isStopped=!1,Oe?(this.destination=Oe,(0,V.Nn)(Oe)&&Oe.add(this)):this.destination=tt}static create(Oe,be,Ze){return new it(Oe,be,Ze)}next(Oe){this.isStopped?et(function he(Fe){return ve("N",Fe,void 0)}(Oe),this):this._next(Oe)}error(Oe){this.isStopped?et(function pe(Fe){return ve("E",void 0,Fe)}(Oe),this):(this.isStopped=!0,this._error(Oe))}complete(){this.isStopped?et(ye,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Oe){this.destination.next(Oe)}_error(Oe){try{this.destination.error(Oe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const $e=Function.prototype.bind;function ke(Fe,Oe){return $e.call(Fe,Oe)}class De{constructor(Oe){this.partialObserver=Oe}next(Oe){const{partialObserver:be}=this;if(be.next)try{be.next(Oe)}catch(Ze){we(Ze)}}error(Oe){const{partialObserver:be}=this;if(be.error)try{be.error(Oe)}catch(Ze){we(Ze)}else we(Oe)}complete(){const{partialObserver:Oe}=this;if(Oe.complete)try{Oe.complete()}catch(be){we(be)}}}class it extends ee{constructor(Oe,be,Ze){let ie;if(super(),(0,h.m)(Oe)||!Oe)ie={next:Oe??void 0,error:be??void 0,complete:Ze??void 0};else{let ue;this&&R.v.useDeprecatedNextContext?(ue=Object.create(Oe),ue.unsubscribe=()=>this.unsubscribe(),ie={next:Oe.next&&ke(Oe.next,ue),error:Oe.error&&ke(Oe.error,ue),complete:Oe.complete&&ke(Oe.complete,ue)}):ie=Oe}this.destination=new De(ie)}}function we(Fe){R.v.useDeprecatedSynchronousErrorHandling?(0,G.O)(Fe):(0,se.h)(Fe)}function et(Fe,Oe){const{onStoppedNotification:be}=R.v;be&&H.z.setTimeout(()=>be(Fe,Oe))}const tt={closed:!0,next:ae,error:function ge(Fe){throw Fe},complete:ae}},727:(ht,Re,O)=>{O.d(Re,{Lc:()=>ye,w0:()=>ae,Nn:()=>pe});var h=O(576);const R=(0,O(3888).d)(ve=>function(G){ve(this),this.message=G?`${G.length} errors occurred during unsubscription:\n${G.map((ee,$e)=>`${$e+1}) ${ee.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=G});var se=O(8737);class ae{constructor(H){this.initialTeardown=H,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let H;if(!this.closed){this.closed=!0;const{_parentage:G}=this;if(G)if(this._parentage=null,Array.isArray(G))for(const ke of G)ke.remove(this);else G.remove(this);const{initialTeardown:ee}=this;if((0,h.m)(ee))try{ee()}catch(ke){H=ke instanceof R?ke.errors:[ke]}const{_finalizers:$e}=this;if($e){this._finalizers=null;for(const ke of $e)try{he(ke)}catch(De){H=H??[],De instanceof R?H=[...H,...De.errors]:H.push(De)}}if(H)throw new R(H)}}add(H){var G;if(H&&H!==this)if(this.closed)he(H);else{if(H instanceof ae){if(H.closed||H._hasParent(this))return;H._addParent(this)}(this._finalizers=null!==(G=this._finalizers)&&void 0!==G?G:[]).push(H)}}_hasParent(H){const{_parentage:G}=this;return G===H||Array.isArray(G)&&G.includes(H)}_addParent(H){const{_parentage:G}=this;this._parentage=Array.isArray(G)?(G.push(H),G):G?[G,H]:H}_removeParent(H){const{_parentage:G}=this;G===H?this._parentage=null:Array.isArray(G)&&(0,se.P)(G,H)}remove(H){const{_finalizers:G}=this;G&&(0,se.P)(G,H),H instanceof ae&&H._removeParent(this)}}ae.EMPTY=(()=>{const ve=new ae;return ve.closed=!0,ve})();const ye=ae.EMPTY;function pe(ve){return ve instanceof ae||ve&&"closed"in ve&&(0,h.m)(ve.remove)&&(0,h.m)(ve.add)&&(0,h.m)(ve.unsubscribe)}function he(ve){(0,h.m)(ve)?ve():ve.unsubscribe()}},2416:(ht,Re,O)=>{O.d(Re,{v:()=>h});const h={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(ht,Re,O)=>{O.d(Re,{E:()=>V});const V=new(O(9751).y)(ae=>ae.complete())},8996:(ht,Re,O)=>{O.d(Re,{D:()=>Oe});var h=O(8421),V=O(5363),R=O(9468),ye=O(9751),he=O(2202),ve=O(576),H=O(9672);function ee(be,Ze){if(!be)throw new Error("Iterable cannot be null");return new ye.y(ie=>{(0,H.f)(ie,Ze,()=>{const ue=be[Symbol.asyncIterator]();(0,H.f)(ie,Ze,()=>{ue.next().then(_e=>{_e.done?ie.complete():ie.next(_e.value)})},0,!0)})})}var $e=O(3670),ke=O(8239),De=O(1144),it=O(6495),we=O(2206),ge=O(4532),et=O(3260);function Oe(be,Ze){return Ze?function Fe(be,Ze){if(null!=be){if((0,$e.c)(be))return function se(be,Ze){return(0,h.Xf)(be).pipe((0,R.R)(Ze),(0,V.Q)(Ze))}(be,Ze);if((0,De.z)(be))return function pe(be,Ze){return new ye.y(ie=>{let ue=0;return Ze.schedule(function(){ue===be.length?ie.complete():(ie.next(be[ue++]),ie.closed||this.schedule())})})}(be,Ze);if((0,ke.t)(be))return function ae(be,Ze){return(0,h.Xf)(be).pipe((0,R.R)(Ze),(0,V.Q)(Ze))}(be,Ze);if((0,we.D)(be))return ee(be,Ze);if((0,it.T)(be))return function G(be,Ze){return new ye.y(ie=>{let ue;return(0,H.f)(ie,Ze,()=>{ue=be[he.h](),(0,H.f)(ie,Ze,()=>{let _e,X;try{({value:_e,done:X}=ue.next())}catch(te){return void ie.error(te)}X?ie.complete():ie.next(_e)},0,!0)}),()=>(0,ve.m)(ue?.return)&&ue.return()})}(be,Ze);if((0,et.L)(be))return function tt(be,Ze){return ee((0,et.Q)(be),Ze)}(be,Ze)}throw(0,ge.z)(be)}(be,Ze):(0,h.Xf)(be)}},8421:(ht,Re,O)=>{O.d(Re,{Xf:()=>$e});var h=O(655),V=O(1144),R=O(8239),se=O(9751),ae=O(3670),ye=O(2206),pe=O(4532),he=O(6495),ve=O(3260),H=O(576),G=O(7849),ee=O(8822);function $e(Fe){if(Fe instanceof se.y)return Fe;if(null!=Fe){if((0,ae.c)(Fe))return function ke(Fe){return new se.y(Oe=>{const be=Fe[ee.L]();if((0,H.m)(be.subscribe))return be.subscribe(Oe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Fe);if((0,V.z)(Fe))return function De(Fe){return new se.y(Oe=>{for(let be=0;be<Fe.length&&!Oe.closed;be++)Oe.next(Fe[be]);Oe.complete()})}(Fe);if((0,R.t)(Fe))return function it(Fe){return new se.y(Oe=>{Fe.then(be=>{Oe.closed||(Oe.next(be),Oe.complete())},be=>Oe.error(be)).then(null,G.h)})}(Fe);if((0,ye.D)(Fe))return ge(Fe);if((0,he.T)(Fe))return function we(Fe){return new se.y(Oe=>{for(const be of Fe)if(Oe.next(be),Oe.closed)return;Oe.complete()})}(Fe);if((0,ve.L)(Fe))return function et(Fe){return ge((0,ve.Q)(Fe))}(Fe)}throw(0,pe.z)(Fe)}function ge(Fe){return new se.y(Oe=>{(function tt(Fe,Oe){var be,Ze,ie,ue;return(0,h.mG)(this,void 0,void 0,function*(){try{for(be=(0,h.KL)(Fe);!(Ze=yield be.next()).done;)if(Oe.next(Ze.value),Oe.closed)return}catch(_e){ie={error:_e}}finally{try{Ze&&!Ze.done&&(ue=be.return)&&(yield ue.call(be))}finally{if(ie)throw ie.error}}Oe.complete()})})(Fe,Oe).catch(be=>Oe.error(be))})}},6451:(ht,Re,O)=>{O.d(Re,{T:()=>ye});var h=O(8189),V=O(8421),R=O(515),se=O(7669),ae=O(8996);function ye(...pe){const he=(0,se.yG)(pe),ve=(0,se._6)(pe,1/0),H=pe;return H.length?1===H.length?(0,V.Xf)(H[0]):(0,h.J)(ve)((0,ae.D)(H,he)):R.E}},5403:(ht,Re,O)=>{O.d(Re,{x:()=>V});var h=O(2961);function V(se,ae,ye,pe,he){return new R(se,ae,ye,pe,he)}class R extends h.Lv{constructor(ae,ye,pe,he,ve,H){super(ae),this.onFinalize=ve,this.shouldUnsubscribe=H,this._next=ye?function(G){try{ye(G)}catch(ee){ae.error(ee)}}:super._next,this._error=he?function(G){try{he(G)}catch(ee){ae.error(ee)}finally{this.unsubscribe()}}:super._error,this._complete=pe?function(){try{pe()}catch(G){ae.error(G)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ae;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ye}=this;super.unsubscribe(),!ye&&(null===(ae=this.onFinalize)||void 0===ae||ae.call(this))}}}},4004:(ht,Re,O)=>{O.d(Re,{U:()=>R});var h=O(4482),V=O(5403);function R(se,ae){return(0,h.e)((ye,pe)=>{let he=0;ye.subscribe((0,V.x)(pe,ve=>{pe.next(se.call(ae,ve,he++))}))})}},8189:(ht,Re,O)=>{O.d(Re,{J:()=>R});var h=O(5577),V=O(4671);function R(se=1/0){return(0,h.z)(V.y,se)}},5577:(ht,Re,O)=>{O.d(Re,{z:()=>he});var h=O(4004),V=O(8421),R=O(4482),se=O(9672),ae=O(5403),pe=O(576);function he(ve,H,G=1/0){return(0,pe.m)(H)?he((ee,$e)=>(0,h.U)((ke,De)=>H(ee,ke,$e,De))((0,V.Xf)(ve(ee,$e))),G):("number"==typeof H&&(G=H),(0,R.e)((ee,$e)=>function ye(ve,H,G,ee,$e,ke,De,it){const we=[];let ge=0,et=0,tt=!1;const Fe=()=>{tt&&!we.length&&!ge&&H.complete()},Oe=Ze=>ge<ee?be(Ze):we.push(Ze),be=Ze=>{ke&&H.next(Ze),ge++;let ie=!1;(0,V.Xf)(G(Ze,et++)).subscribe((0,ae.x)(H,ue=>{$e?.(ue),ke?Oe(ue):H.next(ue)},()=>{ie=!0},void 0,()=>{if(ie)try{for(ge--;we.length&&ge<ee;){const ue=we.shift();De?(0,se.f)(H,De,()=>be(ue)):be(ue)}Fe()}catch(ue){H.error(ue)}}))};return ve.subscribe((0,ae.x)(H,Oe,()=>{tt=!0,Fe()})),()=>{it?.()}}(ee,$e,ve,G)))}},5363:(ht,Re,O)=>{O.d(Re,{Q:()=>se});var h=O(9672),V=O(4482),R=O(5403);function se(ae,ye=0){return(0,V.e)((pe,he)=>{pe.subscribe((0,R.x)(he,ve=>(0,h.f)(he,ae,()=>he.next(ve),ye),()=>(0,h.f)(he,ae,()=>he.complete(),ye),ve=>(0,h.f)(he,ae,()=>he.error(ve),ye)))})}},3099:(ht,Re,O)=>{O.d(Re,{B:()=>ae});var h=O(8421),V=O(7579),R=O(2961),se=O(4482);function ae(pe={}){const{connector:he=(()=>new V.x),resetOnError:ve=!0,resetOnComplete:H=!0,resetOnRefCountZero:G=!0}=pe;return ee=>{let $e,ke,De,it=0,we=!1,ge=!1;const et=()=>{ke?.unsubscribe(),ke=void 0},tt=()=>{et(),$e=De=void 0,we=ge=!1},Fe=()=>{const Oe=$e;tt(),Oe?.unsubscribe()};return(0,se.e)((Oe,be)=>{it++,!ge&&!we&&et();const Ze=De=De??he();be.add(()=>{it--,0===it&&!ge&&!we&&(ke=ye(Fe,G))}),Ze.subscribe(be),!$e&&it>0&&($e=new R.Hp({next:ie=>Ze.next(ie),error:ie=>{ge=!0,et(),ke=ye(tt,ve,ie),Ze.error(ie)},complete:()=>{we=!0,et(),ke=ye(tt,H),Ze.complete()}}),(0,h.Xf)(Oe).subscribe($e))})(ee)}}function ye(pe,he,...ve){if(!0===he)return void pe();if(!1===he)return;const H=new R.Hp({next:()=>{H.unsubscribe(),pe()}});return he(...ve).subscribe(H)}},9468:(ht,Re,O)=>{O.d(Re,{R:()=>V});var h=O(4482);function V(R,se=0){return(0,h.e)((ae,ye)=>{ye.add(R.schedule(()=>ae.subscribe(ye),se))})}},8505:(ht,Re,O)=>{O.d(Re,{b:()=>ae});var h=O(576),V=O(4482),R=O(5403),se=O(4671);function ae(ye,pe,he){const ve=(0,h.m)(ye)||pe||he?{next:ye,error:pe,complete:he}:ye;return ve?(0,V.e)((H,G)=>{var ee;null===(ee=ve.subscribe)||void 0===ee||ee.call(ve);let $e=!0;H.subscribe((0,R.x)(G,ke=>{var De;null===(De=ve.next)||void 0===De||De.call(ve,ke),G.next(ke)},()=>{var ke;$e=!1,null===(ke=ve.complete)||void 0===ke||ke.call(ve),G.complete()},ke=>{var De;$e=!1,null===(De=ve.error)||void 0===De||De.call(ve,ke),G.error(ke)},()=>{var ke,De;$e&&(null===(ke=ve.unsubscribe)||void 0===ke||ke.call(ve)),null===(De=ve.finalize)||void 0===De||De.call(ve)}))}):se.y}},4408:(ht,Re,O)=>{O.d(Re,{o:()=>ae});var h=O(727);class V extends h.w0{constructor(pe,he){super()}schedule(pe,he=0){return this}}const R={setInterval(ye,pe,...he){const{delegate:ve}=R;return ve?.setInterval?ve.setInterval(ye,pe,...he):setInterval(ye,pe,...he)},clearInterval(ye){const{delegate:pe}=R;return(pe?.clearInterval||clearInterval)(ye)},delegate:void 0};var se=O(8737);class ae extends V{constructor(pe,he){super(pe,he),this.scheduler=pe,this.work=he,this.pending=!1}schedule(pe,he=0){if(this.closed)return this;this.state=pe;const ve=this.id,H=this.scheduler;return null!=ve&&(this.id=this.recycleAsyncId(H,ve,he)),this.pending=!0,this.delay=he,this.id=this.id||this.requestAsyncId(H,this.id,he),this}requestAsyncId(pe,he,ve=0){return R.setInterval(pe.flush.bind(pe,this),ve)}recycleAsyncId(pe,he,ve=0){if(null!=ve&&this.delay===ve&&!1===this.pending)return he;R.clearInterval(he)}execute(pe,he){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ve=this._execute(pe,he);if(ve)return ve;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(pe,he){let H,ve=!1;try{this.work(pe)}catch(G){ve=!0,H=G||new Error("Scheduled action threw falsy error")}if(ve)return this.unsubscribe(),H}unsubscribe(){if(!this.closed){const{id:pe,scheduler:he}=this,{actions:ve}=he;this.work=this.state=this.scheduler=null,this.pending=!1,(0,se.P)(ve,this),null!=pe&&(this.id=this.recycleAsyncId(he,pe,null)),this.delay=null,super.unsubscribe()}}}},7565:(ht,Re,O)=>{O.d(Re,{v:()=>R});var h=O(6063);class V{constructor(ae,ye=V.now){this.schedulerActionCtor=ae,this.now=ye}schedule(ae,ye=0,pe){return new this.schedulerActionCtor(this,ae).schedule(pe,ye)}}V.now=h.l.now;class R extends V{constructor(ae,ye=V.now){super(ae,ye),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ae){const{actions:ye}=this;if(this._active)return void ye.push(ae);let pe;this._active=!0;do{if(pe=ae.execute(ae.state,ae.delay))break}while(ae=ye.shift());if(this._active=!1,pe){for(;ae=ye.shift();)ae.unsubscribe();throw pe}}}},4986:(ht,Re,O)=>{O.d(Re,{z:()=>R});var h=O(4408);const R=new(O(7565).v)(h.o)},6063:(ht,Re,O)=>{O.d(Re,{l:()=>h});const h={now:()=>(h.delegate||Date).now(),delegate:void 0}},3410:(ht,Re,O)=>{O.d(Re,{z:()=>h});const h={setTimeout(V,R,...se){const{delegate:ae}=h;return ae?.setTimeout?ae.setTimeout(V,R,...se):setTimeout(V,R,...se)},clearTimeout(V){const{delegate:R}=h;return(R?.clearTimeout||clearTimeout)(V)},delegate:void 0}},2202:(ht,Re,O)=>{O.d(Re,{h:()=>V});const V=function h(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ht,Re,O)=>{O.d(Re,{L:()=>h});const h="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(ht,Re,O)=>{O.d(Re,{_6:()=>ye,jO:()=>se,yG:()=>ae});var h=O(576);function R(pe){return pe[pe.length-1]}function se(pe){return(0,h.m)(R(pe))?pe.pop():void 0}function ae(pe){return function V(pe){return pe&&(0,h.m)(pe.schedule)}(R(pe))?pe.pop():void 0}function ye(pe,he){return"number"==typeof R(pe)?pe.pop():he}},8737:(ht,Re,O)=>{function h(V,R){if(V){const se=V.indexOf(R);0<=se&&V.splice(se,1)}}O.d(Re,{P:()=>h})},3888:(ht,Re,O)=>{function h(V){const se=V(ae=>{Error.call(ae),ae.stack=(new Error).stack});return se.prototype=Object.create(Error.prototype),se.prototype.constructor=se,se}O.d(Re,{d:()=>h})},2806:(ht,Re,O)=>{O.d(Re,{O:()=>se,x:()=>R});var h=O(2416);let V=null;function R(ae){if(h.v.useDeprecatedSynchronousErrorHandling){const ye=!V;if(ye&&(V={errorThrown:!1,error:null}),ae(),ye){const{errorThrown:pe,error:he}=V;if(V=null,pe)throw he}}else ae()}function se(ae){h.v.useDeprecatedSynchronousErrorHandling&&V&&(V.errorThrown=!0,V.error=ae)}},9672:(ht,Re,O)=>{function h(V,R,se,ae=0,ye=!1){const pe=R.schedule(function(){se(),ye?V.add(this.schedule(null,ae)):this.unsubscribe()},ae);if(V.add(pe),!ye)return pe}O.d(Re,{f:()=>h})},4671:(ht,Re,O)=>{function h(V){return V}O.d(Re,{y:()=>h})},1144:(ht,Re,O)=>{O.d(Re,{z:()=>h});const h=V=>V&&"number"==typeof V.length&&"function"!=typeof V},2206:(ht,Re,O)=>{O.d(Re,{D:()=>V});var h=O(576);function V(R){return Symbol.asyncIterator&&(0,h.m)(R?.[Symbol.asyncIterator])}},576:(ht,Re,O)=>{function h(V){return"function"==typeof V}O.d(Re,{m:()=>h})},3670:(ht,Re,O)=>{O.d(Re,{c:()=>R});var h=O(8822),V=O(576);function R(se){return(0,V.m)(se[h.L])}},6495:(ht,Re,O)=>{O.d(Re,{T:()=>R});var h=O(2202),V=O(576);function R(se){return(0,V.m)(se?.[h.h])}},8239:(ht,Re,O)=>{O.d(Re,{t:()=>V});var h=O(576);function V(R){return(0,h.m)(R?.then)}},3260:(ht,Re,O)=>{O.d(Re,{L:()=>se,Q:()=>R});var h=O(655),V=O(576);function R(ae){return(0,h.FC)(this,arguments,function*(){const pe=ae.getReader();try{for(;;){const{value:he,done:ve}=yield(0,h.qq)(pe.read());if(ve)return yield(0,h.qq)(void 0);yield yield(0,h.qq)(he)}}finally{pe.releaseLock()}})}function se(ae){return(0,V.m)(ae?.getReader)}},4482:(ht,Re,O)=>{O.d(Re,{A:()=>V,e:()=>R});var h=O(576);function V(se){return(0,h.m)(se?.lift)}function R(se){return ae=>{if(V(ae))return ae.lift(function(ye){try{return se(ye,this)}catch(pe){this.error(pe)}});throw new TypeError("Unable to lift unknown Observable type")}}},9635:(ht,Re,O)=>{O.d(Re,{U:()=>R,z:()=>V});var h=O(4671);function V(...se){return R(se)}function R(se){return 0===se.length?h.y:1===se.length?se[0]:function(ye){return se.reduce((pe,he)=>he(pe),ye)}}},7849:(ht,Re,O)=>{O.d(Re,{h:()=>R});var h=O(2416),V=O(3410);function R(se){V.z.setTimeout(()=>{const{onUnhandledError:ae}=h.v;if(!ae)throw se;ae(se)})}},4532:(ht,Re,O)=>{function h(V){return new TypeError(`You provided ${null!==V&&"object"==typeof V?"an invalid object":`'${V}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}O.d(Re,{z:()=>h})},655:(ht,Re,O)=>{function se(X,te){var fe={};for(var oe in X)Object.prototype.hasOwnProperty.call(X,oe)&&te.indexOf(oe)<0&&(fe[oe]=X[oe]);if(null!=X&&"function"==typeof Object.getOwnPropertySymbols){var Ve=0;for(oe=Object.getOwnPropertySymbols(X);Ve<oe.length;Ve++)te.indexOf(oe[Ve])<0&&Object.prototype.propertyIsEnumerable.call(X,oe[Ve])&&(fe[oe[Ve]]=X[oe[Ve]])}return fe}function he(X,te,fe,oe){return new(fe||(fe=Promise))(function(Ue,gt){function en(yn){try{Ke(oe.next(yn))}catch(kn){gt(kn)}}function Jt(yn){try{Ke(oe.throw(yn))}catch(kn){gt(kn)}}function Ke(yn){yn.done?Ue(yn.value):function Ve(Ue){return Ue instanceof fe?Ue:new fe(function(gt){gt(Ue)})}(yn.value).then(en,Jt)}Ke((oe=oe.apply(X,te||[])).next())})}function we(X){return this instanceof we?(this.v=X,this):new we(X)}function ge(X,te,fe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ve,oe=fe.apply(X,te||[]),Ue=[];return Ve={},gt("next"),gt("throw"),gt("return"),Ve[Symbol.asyncIterator]=function(){return this},Ve;function gt(on){oe[on]&&(Ve[on]=function(tn){return new Promise(function(Qt,Gt){Ue.push([on,tn,Qt,Gt])>1||en(on,tn)})})}function en(on,tn){try{!function Jt(on){on.value instanceof we?Promise.resolve(on.value.v).then(Ke,yn):kn(Ue[0][2],on)}(oe[on](tn))}catch(Qt){kn(Ue[0][3],Qt)}}function Ke(on){en("next",on)}function yn(on){en("throw",on)}function kn(on,tn){on(tn),Ue.shift(),Ue.length&&en(Ue[0][0],Ue[0][1])}}function tt(X){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var fe,te=X[Symbol.asyncIterator];return te?te.call(X):(X=function ee(X){var te="function"==typeof Symbol&&Symbol.iterator,fe=te&&X[te],oe=0;if(fe)return fe.call(X);if(X&&"number"==typeof X.length)return{next:function(){return X&&oe>=X.length&&(X=void 0),{value:X&&X[oe++],done:!X}}};throw new TypeError(te?"Object is not iterable.":"Symbol.iterator is not defined.")}(X),fe={},oe("next"),oe("throw"),oe("return"),fe[Symbol.asyncIterator]=function(){return this},fe);function oe(Ue){fe[Ue]=X[Ue]&&function(gt){return new Promise(function(en,Jt){!function Ve(Ue,gt,en,Jt){Promise.resolve(Jt).then(function(Ke){Ue({value:Ke,done:en})},gt)}(en,Jt,(gt=X[Ue](gt)).done,gt.value)})}}}O.d(Re,{FC:()=>ge,KL:()=>tt,_T:()=>se,mG:()=>he,qq:()=>we})},4650:(ht,Re,O)=>{O.d(Re,{$8M:()=>xl,$Z:()=>SE,AFp:()=>GI,AaK:()=>he,CRH:()=>TI,CZH:()=>Kf,CqO:()=>rc,D6c:()=>$m,EJc:()=>qI,F4k:()=>Hg,FYo:()=>Bw,FiY:()=>J,G48:()=>oD,GfV:()=>tf,Gpc:()=>G,JOm:()=>ti,LFG:()=>Vn,LSH:()=>Bp,Lbi:()=>qr,Lck:()=>gc,MMx:()=>fm,NdJ:()=>Tf,OlP:()=>vt,Oqu:()=>sc,PXZ:()=>XI,Q6J:()=>bf,QGY:()=>H_,QP$:()=>Ic,QbO:()=>$v,Qsj:()=>zp,R0b:()=>Rr,RDi:()=>cy,Rgc:()=>Nn,SBq:()=>ef,Sil:()=>Yf,Suo:()=>Xd,TTD:()=>ci,TgZ:()=>Cf,X6Q:()=>bT,XFs:()=>ft,Xpm:()=>U,Xts:()=>Gi,Y36:()=>md,YKP:()=>_v,Yjl:()=>Wn,Yz7:()=>tn,ZZ4:()=>jm,_Bn:()=>xn,_UZ:()=>tc,_Vd:()=>ld,_c5:()=>yD,_uU:()=>Kg,aQg:()=>ow,c2e:()=>rl,cJS:()=>Gt,cg1:()=>er,dDg:()=>IT,dqk:()=>rt,eFA:()=>Sc,ekj:()=>Y_,eoX:()=>Rm,f3M:()=>td,g9A:()=>Sm,h0i:()=>zd,hGG:()=>uw,hij:()=>Nf,iGM:()=>Ao,ifc:()=>st,ip1:()=>HI,kL8:()=>tm,lG2:()=>un,lqb:()=>Gl,lri:()=>Zv,n5z:()=>xu,oAB:()=>Ge,q4F:()=>nf,qLn:()=>cd,qOj:()=>Pg,qZA:()=>$g,rWj:()=>QI,s9C:()=>On,sBO:()=>aD,sIi:()=>Sd,s_b:()=>el,soG:()=>xm,tb:()=>Mm,tp0:()=>Ne,uIk:()=>L_,vHH:()=>De,vpe:()=>Yi,wAp:()=>At,xp6:()=>Qy,z2F:()=>Fm,zSh:()=>Dy,zs3:()=>Bu});var h=O(7579),V=O(727),R=O(9751),se=O(6451),ae=O(3099);function ye(s){for(let o in s)if(s[o]===ye)return o;throw Error("Could not find renamed property on target object.")}function pe(s,o){for(const a in o)o.hasOwnProperty(a)&&!s.hasOwnProperty(a)&&(s[a]=o[a])}function he(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(he).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function ve(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const H=ye({__forward_ref__:ye});function G(s){return s.__forward_ref__=G,s.toString=function(){return he(this())},s}function ee(s){return $e(s)?s():s}function $e(s){return"function"==typeof s&&s.hasOwnProperty(H)&&s.__forward_ref__===G}class De extends Error{constructor(o,a){super(function it(s,o){return`NG0${Math.abs(s)}${o?": "+o.trim():""}`}(o,a)),this.code=o}}function we(s){return"string"==typeof s?s:null==s?"":String(s)}function Oe(s,o){throw new De(-201,!1)}function Jt(s,o){null==s&&function Ke(s,o,a,l){throw new Error(`ASSERTION ERROR: ${s}`+(null==l?"":` [Expected=> ${a} ${l} ${o} <=Actual]`))}(o,s,null,"!=")}function tn(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Gt(s){return{providers:s.providers||[],imports:s.imports||[]}}function Tr(s){return Ys(s,oi)||Ys(s,Bn)}function Ys(s,o){return s.hasOwnProperty(o)?s[o]:null}function Ri(s){return s&&(s.hasOwnProperty(ai)||s.hasOwnProperty(ns))?s[ai]:null}const oi=ye({\u0275prov:ye}),ai=ye({\u0275inj:ye}),Bn=ye({ngInjectableDef:ye}),ns=ye({ngInjectorDef:ye});var ft=(()=>((ft=ft||{})[ft.Default=0]="Default",ft[ft.Host=1]="Host",ft[ft.Self=2]="Self",ft[ft.SkipSelf=4]="SkipSelf",ft[ft.Optional=8]="Optional",ft))();let _n;function nn(s){const o=_n;return _n=s,o}function rr(s,o,a){const l=Tr(s);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:a&ft.Optional?null:void 0!==o?o:void Oe(he(s))}function dr(s){return{toString:s}.toString()}var pn=(()=>((pn=pn||{})[pn.OnPush=0]="OnPush",pn[pn.Default=1]="Default",pn))(),st=(()=>{return(s=st||(st={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",st;var s})();const rt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Sn={},$t=[],Pn=ye({\u0275cmp:ye}),kr=ye({\u0275dir:ye}),Pt=ye({\u0275pipe:ye}),ui=ye({\u0275mod:ye}),Rt=ye({\u0275fac:ye}),Q=ye({__NG_ELEMENT_ID__:ye});let $=0;function U(s){return dr(()=>{const a=!0===s.standalone,l={},d={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===pn.OnPush,directiveDefs:null,pipeDefs:null,standalone:a,dependencies:a&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||$t,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||st.Emulated,id:"c"+$++,styles:s.styles||$t,_:null,setInput:null,schemas:s.schemas||null,tView:null},p=s.dependencies,_=s.features;return d.inputs=an(s.inputs,l),d.outputs=an(s.outputs),_&&_.forEach(w=>w(d)),d.directiveDefs=p?()=>("function"==typeof p?p():p).map(Z).filter(Ae):null,d.pipeDefs=p?()=>("function"==typeof p?p():p).map(j).filter(Ae):null,d})}function Z(s){return Y(s)||z(s)}function Ae(s){return null!==s}function Ge(s){return dr(()=>({type:s.type,bootstrap:s.bootstrap||$t,declarations:s.declarations||$t,imports:s.imports||$t,exports:s.exports||$t,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function an(s,o){if(null==s)return Sn;const a={};for(const l in s)if(s.hasOwnProperty(l)){let d=s[l],p=d;Array.isArray(d)&&(p=d[1],d=d[0]),a[d]=l,o&&(o[d]=p)}return a}const un=U;function Wn(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function Y(s){return s[Pn]||null}function z(s){return s[kr]||null}function j(s){return s[Pt]||null}function Ee(s,o){const a=s[ui]||null;if(!a&&!0===o)throw new Error(`Type ${he(s)} does not have '\u0275mod' property.`);return a}function wr(s){return Array.isArray(s)&&"object"==typeof s[1]}function mi(s){return Array.isArray(s)&&!0===s[1]}function Ms(s){return 0!=(8&s.flags)}function Sa(s){return 2==(2&s.flags)}function to(s){return 1==(1&s.flags)}function Oi(s){return null!==s.template}function Uc(s){return 0!=(256&s[2])}function Fo(s,o){return s.hasOwnProperty(Rt)?s[Rt]:null}class xa{constructor(o,a,l){this.previousValue=o,this.currentValue=a,this.firstChange=l}isFirstChange(){return this.firstChange}}function ci(){return ro}function ro(s){return s.type.prototype.ngOnChanges&&(s.setInput=Ch),Lo}function Lo(){const s=vu(this),o=s?.current;if(o){const a=s.previous;if(a===Sn)s.previous=o;else for(let l in o)a[l]=o[l];s.current=null,this.ngOnChanges(o)}}function Ch(s,o,a,l){const d=vu(s)||function Th(s,o){return s[Na]=o}(s,{previous:Sn,current:null}),p=d.current||(d.current={}),_=d.previous,w=this.declaredInputs[a],D=_[w];p[w]=new xa(D&&D.currentValue,o,_===Sn),s[l]=o}ci.ngInherit=!0;const Na="__ngSimpleChanges__";function vu(s){return s[Na]||null}function Kn(s){for(;Array.isArray(s);)s=s[0];return s}function Ra(s,o){return Kn(o[s])}function Xr(s,o){return Kn(o[s.index])}function oo(s,o){return s.data[o]}function fr(s,o){const a=o[s];return wr(a)?a:a[0]}function ao(s){return 4==(4&s[2])}function ki(s){return 64==(64&s[2])}function Fi(s,o){return null==o?null:s[o]}function Rs(s){s[18]=0}function uo(s,o){s[5]+=o;let a=s,l=s[3];for(;null!==l&&(1===o&&1===a[5]||-1===o&&0===a[5]);)l[5]+=o,a=l,l=l[3]}const bt={lFrame:Wo(null),bindingsEnabled:!0};function Vo(){return bt.bindingsEnabled}function Me(){return bt.lFrame.lView}function qt(){return bt.lFrame.tView}function $n(){let s=lo();for(;null!==s&&64===s.type;)s=s.parent;return s}function lo(){return bt.lFrame.currentTNode}function Fr(s,o){const a=bt.lFrame;a.currentTNode=s,a.isParent=o}function vl(){return bt.lFrame.isParent}function ho(){return bt.lFrame.bindingIndex++}function Iu(s,o){const a=bt.lFrame;a.bindingIndex=a.bindingRootIndex=s,ka(o)}function ka(s){bt.lFrame.currentDirectiveIndex=s}function Go(){return bt.lFrame.currentQueryIndex}function Dl(s){bt.lFrame.currentQueryIndex=s}function La(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function Du(s,o,a){if(a&ft.SkipSelf){let d=o,p=s;for(;!(d=d.parent,null!==d||a&ft.Host||(d=La(p),null===d||(p=p[15],10&d.type))););if(null===d)return!1;o=d,s=p}const l=bt.lFrame=qc();return l.currentTNode=o,l.lView=s,!0}function zo(s){const o=qc(),a=s[1];bt.lFrame=o,o.currentTNode=a.firstChild,o.lView=s,o.tView=a,o.contextLView=s,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function qc(){const s=bt.lFrame,o=null===s?null:s.child;return null===o?Wo(s):o}function Wo(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function Zc(){const s=bt.lFrame;return bt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const qo=Zc;function bu(){const s=Zc();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Yn(){return bt.lFrame.selectedIndex}function Li(s){bt.lFrame.selectedIndex=s}function mn(){const s=bt.lFrame;return oo(s.tView,s.selectedIndex)}function Tl(s,o){for(let a=o.directiveStart,l=o.directiveEnd;a<l;a++){const p=s.data[a].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:w,ngAfterViewInit:D,ngAfterViewChecked:T,ngOnDestroy:N}=p;_&&(s.contentHooks||(s.contentHooks=[])).push(-a,_),w&&((s.contentHooks||(s.contentHooks=[])).push(a,w),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(a,w)),D&&(s.viewHooks||(s.viewHooks=[])).push(-a,D),T&&((s.viewHooks||(s.viewHooks=[])).push(a,T),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(a,T)),null!=N&&(s.destroyHooks||(s.destroyHooks=[])).push(a,N)}}function Ph(s,o,a){fo(s,o,3,a)}function Oh(s,o,a,l){(3&s[2])===a&&fo(s,o,a,l)}function Ua(s,o){let a=s[2];(3&a)===o&&(a&=2047,a+=1,s[2]=a)}function fo(s,o,a,l){const p=l??-1,_=o.length-1;let w=0;for(let D=void 0!==l?65535&s[18]:0;D<_;D++)if("number"==typeof o[D+1]){if(w=o[D],null!=l&&w>=l)break}else o[D]<0&&(s[18]+=65536),(w<p||-1==p)&&(iy(s,a,o,D),s[18]=(4294901760&s[18])+D+2),D++}function iy(s,o,a,l){const d=a[l]<0,p=a[l+1],w=s[d?-a[l]:a[l]];if(d){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{p.call(w)}finally{}}}else try{p.call(w)}finally{}}class Zo{constructor(o,a,l){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=l}}function Ba(s,o,a){let l=0;for(;l<a.length;){const d=a[l];if("number"==typeof d){if(0!==d)break;l++;const p=a[l++],_=a[l++],w=a[l++];s.setAttribute(o,_,w,p)}else{const p=d,_=a[++l];ja(p)?s.setProperty(o,p,_):s.setAttribute(o,p,_),l++}}return l}function Sl(s){return 3===s||4===s||6===s}function ja(s){return 64===s.charCodeAt(0)}function Qo(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let a=-1;for(let l=0;l<o.length;l++){const d=o[l];"number"==typeof d?a=d:0===a||Lh(s,a,d,null,-1===a||2===a?o[++l]:null)}}return s}function Lh(s,o,a,l,d){let p=0,_=s.length;if(-1===o)_=-1;else for(;p<s.length;){const w=s[p++];if("number"==typeof w){if(w===o){_=-1;break}if(w>o){_=p-1;break}}}for(;p<s.length;){const w=s[p];if("number"==typeof w)break;if(w===a){if(null===l)return void(null!==d&&(s[p+1]=d));if(l===s[p+1])return void(s[p+2]=d)}p++,null!==l&&p++,null!==d&&p++}-1!==_&&(s.splice(_,0,o),p=_+1),s.splice(p++,0,a),null!==l&&s.splice(p++,0,l),null!==d&&s.splice(p++,0,d)}function Vh(s){return-1!==s}function $a(s){return 32767&s}function ir(s,o){let a=function oy(s){return s>>16}(s),l=o;for(;a>0;)l=l[15],a--;return l}let Uh=!0;function Ha(s){const o=Uh;return Uh=s,o}let Jo=0;const ze={};function Qn(s,o){const a=Vi(s,o);if(-1!==a)return a;const l=o[1];l.firstCreatePass&&(s.injectorIndex=o.length,Tu(l.data,s),Tu(o,null),Tu(l.blueprint,null));const d=ei(s,o),p=s.injectorIndex;if(Vh(d)){const _=$a(d),w=ir(d,o),D=w[1].data;for(let T=0;T<8;T++)o[p+T]=w[_+T]|D[_+T]}return o[p+8]=d,p}function Tu(s,o){s.push(0,0,0,0,0,0,0,0,o)}function Vi(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function ei(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let a=0,l=null,d=o;for(;null!==d;){if(l=cs(d),null===l)return-1;if(a++,d=d[15],-1!==l.injectorIndex)return l.injectorIndex|a<<16}return-1}function Au(s,o,a){!function us(s,o,a){let l;"string"==typeof a?l=a.charCodeAt(0)||0:a.hasOwnProperty(Q)&&(l=a[Q]),null==l&&(l=a[Q]=Jo++);const d=255&l;o.data[s+(d>>5)]|=1<<d}(s,o,a)}function Su(s,o,a){if(a&ft.Optional)return s;Oe()}function Ga(s,o,a,l){if(a&ft.Optional&&void 0===l&&(l=null),0==(a&(ft.Self|ft.Host))){const d=s[9],p=nn(void 0);try{return d?d.get(o,l,a&ft.Optional):rr(o,l,a&ft.Optional)}finally{nn(p)}}return Su(l,0,a)}function Xo(s,o,a,l=ft.Default,d){if(null!==s){if(1024&o[2]){const _=function Bh(s,o,a,l,d){let p=s,_=o;for(;null!==p&&null!==_&&1024&_[2]&&!(256&_[2]);){const w=ea(p,_,a,l|ft.Self,ze);if(w!==ze)return w;let D=p.parent;if(!D){const T=_[21];if(T){const N=T.get(a,ze,l);if(N!==ze)return N}D=cs(_),_=_[15]}p=D}return d}(s,o,a,l,ze);if(_!==ze)return _}const p=ea(s,o,a,l,ze);if(p!==ze)return p}return Ga(o,a,l,d)}function ea(s,o,a,l,d){const p=function Jc(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(Q)?s[Q]:void 0;return"number"==typeof o?o>=0?255&o:Mu:o}(a);if("function"==typeof p){if(!Du(o,s,l))return l&ft.Host?Su(d,0,l):Ga(o,a,l,d);try{const _=p(l);if(null!=_||l&ft.Optional)return _;Oe()}finally{qo()}}else if("number"==typeof p){let _=null,w=Vi(s,o),D=-1,T=l&ft.Host?o[16][6]:null;for((-1===w||l&ft.SkipSelf)&&(D=-1===w?ei(s,o):o[w+8],-1!==D&&Ml(l,!1)?(_=o[1],w=$a(D),o=ir(D,o)):w=-1);-1!==w;){const N=o[1];if(po(p,w,N.data)){const k=Ui(w,o,a,_,l,T);if(k!==ze)return k}D=o[w+8],-1!==D&&Ml(l,o[1].data[w+8]===T)&&po(p,w,o)?(_=N,w=$a(D),o=ir(D,o)):w=-1}}return d}function Ui(s,o,a,l,d,p){const _=o[1],w=_.data[s+8],N=_t(w,_,a,null==l?Sa(w)&&Uh:l!=_&&0!=(3&w.type),d&ft.Host&&p===w);return null!==N?ls(o,_,N,w):ze}function _t(s,o,a,l,d){const p=s.providerIndexes,_=o.data,w=1048575&p,D=s.directiveStart,N=p>>20,K=d?w+N:s.directiveEnd;for(let re=l?w:w+N;re<K;re++){const Ce=_[re];if(re<D&&a===Ce||re>=D&&Ce.type===a)return re}if(d){const re=_[D];if(re&&Oi(re)&&re.type===a)return D}return null}function ls(s,o,a,l){let d=s[a];const p=o.data;if(function Cu(s){return s instanceof Zo}(d)){const _=d;_.resolving&&function et(s,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new De(-200,`Circular dependency in DI detected for ${s}${a}`)}(function ge(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():we(s)}(p[a]));const w=Ha(_.canSeeViewProviders);_.resolving=!0;const D=_.injectImpl?nn(_.injectImpl):null;Du(s,l,ft.Default);try{d=s[a]=_.factory(void 0,p,s,l),o.firstCreatePass&&a>=l.directiveStart&&function Cl(s,o,a){const{ngOnChanges:l,ngOnInit:d,ngDoCheck:p}=o.type.prototype;if(l){const _=ro(o);(a.preOrderHooks||(a.preOrderHooks=[])).push(s,_),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,_)}d&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-s,d),p&&((a.preOrderHooks||(a.preOrderHooks=[])).push(s,p),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,p))}(a,p[a],o)}finally{null!==D&&nn(D),Ha(w),_.resolving=!1,qo()}}return d}function po(s,o,a){return!!(a[o+(s>>5)]&1<<s)}function Ml(s,o){return!(s&ft.Self||s&ft.Host&&o)}class Dn{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,l){return Xo(this._tNode,this._lView,o,l,a)}}function Mu(){return new Dn($n(),Me())}function xu(s){return dr(()=>{const o=s.prototype.constructor,a=o[Rt]||Nu(o),l=Object.prototype;let d=Object.getPrototypeOf(s.prototype).constructor;for(;d&&d!==l;){const p=d[Rt]||Nu(d);if(p&&p!==a)return p;d=Object.getPrototypeOf(d)}return p=>new p})}function Nu(s){return $e(s)?()=>{const o=Nu(ee(s));return o&&o()}:Fo(s)}function cs(s){const o=s[1],a=o.type;return 2===a?o.declTNode:1===a?s[6]:null}function xl(s){return function Qc(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const a=s.attrs;if(a){const l=a.length;let d=0;for(;d<l;){const p=a[d];if(Sl(p))break;if(0===p)d+=2;else if("number"==typeof p)for(d++;d<l&&"string"==typeof a[d];)d++;else{if(p===o)return a[d+1];d+=2}}}return null}($n(),s)}const ds="__parameters__";function Lr(s,o,a){return dr(()=>{const l=function go(s){return function(...a){if(s){const l=s(...a);for(const d in l)this[d]=l[d]}}}(o);function d(...p){if(this instanceof d)return l.apply(this,p),this;const _=new d(...p);return w.annotation=_,w;function w(D,T,N){const k=D.hasOwnProperty(ds)?D[ds]:Object.defineProperty(D,ds,{value:[]})[ds];for(;k.length<=N;)k.push(null);return(k[N]=k[N]||[]).push(_),D}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=s,d.annotationCls=d,d})}class vt{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=tn({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Hn(s,o){void 0===o&&(o=s);for(let a=0;a<s.length;a++){let l=s[a];Array.isArray(l)?(o===s&&(o=s.slice(0,a)),Hn(l,o)):o!==s&&o.push(l)}return o}function hi(s,o){s.forEach(a=>Array.isArray(a)?hi(a,o):o(a))}function za(s,o,a){o>=s.length?s.push(a):s.splice(o,0,a)}function Pu(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function bn(s,o,a){let l=Os(s,o);return l>=0?s[1|l]=a:(l=~l,function jh(s,o,a,l){let d=s.length;if(d==o)s.push(a,l);else if(1===d)s.push(l,s[0]),s[0]=a;else{for(d--,s.push(s[d-1],s[d]);d>o;)s[d]=s[d-2],d--;s[o]=a,s[o+1]=l}}(s,l,o,a)),l}function Wa(s,o){const a=Os(s,o);if(a>=0)return s[1|a]}function Os(s,o){return function qa(s,o,a){let l=0,d=s.length>>a;for(;d!==l;){const p=l+(d-l>>1),_=s[p<<a];if(o===_)return p<<a;_>o?d=p:l=p+1}return~(d<<a)}(s,o,1)}const Qa={},ks="__NG_DI_FLAG__",$i="ngTempTokenPath",gs=/\n/gm,Ur="__source";let Xa;function Xn(s){const o=Xa;return Xa=s,o}function Hh(s,o=ft.Default){if(void 0===Xa)throw new De(-203,!1);return null===Xa?rr(s,void 0,o):Xa.get(s,o&ft.Optional?null:void 0,o)}function Vn(s,o=ft.Default){return(function Sr(){return _n}()||Hh)(ee(s),o)}function td(s,o=ft.Default){return"number"!=typeof o&&(o=0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)),Vn(s,o)}function Fs(s){const o=[];for(let a=0;a<s.length;a++){const l=ee(s[a]);if(Array.isArray(l)){if(0===l.length)throw new De(900,!1);let d,p=ft.Default;for(let _=0;_<l.length;_++){const w=l[_],D=b(w);"number"==typeof D?-1===D?d=w.token:p|=D:d=w}o.push(Vn(d,p))}else o.push(Vn(l))}return o}function ms(s,o){return s[ks]=o,s.prototype[ks]=o,s}function b(s){return s[ks]}const J=ms(Lr("Optional"),8),Ne=ms(Lr("SkipSelf"),4);let sa;function cy(s){sa=s}class aa{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function ua(s){return s instanceof aa?s.changingThisBreaksApplicationSecurity:s}const I=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,P=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var Er=(()=>((Er=Er||{})[Er.NONE=0]="NONE",Er[Er.HTML=1]="HTML",Er[Er.STYLE=2]="STYLE",Er[Er.SCRIPT=3]="SCRIPT",Er[Er.URL=4]="URL",Er[Er.RESOURCE_URL=5]="RESOURCE_URL",Er))();function Bp(s){const o=function $l(){const s=Me();return s&&s[12]}();return o?o.sanitize(Er.URL,s)||"":function ru(s,o){const a=function fy(s){return s instanceof aa&&s.getTypeName()||null}(s);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===o}(s,"URL")?ua(s):function ne(s){return(s=String(s)).match(I)||s.match(P)?s:"unsafe:"+s}(we(s))}const Gi=new vt("ENVIRONMENT_INITIALIZER"),vy=new vt("INJECTOR",-1),wy=new vt("INJECTOR_DEF_TYPES");class Fw{get(o,a=Qa){if(a===Qa){const l=new Error(`NullInjectorError: No provider for ${he(o)}!`);throw l.name="NullInjectorError",l}return a}}function yb(...s){return{\u0275providers:Ey(0,s)}}function Ey(s,...o){const a=[],l=new Set;let d;return hi(o,p=>{const _=p;Iy(_,a,[],l)&&(d||(d=[]),d.push(_))}),void 0!==d&&Jh(d,a),a}function Jh(s,o){for(let a=0;a<s.length;a++){const{providers:d}=s[a];hi(d,p=>{o.push(p)})}}function Iy(s,o,a,l){if(!(s=ee(s)))return!1;let d=null,p=Ri(s);const _=!p&&Y(s);if(p||_){if(_&&!_.standalone)return!1;d=s}else{const D=s.ngModule;if(p=Ri(D),!p)return!1;d=D}const w=l.has(d);if(_){if(w)return!1;if(l.add(d),_.dependencies){const D="function"==typeof _.dependencies?_.dependencies():_.dependencies;for(const T of D)Iy(T,o,a,l)}}else{if(!p)return!1;{if(null!=p.imports&&!w){let T;l.add(d);try{hi(p.imports,N=>{Iy(N,o,a,l)&&(T||(T=[]),T.push(N))})}finally{}void 0!==T&&Jh(T,o)}if(!w){const T=Fo(d)||(()=>new d);o.push({provide:d,useFactory:T,deps:$t},{provide:wy,useValue:d,multi:!0},{provide:Gi,useValue:()=>Vn(d),multi:!0})}const D=p.providers;null==D||w||hi(D,N=>{o.push(N)})}}return d!==s&&void 0!==s.providers}const jp=ye({provide:String,useValue:ye});function Hl(s){return null!==s&&"object"==typeof s&&jp in s}function wo(s){return"function"==typeof s}const Dy=new vt("Set Injector scope."),$p={},_b={};let by;function Hp(){return void 0===by&&(by=new Fw),by}class Gl{}class vb extends Gl{constructor(o,a,l,d){super(),this.parent=a,this.source=l,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ay(o,_=>this.processProvider(_)),this.records.set(vy,ud(void 0,this)),d.has("environment")&&this.records.set(Gl,ud(void 0,this));const p=this.records.get(Dy);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(wy.multi,$t,ft.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const a=Xn(this),l=nn(void 0);try{return o()}finally{Xn(a),nn(l)}}get(o,a=Qa,l=ft.Default){this.assertNotDestroyed();const d=Xn(this),p=nn(void 0);try{if(!(l&ft.SkipSelf)){let w=this.records.get(o);if(void 0===w){const D=function Ib(s){return"function"==typeof s||"object"==typeof s&&s instanceof vt}(o)&&Tr(o);w=D&&this.injectableDefInScope(D)?ud(Cy(o),$p):null,this.records.set(o,w)}if(null!=w)return this.hydrate(o,w)}return(l&ft.Self?Hp():this.parent).get(o,a=l&ft.Optional&&a===Qa?null:a)}catch(_){if("NullInjectorError"===_.name){if((_[$i]=_[$i]||[]).unshift(he(o)),d)throw _;return function C(s,o,a,l){const d=s[$i];throw o[Ur]&&d.unshift(o[Ur]),s.message=function x(s,o,a,l=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let d=he(o);if(Array.isArray(o))d=o.map(he).join(" -> ");else if("object"==typeof o){let p=[];for(let _ in o)if(o.hasOwnProperty(_)){let w=o[_];p.push(_+":"+("string"==typeof w?JSON.stringify(w):he(w)))}d=`{${p.join(", ")}}`}return`${a}${l?"("+l+")":""}[${d}]: ${s.replace(gs,"\n  ")}`}("\n"+s.message,d,a,l),s.ngTokenPath=d,s[$i]=null,s}(_,o,"R3InjectorError",this.source)}throw _}finally{nn(p),Xn(d)}}resolveInjectorInitializers(){const o=Xn(this),a=nn(void 0);try{const l=this.get(Gi.multi,$t,ft.Self);for(const d of l)d()}finally{Xn(o),nn(a)}}toString(){const o=[],a=this.records;for(const l of a.keys())o.push(he(l));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new De(205,!1)}processProvider(o){let a=wo(o=ee(o))?o:ee(o&&o.provide);const l=function Gp(s){return Hl(s)?ud(void 0,s.useValue):ud(zl(s),$p)}(o);if(wo(o)||!0!==o.multi)this.records.get(a);else{let d=this.records.get(a);d||(d=ud(void 0,$p,!0),d.factory=()=>Fs(d.multi),this.records.set(a,d)),a=o,d.multi.push(o)}this.records.set(a,l)}hydrate(o,a){return a.value===$p&&(a.value=_b,a.value=a.factory()),"object"==typeof a.value&&a.value&&function Eb(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=ee(o.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}}function Cy(s){const o=Tr(s),a=null!==o?o.factory:Fo(s);if(null!==a)return a;if(s instanceof vt)throw new De(204,!1);if(s instanceof Function)return function Ty(s){const o=s.length;if(o>0)throw function yo(s,o){const a=[];for(let l=0;l<s;l++)a.push(o);return a}(o,"?"),new De(204,!1);const a=function Ar(s){const o=s&&(s[oi]||s[Bn]);if(o){const a=function Tn(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),o}return null}(s);return null!==a?()=>a.factory(s):()=>new s}(s);throw new De(204,!1)}function zl(s,o,a){let l;if(wo(s)){const d=ee(s);return Fo(d)||Cy(d)}if(Hl(s))l=()=>ee(s.useValue);else if(function Vw(s){return!(!s||!s.useFactory)}(s))l=()=>s.useFactory(...Fs(s.deps||[]));else if(function Lw(s){return!(!s||!s.useExisting)}(s))l=()=>Vn(ee(s.useExisting));else{const d=ee(s&&(s.useClass||s.provide));if(!function wb(s){return!!s.deps}(s))return Fo(d)||Cy(d);l=()=>new d(...Fs(s.deps))}return l}function ud(s,o,a=!1){return{factory:s,value:o,multi:a?[]:void 0}}function Db(s){return!!s.\u0275providers}function Ay(s,o){for(const a of s)Array.isArray(a)?Ay(a,o):Db(a)?Ay(a.\u0275providers,o):o(a)}class Uw{}class My{resolveComponentFactory(o){throw function Cb(s){const o=Error(`No component factory found for ${he(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let ld=(()=>{class s{}return s.NULL=new My,s})();function xy(){return su($n(),Me())}function su(s,o){return new ef(Xr(s,o))}let ef=(()=>{class s{constructor(a){this.nativeElement=a}}return s.__NG_ELEMENT_ID__=xy,s})();function Tb(s){return s instanceof ef?s.nativeElement:s}class Bw{}let zp=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function jw(){const s=Me(),a=fr($n().index,s);return(wr(a)?a:s)[11]}(),s})(),$w=(()=>{class s{}return s.\u0275prov=tn({token:s,providedIn:"root",factory:()=>null}),s})();class tf{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const nf=new tf("14.1.3"),Wp={};function Zp(s){return s.ngOriginalError}class cd{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o);this._console.error("ERROR",o),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&Zp(o);for(;a&&Zp(a);)a=Zp(a);return a||null}}const Kp=new Map;let Ly=0;const Qp="__ngContext__";function jr(s,o){wr(o)?(s[Qp]=o[20],function Qw(s){Kp.set(s[20],s)}(o)):s[Qp]=o}function Wl(s){const o=s[Qp];return"number"==typeof o?function Pb(s){return Kp.get(s)||null}(o):o||null}function Uy(s){const o=Wl(s);return o?wr(o)?o:o.lView:null}const Ub=(()=>(typeof requestAnimationFrame<"u"&&requestAnimationFrame||setTimeout).bind(rt))();function ou(s){return s instanceof Function?s():s}var ti=(()=>((ti=ti||{})[ti.Important=1]="Important",ti[ti.DashCase=2]="DashCase",ti))();function eg(s,o){return undefined(s,o)}function sf(s){const o=s[3];return mi(o)?o[3]:o}function $y(s){return lE(s[13])}function Hy(s){return lE(s[4])}function lE(s){for(;null!==s&&!mi(s);)s=s[4];return s}function hd(s,o,a,l,d){if(null!=l){let p,_=!1;mi(l)?p=l:wr(l)&&(_=!0,l=l[0]);const w=Kn(l);0===s&&null!==a?null==d?fE(o,a,w):ha(o,a,w,d||null,!0):1===s&&null!==a?ha(o,a,w,d||null,!0):2===s?function gE(s,o,a){const l=af(s,o);l&&function Zb(s,o,a,l){s.removeChild(o,a,l)}(s,l,o,a)}(o,w,_):3===s&&o.destroyNode(w),null!=p&&function hM(s,o,a,l,d){const p=a[7];p!==Kn(a)&&hd(o,s,l,p,d);for(let w=10;w<a.length;w++){const D=a[w];uf(D[1],D,s,o,l,p)}}(o,s,p,a,d)}}function ng(s,o,a){return s.createElement(o,a)}function fd(s,o){const a=s[9],l=a.indexOf(o),d=o[3];512&o[2]&&(o[2]&=-513,uo(d,-1)),a.splice(l,1)}function Xt(s,o){if(s.length<=10)return;const a=10+o,l=s[a];if(l){const d=l[17];null!==d&&d!==s&&fd(d,l),o>0&&(s[a-1][4]=l[4]);const p=Pu(s,10+o);!function Gb(s,o){uf(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(l[1],l);const _=p[19];null!==_&&_.detachView(p[1]),l[3]=null,l[4]=null,l[2]&=-65}return l}function ca(s,o){if(!(128&o[2])){const a=o[11];a.destroyNode&&uf(s,o,a,3,null,null),function Wb(s){let o=s[13];if(!o)return da(s[1],s);for(;o;){let a=null;if(wr(o))a=o[13];else{const l=o[10];l&&(a=l)}if(!a){for(;o&&!o[4]&&o!==s;)wr(o)&&da(o[1],o),o=o[3];null===o&&(o=s),wr(o)&&da(o[1],o),a=o&&o[4]}o=a}}(o)}}function da(s,o){if(!(128&o[2])){o[2]&=-65,o[2]|=128,function Ie(s,o){let a;if(null!=s&&null!=(a=s.destroyHooks))for(let l=0;l<a.length;l+=2){const d=o[a[l]];if(!(d instanceof Zo)){const p=a[l+1];if(Array.isArray(p))for(let _=0;_<p.length;_+=2){const w=d[p[_]],D=p[_+1];try{D.call(w)}finally{}}else try{p.call(d)}finally{}}}}(s,o),function rg(s,o){const a=s.cleanup,l=o[7];let d=-1;if(null!==a)for(let p=0;p<a.length-1;p+=2)if("string"==typeof a[p]){const _=a[p+1],w="function"==typeof _?_(o):Kn(o[_]),D=l[d=a[p+2]],T=a[p+3];"boolean"==typeof T?w.removeEventListener(a[p],D,T):T>=0?l[d=T]():l[d=-T].unsubscribe(),p+=2}else{const _=l[d=a[p+1]];a[p].call(_)}if(null!==l){for(let p=d+1;p<l.length;p++)(0,l[p])();o[7]=null}}(s,o),1===o[1].type&&o[11].destroy();const a=o[17];if(null!==a&&mi(o[3])){a!==o[3]&&fd(a,o);const l=o[19];null!==l&&l.detachView(s)}!function Ob(s){Kp.delete(s[20])}(o)}}function dE(s,o,a){return function hE(s,o,a){let l=o;for(;null!==l&&40&l.type;)l=(o=l).parent;if(null===l)return a[0];if(2&l.flags){const d=s.data[l.directiveStart].encapsulation;if(d===st.None||d===st.Emulated)return null}return Xr(l,a)}(s,o.parent,a)}function ha(s,o,a,l,d){s.insertBefore(o,a,l,d)}function fE(s,o,a){s.appendChild(o,a)}function pE(s,o,a,l,d){null!==l?ha(s,o,a,l,d):fE(s,o,a)}function af(s,o){return s.parentNode(o)}let au=function Us(s,o,a){return 40&s.type?Xr(s,a):null};function Wy(s,o,a,l){const d=dE(s,l,o),p=o[11],w=function vn(s,o,a){return au(s,o,a)}(l.parent||o[6],l,o);if(null!=d)if(Array.isArray(a))for(let D=0;D<a.length;D++)pE(p,d,a[D],w,!1);else pE(p,d,a,w,!1)}function sg(s,o){if(null!==o){const a=o.type;if(3&a)return Xr(o,s);if(4&a)return qy(-1,s[o.index]);if(8&a){const l=o.child;if(null!==l)return sg(s,l);{const d=s[o.index];return mi(d)?qy(-1,d):Kn(d)}}if(32&a)return eg(o,s)()||Kn(s[o.index]);{const l=og(s,o);return null!==l?Array.isArray(l)?l[0]:sg(sf(s[16]),l):sg(s,o.next)}}return null}function og(s,o){return null!==o?s[16][6].projection[o.projection]:null}function qy(s,o){const a=10+s+1;if(a<o.length){const l=o[a],d=l[1].firstChild;if(null!==d)return sg(l,d)}return o[7]}function Zy(s,o,a,l,d,p,_){for(;null!=a;){const w=l[a.index],D=a.type;if(_&&0===o&&(w&&jr(Kn(w),l),a.flags|=4),64!=(64&a.flags))if(8&D)Zy(s,o,a.child,l,d,p,!1),hd(o,s,d,w,p);else if(32&D){const T=eg(a,l);let N;for(;N=T();)hd(o,s,d,N,p);hd(o,s,d,w,p)}else 16&D?Qb(s,o,l,a,d,p):hd(o,s,d,w,p);a=_?a.projectionNext:a.next}}function uf(s,o,a,l,d,p){Zy(a,l,s.firstChild,o,d,p,!1)}function Qb(s,o,a,l,d,p){const _=a[16],D=_[6].projection[l.projection];if(Array.isArray(D))for(let T=0;T<D.length;T++)hd(o,s,d,D[T],p);else Zy(s,o,D,_[3],d,p,!0)}function mE(s,o,a){s.setAttribute(o,"style",a)}function yE(s,o,a){""===a?s.removeAttribute(o,"class"):s.setAttribute(o,"class",a)}function Jb(s,o,a){let l=s.length;for(;;){const d=s.indexOf(o,a);if(-1===d)return d;if(0===d||s.charCodeAt(d-1)<=32){const p=o.length;if(d+p===l||s.charCodeAt(d+p)<=32)return d}a=d+1}}const Ky="ng-template";function Xb(s,o,a){let l=0;for(;l<s.length;){let d=s[l++];if(a&&"class"===d){if(d=s[l],-1!==Jb(d.toLowerCase(),o,0))return!0}else if(1===d){for(;l<s.length&&"string"==typeof(d=s[l++]);)if(d.toLowerCase()===o)return!0;return!1}}return!1}function _E(s){return 4===s.type&&s.value!==Ky}function $r(s,o,a){return o===(4!==s.type||a?s.value:Ky)}function Eo(s,o,a){let l=4;const d=s.attrs||[],p=function tC(s){for(let o=0;o<s.length;o++)if(Sl(s[o]))return o;return s.length}(d);let _=!1;for(let w=0;w<o.length;w++){const D=o[w];if("number"!=typeof D){if(!_)if(4&l){if(l=2|1&l,""!==D&&!$r(s,D,a)||""===D&&1===o.length){if(zi(l))return!1;_=!0}}else{const T=8&l?D:o[++w];if(8&l&&null!==s.attrs){if(!Xb(s.attrs,T,a)){if(zi(l))return!1;_=!0}continue}const k=Yy(8&l?"class":D,d,_E(s),a);if(-1===k){if(zi(l))return!1;_=!0;continue}if(""!==T){let K;K=k>p?"":d[k+1].toLowerCase();const re=8&l?K:null;if(re&&-1!==Jb(re,T,0)||2&l&&T!==K){if(zi(l))return!1;_=!0}}}}else{if(!_&&!zi(l)&&!zi(D))return!1;if(_&&zi(D))continue;_=!1,l=D|1&l}}return zi(l)||_}function zi(s){return 0==(1&s)}function Yy(s,o,a,l){if(null===o)return-1;let d=0;if(l||!a){let p=!1;for(;d<o.length;){const _=o[d];if(_===s)return d;if(3===_||6===_)p=!0;else{if(1===_||2===_){let w=o[++d];for(;"string"==typeof w;)w=o[++d];continue}if(4===_)break;if(0===_){d+=4;continue}}d+=p?1:2}return-1}return function wE(s,o){let a=s.indexOf(4);if(a>-1)for(a++;a<s.length;){const l=s[a];if("number"==typeof l)return-1;if(l===o)return a;a++}return-1}(o,s)}function vE(s,o,a=!1){for(let l=0;l<o.length;l++)if(Eo(s,o[l],a))return!0;return!1}function EE(s,o){return s?":not("+o.trim()+")":o}function rC(s){let o=s[0],a=1,l=2,d="",p=!1;for(;a<s.length;){let _=s[a];if("string"==typeof _)if(2&l){const w=s[++a];d+="["+_+(w.length>0?'="'+w+'"':"")+"]"}else 8&l?d+="."+_:4&l&&(d+=" "+_);else""!==d&&!zi(_)&&(o+=EE(p,d),d=""),l=_,p=p||!zi(l);a++}return""!==d&&(o+=EE(p,d)),o}const Ot={};function Qy(s){ag(qt(),Me(),Yn()+s,!1)}function ag(s,o,a,l){if(!l)if(3==(3&o[2])){const p=s.preOrderCheckHooks;null!==p&&Ph(o,p,a)}else{const p=s.preOrderHooks;null!==p&&Oh(o,p,0,a)}Li(a)}function e_(s,o=null,a=null,l){const d=cf(s,o,a,l);return d.resolveInjectorInitializers(),d}function cf(s,o=null,a=null,l,d=new Set){const p=[a||$t,yb(s)];return l=l||("object"==typeof s?void 0:he(s)),new vb(p,o||Hp(),l||null,d)}let Bu=(()=>{class s{static create(a,l){if(Array.isArray(a))return e_({name:""},l,a,"");{const d=a.name??"";return e_({name:d},a.parent,a.providers,d)}}}return s.THROW_IF_NOT_FOUND=Qa,s.NULL=new Fw,s.\u0275prov=tn({token:s,providedIn:"any",factory:()=>Vn(vy)}),s.__NG_ELEMENT_ID__=-1,s})();function md(s,o=ft.Default){const a=Me();return null===a?Vn(s,o):Xo($n(),a,ee(s),o)}function SE(){throw new Error("invalid")}function fg(s,o){return s<<17|o<<2}function Io(s){return s>>17&32767}function c_(s){return 2|s}function Bs(s){return(131068&s)>>2}function pg(s,o){return-131069&s|o<<2}function df(s){return 1|s}function IC(s,o){const a=s.contentQueries;if(null!==a)for(let l=0;l<a.length;l+=2){const d=a[l],p=a[l+1];if(-1!==p){const _=s.data[p];Dl(d),_.contentQueries(2,o[p],p)}}}function Ig(s,o,a,l,d,p,_,w,D,T,N){const k=o.blueprint.slice();return k[0]=d,k[2]=76|l,(null!==N||s&&1024&s[2])&&(k[2]|=1024),Rs(k),k[3]=k[15]=s,k[8]=a,k[10]=_||s&&s[10],k[11]=w||s&&s[11],k[12]=D||s&&s[12]||null,k[9]=T||s&&s[9]||null,k[6]=p,k[20]=function Yw(){return Ly++}(),k[21]=N,k[16]=2==o.type?s[16]:k,k}function yd(s,o,a,l,d){let p=s.data[o];if(null===p)p=function VE(s,o,a,l,d){const p=lo(),_=vl(),D=s.data[o]=function ni(s,o,a,l,d,p){return{type:a,index:l,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?p:p&&p.parent,a,o,l,d);return null===s.firstChild&&(s.firstChild=D),null!==p&&(_?null==p.child&&null!==D.parent&&(p.child=D):null===p.next&&(p.next=D)),D}(s,o,a,l,d),function Sh(){return bt.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=a,p.value=l,p.attrs=d;const _=function $o(){const s=bt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();p.injectorIndex=null===_?-1:_.injectorIndex}return Fr(p,!0),p}function _d(s,o,a,l){if(0===a)return-1;const d=o.length;for(let p=0;p<a;p++)o.push(l),s.blueprint.push(l),s.data.push(null);return d}function Dg(s,o,a){zo(o);try{const l=s.viewQuery;null!==l&&Zl(1,l,a);const d=s.template;null!==d&&bg(s,o,d,1,a),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&IC(s,o),s.staticViewQueries&&Zl(2,s.viewQuery,a);const p=s.components;null!==p&&function y_(s,o){for(let a=0;a<o.length;a++)C_(s,o[a])}(o,p)}catch(l){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),l}finally{o[2]&=-5,bu()}}function vs(s,o,a,l){const d=o[2];if(128!=(128&d)){zo(o);try{Rs(o),function wl(s){return bt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==a&&bg(s,o,a,2,l);const _=3==(3&d);if(_){const T=s.preOrderCheckHooks;null!==T&&Ph(o,T,null)}else{const T=s.preOrderHooks;null!==T&&Oh(o,T,0,null),Ua(o,0)}if(function MC(s){for(let o=$y(s);null!==o;o=Hy(o)){if(!o[2])continue;const a=o[9];for(let l=0;l<a.length;l++){const d=a[l],p=d[3];0==(512&d[2])&&uo(p,1),d[2]|=512}}}(o),function zE(s){for(let o=$y(s);null!==o;o=Hy(o))for(let a=10;a<o.length;a++){const l=o[a],d=l[1];ki(l)&&vs(d,l,d.template,l[8])}}(o),null!==s.contentQueries&&IC(s,o),_){const T=s.contentCheckHooks;null!==T&&Ph(o,T)}else{const T=s.contentHooks;null!==T&&Oh(o,T,1),Ua(o,1)}!function Eg(s,o){const a=s.hostBindingOpCodes;if(null!==a)try{for(let l=0;l<a.length;l++){const d=a[l];if(d<0)Li(~d);else{const p=d,_=a[++l],w=a[++l];Iu(_,p),w(2,o[p])}}}finally{Li(-1)}}(s,o);const w=s.components;null!==w&&function DC(s,o){for(let a=0;a<o.length;a++)WE(s,o[a])}(o,w);const D=s.viewQuery;if(null!==D&&Zl(2,D,l),_){const T=s.viewCheckHooks;null!==T&&Ph(o,T)}else{const T=s.viewHooks;null!==T&&Oh(o,T,2),Ua(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[2]&=-41,512&o[2]&&(o[2]&=-513,uo(o[3],-1))}finally{bu()}}}function ut(s,o,a,l){const d=o[10],_=ao(o);try{!_&&d.begin&&d.begin(),_&&Dg(s,o,l),vs(s,o,a,l)}finally{!_&&d.end&&d.end()}}function bg(s,o,a,l,d){const p=Yn(),_=2&l;try{Li(-1),_&&o.length>22&&ag(s,o,22,!1),a(l,d)}finally{Li(p)}}function wd(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=__(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function __(s,o,a,l,d,p,_,w,D,T){const N=22+l,k=N+d,K=function v_(s,o){const a=[];for(let l=0;l<o;l++)a.push(l<s?null:Ot);return a}(N,k),re="function"==typeof T?T():T;return K[1]={type:s,blueprint:K,template:a,queries:null,viewQuery:w,declTNode:o,data:K.slice().fill(null,N),bindingStartIndex:N,expandoStartIndex:k,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:D,consts:re,incompleteFirstPass:!1}}function UE(s,o,a,l){const d=ZE(o);null===a?d.push(l):(d.push(a),s.firstCreatePass&&KE(s).push(l,d.length-1))}function mf(s,o,a){for(let l in s)if(s.hasOwnProperty(l)){const d=s[l];(a=null===a?{}:a).hasOwnProperty(l)?a[l].push(o,d):a[l]=[o,d]}return a}function Hr(s,o){const l=o.directiveEnd,d=s.data,p=o.attrs,_=[];let w=null,D=null;for(let T=o.directiveStart;T<l;T++){const N=d[T],k=N.inputs,K=null===p||_E(o)?null:Ed(k,p);_.push(K),w=mf(k,T,w),D=mf(N.outputs,T,D)}null!==w&&(w.hasOwnProperty("class")&&(o.flags|=16),w.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=_,o.inputs=w,o.outputs=D}function ws(s,o,a,l,d,p,_,w){const D=Xr(o,a);let N,T=o.inputs;!w&&null!=T&&(N=T[l])?(wf(s,a,N,l,d),Sa(o)&&BE(a,o.index)):3&o.type&&(l=function $u(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(l),d=null!=_?_(d,o.value||"",l):d,p.setProperty(D,l,d))}function BE(s,o){const a=fr(o,s);16&a[2]||(a[2]|=32)}function Tg(s,o,a,l,d,p){const _=p.hostBindings;if(_){let w=s.hostBindingOpCodes;null===w&&(w=s.hostBindingOpCodes=[]);const D=~o.index;(function Ag(s){let o=s.length;for(;o>0;){const a=s[--o];if("number"==typeof a&&a<0)return a}return 0})(w)!=D&&w.push(D),w.push(l,d,_)}}function Sg(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function w_(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function E_(s,o,a){if(a){if(o.exportAs)for(let l=0;l<o.exportAs.length;l++)a[o.exportAs[l]]=s;Oi(o)&&(a[""]=s)}}function I_(s,o,a){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+a,s.providerIndexes=o}function D_(s,o,a,l,d){s.data[l]=d;const p=d.factory||(d.factory=Fo(d.type)),_=new Zo(p,Oi(d),md);s.blueprint[l]=_,a[l]=_,Tg(s,o,0,l,_d(s,a,d.hostVars,Ot),d)}function GE(s,o,a){const l=Xr(o,s),d=wd(a),p=s[10],_=Dd(s,Ig(s,d,null,a.onPush?32:16,l,o,p,p.createRenderer(l,a),null,null,null));s[o.index]=_}function js(s,o,a,l,d,p){const _=Xr(s,o);!function b_(s,o,a,l,d,p,_){if(null==p)s.removeAttribute(o,d,a);else{const w=null==_?we(p):_(p,l||"",d);s.setAttribute(o,d,w,a)}}(o[11],_,p,s.value,a,l,d)}function AC(s,o,a,l,d,p){const _=p[o];if(null!==_){const w=l.setInput;for(let D=0;D<_.length;){const T=_[D++],N=_[D++],k=_[D++];null!==w?l.setInput(a,k,T,N):a[N]=k}}}function Ed(s,o){let a=null,l=0;for(;l<o.length;){const d=o[l];if(0!==d)if(5!==d){if("number"==typeof d)break;s.hasOwnProperty(d)&&(null===a&&(a=[]),a.push(d,s[d],o[l+1])),l+=2}else l+=2;else l+=4}return a}function WE(s,o){const a=fr(o,s);if(ki(a)){const l=a[1];48&a[2]?vs(l,a,l.template,a[8]):a[5]>0&&Id(a)}}function Id(s){for(let l=$y(s);null!==l;l=Hy(l))for(let d=10;d<l.length;d++){const p=l[d];if(ki(p))if(512&p[2]){const _=p[1];vs(_,p,_.template,p[8])}else p[5]>0&&Id(p)}const a=s[1].components;if(null!==a)for(let l=0;l<a.length;l++){const d=fr(a[l],s);ki(d)&&d[5]>0&&Id(d)}}function C_(s,o){const a=fr(o,s),l=a[1];(function T_(s,o){for(let a=o.length;a<s.blueprint.length;a++)o.push(s.blueprint[a])})(l,a),Dg(l,a,a[8])}function Dd(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function A_(s){for(;s;){s[2]|=32;const o=sf(s);if(Uc(s)&&!o)return s;s=o}return null}function qE(s){!function xg(s){for(let o=0;o<s.components.length;o++){const a=s.components[o],l=Uy(a);if(null!==l){const d=l[1];ut(d,l,d.template,a)}}}(s[8])}function Zl(s,o,a){Dl(0),o(s,a)}const yf=(()=>Promise.resolve(null))();function ZE(s){return s[7]||(s[7]=[])}function KE(s){return s.cleanup||(s.cleanup=[])}function vf(s,o){const a=s[9],l=a?a.get(cd,null):null;l&&l.handleError(o)}function wf(s,o,a,l,d){for(let p=0;p<a.length;){const _=a[p++],w=a[p++],D=o[_],T=s.data[_];null!==T.setInput?T.setInput(D,d,l,w):D[w]=d}}function bd(s,o,a){let l=a?s.styles:null,d=a?s.classes:null,p=0;if(null!==o)for(let _=0;_<o.length;_++){const w=o[_];"number"==typeof w?p=w:1==p?d=ve(d,w):2==p&&(l=ve(l,w+": "+o[++_]+";"))}a?s.styles=l:s.stylesWithoutHost=l,a?s.classes=d:s.classesWithoutHost=d}function Cd(s,o,a,l,d=!1){for(;null!==a;){const p=o[a.index];if(null!==p&&l.push(Kn(p)),mi(p))for(let w=10;w<p.length;w++){const D=p[w],T=D[1].firstChild;null!==T&&Cd(D[1],D,T,l)}const _=a.type;if(8&_)Cd(s,o,a.child,l);else if(32&_){const w=eg(a,o);let D;for(;D=w();)l.push(D)}else if(16&_){const w=og(o,a);if(Array.isArray(w))l.push(...w);else{const D=sf(o[16]);Cd(D[1],D,w,l,!0)}}a=d?a.projectionNext:a.next}return l}class Td{constructor(o,a){this._lView=o,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,a=o[1];return Cd(a,o,a.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(mi(o)){const a=o[8],l=a?a.indexOf(this):-1;l>-1&&(Xt(o,l),Pu(a,l))}this._attachedToViewContainer=!1}ca(this._lView[1],this._lView)}onDestroy(o){UE(this._lView[1],this._lView,null,o)}markForCheck(){A_(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function Ng(s,o,a){const l=o[10];l.begin&&l.begin();try{vs(s,o,s.template,a)}catch(d){throw vf(o,d),d}finally{l.end&&l.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new De(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function zb(s,o){uf(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new De(902,!1);this._appRef=o}}class YE extends Td{constructor(o){super(o),this._view=o}detectChanges(){qE(this._view)}checkNoChanges(){}get context(){return null}}class S_ extends ld{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=Y(o);return new Ad(a,this.ngModule)}}function M_(s){const o=[];for(let a in s)s.hasOwnProperty(a)&&o.push({propName:s[a],templateName:a});return o}class x_{constructor(o,a){this.injector=o,this.parentInjector=a}get(o,a,l){const d=this.injector.get(o,Wp,l);return d!==Wp||a===Wp?d:this.parentInjector.get(o,a,l)}}class Ad extends Uw{constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function iC(s){return s.map(rC).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return M_(this.componentDef.inputs)}get outputs(){return M_(this.componentDef.outputs)}create(o,a,l,d){let p=(d=d||this.ngModule)instanceof Gl?d:d?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const _=p?new x_(o,p):o,w=_.get(Bw,null);if(null===w)throw new De(407,!1);const D=_.get($w,null),T=w.createRenderer(null,this.componentDef),N=this.componentDef.selectors[0][0]||"div",k=l?function bC(s,o,a){return s.selectRootElement(o,a===st.ShadowDom)}(T,l,this.componentDef.encapsulation):ng(w.createRenderer(null,this.componentDef),N,function QE(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(N)),K=this.componentDef.onPush?288:272,re=function Rg(s,o){return{components:[],scheduler:s||Ub,clean:yf,playerHandler:o||null,flags:0}}(),Ce=__(0,null,null,1,0,null,null,null,null,null),Be=Ig(null,Ce,re,K,null,null,w,T,D,_,null);let Xe,ot;zo(Be);try{const Tt=function Gr(s,o,a,l,d,p){const _=a[1];a[22]=s;const D=yd(_,22,2,"#host",null),T=D.mergedAttrs=o.hostAttrs;null!==T&&(bd(D,T,!0),null!==s&&(Ba(d,s,T),null!==D.classes&&yE(d,s,D.classes),null!==D.styles&&mE(d,s,D.styles)));const N=l.createRenderer(s,o),k=Ig(a,wd(o),null,o.onPush?32:16,a[22],D,l,N,p||null,null,null);return _.firstCreatePass&&(Au(Qn(D,a),_,o.type),w_(_,D),I_(D,a.length,1)),Dd(a,k),a[22]=k}(k,this.componentDef,Be,w,T);if(k)if(l)Ba(T,k,["ng-version",nf.full]);else{const{attrs:Pe,classes:Et}=function Ti(s){const o=[],a=[];let l=1,d=2;for(;l<s.length;){let p=s[l];if("string"==typeof p)2===d?""!==p&&o.push(p,s[++l]):8===d&&a.push(p);else{if(!zi(d))break;d=p}l++}return{attrs:o,classes:a}}(this.componentDef.selectors[0]);Pe&&Ba(T,k,Pe),Et&&Et.length>0&&yE(T,k,Et.join(" "))}if(ot=oo(Ce,22),void 0!==a){const Pe=ot.projection=[];for(let Et=0;Et<this.ngContentSelectors.length;Et++){const sn=a[Et];Pe.push(null!=sn?Array.from(sn):null)}}Xe=function ri(s,o,a,l,d){const p=a[1],_=function TC(s,o,a){const l=$n();s.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),D_(s,l,o,_d(s,o,1,null),a),Hr(s,l));const d=ls(o,s,l.directiveStart,l);jr(d,o);const p=Xr(l,o);return p&&jr(p,o),d}(p,a,o);if(l.components.push(_),s[8]=_,null!==d)for(const D of d)D(_,o);if(o.contentQueries){const D=$n();o.contentQueries(1,_,D.directiveStart)}const w=$n();return!p.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(Li(w.index),Tg(a[1],w,0,w.directiveStart,w.directiveEnd,o),Sg(o,_)),_}(Tt,this.componentDef,Be,re,[R_]),Dg(Ce,Be,null)}finally{bu()}return new N_(this.componentType,Xe,su(ot,Be),Be,ot)}}class N_ extends class bb{}{constructor(o,a,l,d,p){super(),this.location=l,this._rootLView=d,this._tNode=p,this.instance=a,this.hostView=this.changeDetectorRef=new YE(d),this.componentType=o}setInput(o,a){const l=this._tNode.inputs;let d;if(null!==l&&(d=l[o])){const p=this._rootLView;wf(p[1],p,d,o,a),BE(p,this._tNode.index)}}get injector(){return new Dn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function R_(){const s=$n();Tl(Me()[1],s)}function Pg(s){let o=function e0(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),a=!0;const l=[s];for(;o;){let d;if(Oi(s))d=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new De(903,!1);d=o.\u0275dir}if(d){if(a){l.push(d);const _=s;_.inputs=P_(s.inputs),_.declaredInputs=P_(s.declaredInputs),_.outputs=P_(s.outputs);const w=d.hostBindings;w&&PC(s,w);const D=d.viewQuery,T=d.contentQueries;if(D&&O_(s,D),T&&k_(s,T),pe(s.inputs,d.inputs),pe(s.declaredInputs,d.declaredInputs),pe(s.outputs,d.outputs),Oi(d)&&d.data.animation){const N=s.data;N.animation=(N.animation||[]).concat(d.data.animation)}}const p=d.features;if(p)for(let _=0;_<p.length;_++){const w=p[_];w&&w.ngInherit&&w(s),w===Pg&&(a=!1)}}o=Object.getPrototypeOf(o)}!function RC(s){let o=0,a=null;for(let l=s.length-1;l>=0;l--){const d=s[l];d.hostVars=o+=d.hostVars,d.hostAttrs=Qo(d.hostAttrs,a=Qo(a,d.hostAttrs))}}(l)}function P_(s){return s===Sn?{}:s===$t?[]:s}function O_(s,o){const a=s.viewQuery;s.viewQuery=a?(l,d)=>{o(l,d),a(l,d)}:o}function k_(s,o){const a=s.contentQueries;s.contentQueries=a?(l,d,p)=>{o(l,d,p),a(l,d,p)}:o}function PC(s,o){const a=s.hostBindings;s.hostBindings=a?(l,d)=>{o(l,d),a(l,d)}:o}let Kl=null;function lu(){if(!Kl){const s=rt.Symbol;if(s&&s.iterator)Kl=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<o.length;++a){const l=o[a];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(Kl=l)}}}return Kl}function Sd(s){return!!Og(s)&&(Array.isArray(s)||!(s instanceof Map)&&lu()in s)}function Og(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function pi(s,o,a){return!Object.is(s[o],a)&&(s[o]=a,!0)}function L_(s,o,a,l){const d=Me();return pi(d,ho(),o)&&(qt(),js(mn(),d,s,o,a,l)),L_}function Ql(s,o,a,l){return pi(s,ho(),a)?o+we(a)+l:Ot}function bf(s,o,a){const l=Me();return pi(l,ho(),o)&&ws(qt(),mn(),l,s,o,l[11],a,!1),bf}function jg(s,o,a,l,d){const _=d?"class":"style";wf(s,a,o.inputs[_],_,l)}function Cf(s,o,a,l){const d=Me(),p=qt(),_=22+s,w=d[11],D=d[_]=ng(w,o,function Kc(){return bt.lFrame.currentNamespace}()),T=p.firstCreatePass?function o0(s,o,a,l,d,p,_){const w=o.consts,T=yd(o,s,2,d,Fi(w,p));return function Cg(s,o,a,l){let d=!1;if(Vo()){const p=function Si(s,o,a){const l=s.directiveRegistry;let d=null;if(l)for(let p=0;p<l.length;p++){const _=l[p];vE(a,_.selectors,!1)&&(d||(d=[]),Au(Qn(a,o),s,_.type),Oi(_)?(w_(s,a),d.unshift(_)):d.push(_))}return d}(s,o,a),_=null===l?null:{"":-1};if(null!==p){d=!0,I_(a,s.data.length,p.length);for(let N=0;N<p.length;N++){const k=p[N];k.providersResolver&&k.providersResolver(k)}let w=!1,D=!1,T=_d(s,o,p.length,null);for(let N=0;N<p.length;N++){const k=p[N];a.mergedAttrs=Qo(a.mergedAttrs,k.hostAttrs),D_(s,a,o,T,k),E_(T,k,_),null!==k.contentQueries&&(a.flags|=8),(null!==k.hostBindings||null!==k.hostAttrs||0!==k.hostVars)&&(a.flags|=128);const K=k.type.prototype;!w&&(K.ngOnChanges||K.ngOnInit||K.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(a.index),w=!0),!D&&(K.ngOnChanges||K.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(a.index),D=!0),T++}Hr(s,a)}_&&function HE(s,o,a){if(o){const l=s.localNames=[];for(let d=0;d<o.length;d+=2){const p=a[o[d+1]];if(null==p)throw new De(-301,!1);l.push(o[d],p)}}}(a,l,_)}return a.mergedAttrs=Qo(a.mergedAttrs,a.attrs),d}(o,a,T,Fi(w,_)),null!==T.attrs&&bd(T,T.attrs,!1),null!==T.mergedAttrs&&bd(T,T.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,T),T}(_,p,d,0,o,a,l):p.data[_];Fr(T,!0);const N=T.mergedAttrs;null!==N&&Ba(w,D,N);const k=T.classes;null!==k&&yE(w,D,k);const K=T.styles;return null!==K&&mE(w,D,K),64!=(64&T.flags)&&Wy(p,d,D,T),0===function Pa(){return bt.lFrame.elementDepthCount}()&&jr(D,d),function Wc(){bt.lFrame.elementDepthCount++}(),to(T)&&(function vd(s,o,a){!Vo()||(function $E(s,o,a,l){const d=a.directiveStart,p=a.directiveEnd;s.firstCreatePass||Qn(a,o),jr(l,o);const _=a.initialInputs;for(let w=d;w<p;w++){const D=s.data[w],T=Oi(D);T&&GE(o,a,D);const N=ls(o,s,w,a);jr(N,o),null!==_&&AC(0,w-d,N,D,0,_),T&&(fr(a.index,o)[8]=N)}}(s,o,a,Xr(a,o)),128==(128&a.flags)&&function Ai(s,o,a){const l=a.directiveStart,d=a.directiveEnd,p=a.index,_=function Il(){return bt.lFrame.currentDirectiveIndex}();try{Li(p);for(let w=l;w<d;w++){const D=s.data[w],T=o[w];ka(w),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&Sg(D,T)}}finally{Li(-1),ka(_)}}(s,o,a))}(p,d,T),function Bt(s,o,a){if(Ms(o)){const d=o.directiveEnd;for(let p=o.directiveStart;p<d;p++){const _=s.data[p];_.contentQueries&&_.contentQueries(1,a[p],p)}}}(p,T,d)),null!==l&&function gf(s,o,a=Xr){const l=o.localNames;if(null!==l){let d=o.index+1;for(let p=0;p<l.length;p+=2){const _=l[p+1],w=-1===_?a(o,s):s[_];s[d++]=w}}}(d,T),Cf}function $g(){let s=$n();vl()?function co(){bt.lFrame.isParent=!1}():(s=s.parent,Fr(s,!1));const o=s;!function Ps(){bt.lFrame.elementDepthCount--}();const a=qt();return a.firstCreatePass&&(Tl(a,s),Ms(s)&&a.queries.elementEnd(s)),null!=o.classesWithoutHost&&function gr(s){return 0!=(16&s.flags)}(o)&&jg(a,o,Me(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function kh(s){return 0!=(32&s.flags)}(o)&&jg(a,o,Me(),o.stylesWithoutHost,!1),$g}function tc(s,o,a,l){return Cf(s,o,a,l),$g(),tc}function H_(s){return!!s&&"function"==typeof s.then}function Hg(s){return!!s&&"function"==typeof s.subscribe}const rc=Hg;function Tf(s,o,a,l){const d=Me(),p=qt(),_=$n();return function l0(s,o,a,l,d,p,_,w){const D=to(l),N=s.firstCreatePass&&KE(s),k=o[8],K=ZE(o);let re=!0;if(3&l.type||w){const Xe=Xr(l,o),ot=w?w(Xe):Xe,Tt=K.length,Pe=w?sn=>w(Kn(sn[l.index])):l.index;let Et=null;if(!w&&D&&(Et=function u0(s,o,a,l){const d=s.cleanup;if(null!=d)for(let p=0;p<d.length-1;p+=2){const _=d[p];if(_===a&&d[p+1]===l){const w=o[7],D=d[p+2];return w.length>D?w[D]:null}"string"==typeof _&&(p+=2)}return null}(s,o,d,l.index)),null!==Et)(Et.__ngLastListenerFn__||Et).__ngNextListenerFn__=p,Et.__ngLastListenerFn__=p,re=!1;else{p=ga(l,o,k,p,!1);const sn=a.listen(ot,d,p);K.push(p,sn),N&&N.push(d,Pe,Tt,Tt+1)}}else p=ga(l,o,k,p,!1);const Ce=l.outputs;let Be;if(re&&null!==Ce&&(Be=Ce[d])){const Xe=Be.length;if(Xe)for(let ot=0;ot<Xe;ot+=2){const Rn=o[Be[ot]][Be[ot+1]].subscribe(p),Nc=K.length;K.push(p,Rn),N&&N.push(d,l.index,Nc,-(Nc+1))}}}(p,d,d[11],_,s,o,0,l),Tf}function Wu(s,o,a,l){try{return!1!==a(l)}catch(d){return vf(s,d),!1}}function ga(s,o,a,l,d){return function p(_){if(_===Function)return l;A_(2&s.flags?fr(s.index,o):o);let D=Wu(o,0,l,_),T=p.__ngNextListenerFn__;for(;T;)D=Wu(o,0,T,_)&&D,T=T.__ngNextListenerFn__;return d&&!1===D&&(_.preventDefault(),_.returnValue=!1),D}}function On(s,o,a){return Nd(s,"",o,"",a),On}function Nd(s,o,a,l,d){const p=Me(),_=Ql(p,o,a,l);return _!==Ot&&ws(qt(),mn(),p,s,_,p[11],d,!1),Nd}function hu(s,o,a,l,d){const p=s[a+1],_=null===o;let w=l?Io(p):Bs(p),D=!1;for(;0!==w&&(!1===D||_);){const N=s[w+1];m0(s[w],o)&&(D=!0,s[w+1]=l?df(N):c_(N)),w=l?Io(N):Bs(N)}D&&(s[a+1]=l?c_(p):df(p))}function m0(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Os(s,o)>=0}function Y_(s,o){return function zs(s,o,a,l){const d=Me(),p=qt(),_=function wi(s){const o=bt.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,a}(2);p.firstUpdatePass&&function I0(s,o,a,l){const d=s.data;if(null===d[a+1]){const p=d[Yn()],_=function kd(s,o){return o>=s.expandoStartIndex}(s,a);(function A0(s,o){return 0!=(s.flags&(o?16:32))})(p,l)&&null===o&&!_&&(o=!1),o=function br(s,o,a,l){const d=function Fa(s){const o=bt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let p=l?o.residualClasses:o.residualStyles;if(null===d)0===(l?o.classBindings:o.styleBindings)&&(a=Mf(a=Q_(null,s,o,a,l),o.attrs,l),p=null);else{const _=o.directiveStylingLast;if(-1===_||s[_]!==d)if(a=Q_(d,s,o,a,l),null===p){let D=function D0(s,o,a){const l=a?o.classBindings:o.styleBindings;if(0!==Bs(l))return s[Io(l)]}(s,o,l);void 0!==D&&Array.isArray(D)&&(D=Q_(null,s,o,D[1],l),D=Mf(D,o.attrs,l),function UC(s,o,a,l){s[Io(a?o.classBindings:o.styleBindings)]=l}(s,o,l,D))}else p=function BC(s,o,a){let l;const d=o.directiveEnd;for(let p=1+o.directiveStylingLast;p<d;p++)l=Mf(l,s[p].hostAttrs,a);return Mf(l,o.attrs,a)}(s,o,l)}return void 0!==p&&(l?o.residualClasses=p:o.residualStyles=p),a}(d,p,o,l),function LC(s,o,a,l,d,p){let _=p?o.classBindings:o.styleBindings,w=Io(_),D=Bs(_);s[l]=a;let N,T=!1;if(Array.isArray(a)){const k=a;N=k[1],(null===N||Os(k,N)>0)&&(T=!0)}else N=a;if(d)if(0!==D){const K=Io(s[w+1]);s[l+1]=fg(K,w),0!==K&&(s[K+1]=pg(s[K+1],l)),s[w+1]=function _C(s,o){return 131071&s|o<<17}(s[w+1],l)}else s[l+1]=fg(w,0),0!==w&&(s[w+1]=pg(s[w+1],l)),w=l;else s[l+1]=fg(D,0),0===w?w=l:s[D+1]=pg(s[D+1],l),D=l;T&&(s[l+1]=c_(s[l+1])),hu(s,N,l,!0),hu(s,N,l,!1),function Af(s,o,a,l,d){const p=d?s.residualClasses:s.residualStyles;null!=p&&"string"==typeof o&&Os(p,o)>=0&&(a[l+1]=df(a[l+1]))}(o,N,s,l,p),_=fg(w,D),p?o.classBindings=_:o.styleBindings=_}(d,p,o,a,_,l)}}(p,s,_,l),o!==Ot&&pi(d,_,o)&&function xf(s,o,a,l,d,p,_,w){if(!(3&o.type))return;const D=s.data,T=D[w+1];Ws(function d_(s){return 1==(1&s)}(T)?X_(D,o,a,d,Bs(T),_):void 0)||(Ws(p)||function xE(s){return 2==(2&s)}(T)&&(p=X_(D,null,a,d,w,_)),function fM(s,o,a,l,d){if(o)d?s.addClass(a,l):s.removeClass(a,l);else{let p=-1===l.indexOf("-")?void 0:ti.DashCase;null==d?s.removeStyle(a,l,p):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),p|=ti.Important),s.setStyle(a,l,d,p))}}(l,_,Ra(Yn(),a),d,p))}(p,p.data[Yn()],d,d[11],s,d[_+1]=function T0(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=he(ua(s)))),s}(o,a),l,_)}(s,o,null,!0),Y_}function Q_(s,o,a,l,d){let p=null;const _=a.directiveEnd;let w=a.directiveStylingLast;for(-1===w?w=a.directiveStart:w++;w<_&&(p=o[w],l=Mf(l,p.hostAttrs,d),p!==s);)w++;return null!==s&&(a.directiveStylingLast=w),l}function Mf(s,o,a){const l=a?1:2;let d=-1;if(null!==o)for(let p=0;p<o.length;p++){const _=o[p];"number"==typeof _?d=_:d===l&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),bn(s,_,!!a||o[++p]))}return void 0===s?null:s}function X_(s,o,a,l,d,p){const _=null===o;let w;for(;d>0;){const D=s[d],T=Array.isArray(D),N=T?D[1]:D,k=null===N;let K=a[d+1];K===Ot&&(K=k?$t:void 0);let re=k?Wa(K,l):N===l?K:void 0;if(T&&!Ws(re)&&(re=Wa(D,l)),Ws(re)&&(w=re,_))return w;const Ce=s[d+1];d=_?Io(Ce):Bs(Ce)}if(null!==o){let D=p?o.residualClasses:o.residualStyles;null!=D&&(w=Wa(D,l))}return w}function Ws(s){return void 0!==s}function Kg(s,o=""){const a=Me(),l=qt(),d=s+22,p=l.firstCreatePass?yd(l,d,1,o,null):l.data[d],_=a[d]=function tg(s,o){return s.createText(o)}(a[11],o);Wy(l,a,_,p),Fr(p,!1)}function sc(s){return Nf("",s,""),sc}function Nf(s,o,a){const l=Me(),d=Ql(l,s,o,a);return d!==Ot&&function Do(s,o,a){const l=Ra(o,s);!function cE(s,o,a){s.setValue(o,a)}(s[11],l,a)}(l,Yn(),d),Nf}const qs=void 0;var ov=["en",[["a","p"],["AM","PM"],qs],[["AM","PM"],qs,qs],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],qs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],qs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",qs,"{1} 'at' {0}",qs],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function qu(s){const a=Math.floor(Math.abs(s)),l=s.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===l?1:5}];let Vd={};function er(s){const o=function nt(s){return s.toLowerCase().replace(/_/g,"-")}(s);let a=lt(o);if(a)return a;const l=o.split("-")[0];if(a=lt(l),a)return a;if("en"===l)return ov;throw new De(701,!1)}function tm(s){return er(s)[At.PluralCase]}function lt(s){return s in Vd||(Vd[s]=rt.ng&&rt.ng.common&&rt.ng.common.locales&&rt.ng.common.locales[s]),Vd[s]}var At=(()=>((At=At||{})[At.LocaleId=0]="LocaleId",At[At.DayPeriodsFormat=1]="DayPeriodsFormat",At[At.DayPeriodsStandalone=2]="DayPeriodsStandalone",At[At.DaysFormat=3]="DaysFormat",At[At.DaysStandalone=4]="DaysStandalone",At[At.MonthsFormat=5]="MonthsFormat",At[At.MonthsStandalone=6]="MonthsStandalone",At[At.Eras=7]="Eras",At[At.FirstDayOfWeek=8]="FirstDayOfWeek",At[At.WeekendRange=9]="WeekendRange",At[At.DateFormat=10]="DateFormat",At[At.TimeFormat=11]="TimeFormat",At[At.DateTimeFormat=12]="DateTimeFormat",At[At.NumberSymbols=13]="NumberSymbols",At[At.NumberFormats=14]="NumberFormats",At[At.CurrencyCode=15]="CurrencyCode",At[At.CurrencySymbol=16]="CurrencySymbol",At[At.CurrencyName=17]="CurrencyName",At[At.Currencies=18]="Currencies",At[At.Directionality=19]="Directionality",At[At.PluralCase=20]="PluralCase",At[At.ExtraData=21]="ExtraData",At))();const tr="en-US";let q0=tr;function pc(s,o,a,l,d){if(s=ee(s),Array.isArray(s))for(let p=0;p<s.length;p++)pc(s[p],o,a,l,d);else{const p=qt(),_=Me();let w=wo(s)?s:ee(s.provide),D=zl(s);const T=$n(),N=1048575&T.providerIndexes,k=T.directiveStart,K=T.providerIndexes>>20;if(wo(s)||!s.multi){const re=new Zo(D,d,md),Ce=yv(w,o,d?N:N+K,k);-1===Ce?(Au(Qn(T,_),p,w),dm(p,s,o.length),o.push(w),T.directiveStart++,T.directiveEnd++,d&&(T.providerIndexes+=1048576),a.push(re),_.push(re)):(a[Ce]=re,_[Ce]=re)}else{const re=yv(w,o,N+K,k),Ce=yv(w,o,N,N+K),Be=re>=0&&a[re],Xe=Ce>=0&&a[Ce];if(d&&!Xe||!d&&!Be){Au(Qn(T,_),p,w);const ot=function aI(s,o,a,l,d){const p=new Zo(s,a,md);return p.multi=[],p.index=o,p.componentProviders=0,iI(p,d,l&&!a),p}(d?oI:sI,a.length,d,l,D);!d&&Xe&&(a[Ce].providerFactory=ot),dm(p,s,o.length,0),o.push(w),T.directiveStart++,T.directiveEnd++,d&&(T.providerIndexes+=1048576),a.push(ot),_.push(ot)}else dm(p,s,re>-1?re:Ce,iI(a[d?Ce:re],D,!d&&l));!d&&l&&Xe&&a[Ce].componentProviders++}}}function dm(s,o,a,l){const d=wo(o),p=function Xh(s){return!!s.useClass}(o);if(d||p){const D=(p?ee(o.useClass):o).prototype.ngOnDestroy;if(D){const T=s.destroyHooks||(s.destroyHooks=[]);if(!d&&o.multi){const N=T.indexOf(a);-1===N?T.push(a,[l,D]):T[N+1].push(l,D)}else T.push(a,D)}}}function iI(s,o,a){return a&&s.componentProviders++,s.multi.push(o)-1}function yv(s,o,a,l){for(let d=a;d<l;d++)if(o[d]===s)return d;return-1}function sI(s,o,a,l){return Nr(this.multi,[])}function oI(s,o,a,l){const d=this.multi;let p;if(this.providerFactory){const _=this.providerFactory.componentProviders,w=ls(a,a[1],this.providerFactory.index,l);p=w.slice(0,_),Nr(d,p);for(let D=_;D<w.length;D++)p.push(w[D])}else p=[],Nr(d,p);return p}function Nr(s,o){for(let a=0;a<s.length;a++)o.push((0,s[a])());return o}function xn(s,o=[]){return a=>{a.providersResolver=(l,d)=>function cm(s,o,a){const l=qt();if(l.firstCreatePass){const d=Oi(s);pc(a,l.data,l.blueprint,d,!0),pc(o,l.data,l.blueprint,d,!1)}}(l,d?d(s):s,o)}}class zd{}class _v{}function gc(s,o){return new Wd(s,o??null)}class Wd extends zd{constructor(o,a){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new S_(this);const l=Ee(o);this._bootstrapComponents=ou(l.bootstrap),this._r3Injector=cf(o,a,[{provide:zd,useValue:this},{provide:ld,useValue:this.componentFactoryResolver}],he(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class qd extends _v{constructor(o){super(),this.moduleType=o}create(o){return new Wd(this.moduleType,o)}}class hm extends zd{constructor(o,a,l){super(),this.componentFactoryResolver=new S_(this),this.instance=null;const d=new vb([...o,{provide:zd,useValue:this},{provide:ld,useValue:this.componentFactoryResolver}],a||Hp(),l,new Set(["environment"]));this.injector=d,d.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function fm(s,o,a=null){return new hm(s,o,a).injector}function gm(s){return o=>{setTimeout(s,void 0,o)}}const Yi=class vI extends h.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,l){let d=o,p=a||(()=>null),_=l;if(o&&"object"==typeof o){const D=o;d=D.next?.bind(D),p=D.error?.bind(D),_=D.complete?.bind(D)}this.__isAsync&&(p=gm(p),d&&(d=gm(d)),_&&(_=gm(_)));const w=super.subscribe({next:d,error:p,complete:_});return o instanceof V.w0&&o.add(w),w}};function iT(){return this._results[lu()]()}class xv{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=lu(),l=xv.prototype;l[a]||(l[a]=iT)}get changes(){return this._changes||(this._changes=new Yi)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){const l=this;l.dirty=!1;const d=Hn(o);(this._changesDetected=!function Np(s,o,a){if(s.length!==o.length)return!1;for(let l=0;l<s.length;l++){let d=s[l],p=o[l];if(a&&(d=a(d),p=a(p)),p!==d)return!1}return!0}(l._results,d,a))&&(l._results=d,l.length=d.length,l.last=d[this.length-1],l.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Nn=(()=>{class s{}return s.__NG_ELEMENT_ID__=wI,s})();const mm=Nn,ym=class extends mm{constructor(o,a,l){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=l}createEmbeddedView(o,a){const l=this._declarationTContainer.tViews,d=Ig(this._declarationLView,l,o,16,null,l.declTNode,null,null,null,null,a||null);d[17]=this._declarationLView[this._declarationTContainer.index];const _=this._declarationLView[19];return null!==_&&(d[19]=_.createEmbeddedView(l)),Dg(l,d,o),new Td(d)}};function wI(){return _m($n(),Me())}function _m(s,o){return 4&s.type?new ym(o,s,su(s,o)):null}let el=(()=>{class s{}return s.__NG_ELEMENT_ID__=sT,s})();function sT(){return Nv($n(),Me())}const EI=el,vc=class extends EI{constructor(o,a,l){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=l}get element(){return su(this._hostTNode,this._hostLView)}get injector(){return new Dn(this._hostTNode,this._hostLView)}get parentInjector(){const o=ei(this._hostTNode,this._hostLView);if(Vh(o)){const a=ir(o,this._hostLView),l=$a(o);return new Dn(a[1].data[l+8],a)}return new Dn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=wa(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,a,l){let d,p;"number"==typeof l?d=l:null!=l&&(d=l.index,p=l.injector);const _=o.createEmbeddedView(a||{},p);return this.insert(_,d),_}createComponent(o,a,l,d,p){const _=o&&!function Jn(s){return"function"==typeof s}(o);let w;if(_)w=a;else{const k=a||{};w=k.index,l=k.injector,d=k.projectableNodes,p=k.environmentInjector||k.ngModuleRef}const D=_?o:new Ad(Y(o)),T=l||this.parentInjector;if(!p&&null==D.ngModule){const K=(_?T:this.parentInjector).get(Gl,null);K&&(p=K)}const N=D.create(T,d,void 0,p);return this.insert(N.hostView,w),N}insert(o,a){const l=o._lView,d=l[1];if(function Ns(s){return mi(s[3])}(l)){const N=this.indexOf(o);if(-1!==N)this.detach(N);else{const k=l[3],K=new vc(k,k[6],k[3]);K.detach(K.indexOf(o))}}const p=this._adjustIndex(a),_=this._lContainer;!function qb(s,o,a,l){const d=10+l,p=a.length;l>0&&(a[d-1][4]=o),l<p-10?(o[4]=a[d],za(a,10+l,o)):(a.push(o),o[4]=null),o[3]=a;const _=o[17];null!==_&&a!==_&&function dM(s,o){const a=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===a?s[9]=[o]:a.push(o)}(_,o);const w=o[19];null!==w&&w.insertView(s),o[2]|=64}(d,l,_,p);const w=qy(p,_),D=l[11],T=af(D,_[7]);return null!==T&&function Gy(s,o,a,l,d,p){l[0]=d,l[6]=o,uf(s,l,a,1,d,p)}(d,_[6],D,l,T,w),o.attachToViewContainerRef(),za(vm(_),p,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=wa(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),l=Xt(this._lContainer,a);l&&(Pu(vm(this._lContainer),a),ca(l[1],l))}detach(o){const a=this._adjustIndex(o,-1),l=Xt(this._lContainer,a);return l&&null!=Pu(vm(this._lContainer),a)?new Td(l):null}_adjustIndex(o,a=0){return o??this.length+a}};function wa(s){return s[8]}function vm(s){return s[8]||(s[8]=[])}function Nv(s,o){let a;const l=o[s.index];if(mi(l))a=l;else{let d;if(8&s.type)d=Kn(l);else{const p=o[11];d=p.createComment("");const _=Xr(s,o);ha(p,af(p,_),d,function zy(s,o){return s.nextSibling(o)}(p,_),!1)}o[s.index]=a=function Mg(s,o,a,l){return new Array(s,!0,!1,o,null,0,l,a,null,null)}(l,o,d,s),Dd(o,a)}return new vc(a,s,o)}class Rv{constructor(o){this.queryList=o,this.matches=null}clone(){return new Rv(this.queryList)}setDirty(){this.queryList.setDirty()}}class lr{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const l=null!==o.contentQueries?o.contentQueries[0]:a.length,d=[];for(let p=0;p<l;p++){const _=a.getByIndex(p);d.push(this.queries[_.indexInDeclarationView].clone())}return new lr(d)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==eh(o,a).matches&&this.queries[a].setDirty()}}class ln{constructor(o,a,l=null){this.predicate=o,this.flags=a,this.read=l}}class wm{constructor(o=[]){this.queries=o}elementStart(o,a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let l=0;l<this.length;l++){const d=null!==a?a.length:0,p=this.getByIndex(l).embeddedTView(o,d);p&&(p.indexInDeclarationView=l,null!==a?a.push(p):a=[p])}return null!==a?new wm(a):null}template(o,a){for(let l=0;l<this.queries.length;l++)this.queries[l].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Em{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new Em(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let l=o.parent;for(;null!==l&&8&l.type&&l.index!==a;)l=l.parent;return a===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const l=this.metadata.predicate;if(Array.isArray(l))for(let d=0;d<l.length;d++){const p=l[d];this.matchTNodeWithReadOption(o,a,tl(a,p)),this.matchTNodeWithReadOption(o,a,_t(a,o,p,!1,!1))}else l===Nn?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,_t(a,o,l,!1,!1))}matchTNodeWithReadOption(o,a,l){if(null!==l){const d=this.metadata.read;if(null!==d)if(d===ef||d===el||d===Nn&&4&a.type)this.addMatch(a.index,-2);else{const p=_t(a,o,d,!1,!1);null!==p&&this.addMatch(a.index,p)}else this.addMatch(a.index,l)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function tl(s,o){const a=s.localNames;if(null!==a)for(let l=0;l<a.length;l+=2)if(a[l]===o)return a[l+1];return null}function Qi(s,o,a,l){return-1===a?function oT(s,o){return 11&s.type?su(s,o):4&s.type?_m(s,o):null}(o,s):-2===a?function bI(s,o,a){return a===ef?su(o,s):a===Nn?_m(o,s):a===el?Nv(o,s):void 0}(s,o,l):ls(s,s[1],a,o)}function Jd(s,o,a,l){const d=o[19].queries[l];if(null===d.matches){const p=s.data,_=a.matches,w=[];for(let D=0;D<_.length;D+=2){const T=_[D];w.push(T<0?null:Qi(o,p[T],_[D+1],a.metadata.read))}d.matches=w}return d.matches}function Im(s,o,a,l){const d=s.queries.getByIndex(a),p=d.matches;if(null!==p){const _=Jd(s,o,d,a);for(let w=0;w<p.length;w+=2){const D=p[w];if(D>0)l.push(_[w/2]);else{const T=p[w+1],N=o[-D];for(let k=10;k<N.length;k++){const K=N[k];K[17]===K[3]&&Im(K[1],K,T,l)}if(null!==N[9]){const k=N[9];for(let K=0;K<k.length;K++){const re=k[K];Im(re[1],re,T,l)}}}}}return l}function Ao(s){const o=Me(),a=qt(),l=Go();Dl(l+1);const d=eh(a,l);if(s.dirty&&ao(o)===(2==(2&d.metadata.flags))){if(null===d.matches)s.reset([]);else{const p=d.crossesNgTemplate?Im(a,o,l,[]):Jd(a,o,d,l);s.reset(p,Tb),s.notifyOnChanges()}return!0}return!1}function Xd(s,o,a,l){const d=qt();if(d.firstCreatePass){const p=$n();(function AI(s,o,a){null===s.queries&&(s.queries=new wm),s.queries.track(new Em(o,a))})(d,new ln(o,a,l),p.index),function Dm(s,o){const a=s.contentQueries||(s.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(s.queries.length-1,o)}(d,s),2==(2&a)&&(d.staticContentQueries=!0)}!function Yt(s,o,a){const l=new xv(4==(4&a));UE(s,o,l,l.destroy),null===o[19]&&(o[19]=new lr),o[19].queries.push(new Rv(l))}(d,Me(),a)}function TI(){return function aT(s,o){return s[19].queries[o].queryList}(Me(),Go())}function eh(s,o){return s.queries.getByIndex(o)}function Ic(s){const o=Y(s)||z(s)||j(s);return null!==o&&o.standalone}function Am(...s){}const HI=new vt("Application Initializer");let Kf=(()=>{class s{constructor(a){this.appInits=a,this.resolve=Am,this.reject=Am,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,d)=>{this.resolve=l,this.reject=d})}runInitializers(){if(this.initialized)return;const a=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const p=this.appInits[d]();if(H_(p))a.push(p);else if(rc(p)){const _=new Promise((w,D)=>{p.subscribe({complete:w,error:D})});a.push(_)}}Promise.all(a).then(()=>{l()}).catch(d=>{this.reject(d)}),0===a.length&&l(),this.initialized=!0}}return s.\u0275fac=function(a){return new(a||s)(Vn(HI,8))},s.\u0275prov=tn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const GI=new vt("AppId",{providedIn:"root",factory:function Bv(){return`${jv()}${jv()}${jv()}`}});function jv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Sm=new vt("Platform Initializer"),qr=new vt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Mm=new vt("appBootstrapListener"),$v=new vt("AnimationModuleType");let rl=(()=>{class s{log(a){console.log(a)}warn(a){console.warn(a)}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=tn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const xm=new vt("LocaleId",{providedIn:"root",factory:()=>td(xm,ft.Optional|ft.SkipSelf)||function WI(){return typeof $localize<"u"&&$localize.locale||tr}()}),qI=new vt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Cc{constructor(o,a){this.ngModuleFactory=o,this.componentFactories=a}}let Yf=(()=>{class s{compileModuleSync(a){return new qd(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const l=this.compileModuleSync(a),p=ou(Ee(a).declarations).reduce((_,w)=>{const D=Y(w);return D&&_.push(new Ad(D)),_},[]);return new Cc(l,p)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=tn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const YI=(()=>Promise.resolve(0))();function rh(s){typeof Zone>"u"?YI.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Rr{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Yi(!1),this.onMicrotaskEmpty=new Yi(!1),this.onStable=new Yi(!1),this.onError=new Yi(!1),typeof Zone>"u")throw new De(908,!1);Zone.assertZonePatched();const d=this;if(d._nesting=0,d._outer=d._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const p=Zone.AsyncStackTaggingZoneSpec;d._inner=d._inner.fork(new p("Angular"))}Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!l&&a,d.shouldCoalesceRunChangeDetection=l,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function Qf(){let s=rt.requestAnimationFrame,o=rt.cancelAnimationFrame;if(typeof Zone<"u"&&s&&o){const a=s[Zone.__symbol__("OriginalDelegate")];a&&(s=a);const l=o[Zone.__symbol__("OriginalDelegate")];l&&(o=l)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function ET(s){const o=()=>{!function wT(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(rt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,qv(s),s.isCheckStableRunning=!0,Nm(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),qv(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,l,d,p,_,w)=>{try{return ih(s),a.invokeTask(d,p,_,w)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||s.shouldCoalesceRunChangeDetection)&&o(),il(s)}},onInvoke:(a,l,d,p,_,w,D)=>{try{return ih(s),a.invoke(d,p,_,w,D)}finally{s.shouldCoalesceRunChangeDetection&&o(),il(s)}},onHasTask:(a,l,d,p)=>{a.hasTask(d,p),l===d&&("microTask"==p.change?(s._hasPendingMicrotasks=p.microTask,qv(s),Nm(s)):"macroTask"==p.change&&(s.hasPendingMacrotasks=p.macroTask))},onHandleError:(a,l,d,p)=>(a.handleError(d,p),s.runOutsideAngular(()=>s.onError.emit(p)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Rr.isInAngularZone())throw new De(909,!1)}static assertNotInAngularZone(){if(Rr.isInAngularZone())throw new De(909,!1)}run(o,a,l){return this._inner.run(o,a,l)}runTask(o,a,l,d){const p=this._inner,_=p.scheduleEventTask("NgZoneEvent: "+d,o,vT,Am,Am);try{return p.runTask(_,a,l)}finally{p.cancelTask(_)}}runGuarded(o,a,l){return this._inner.runGuarded(o,a,l)}runOutsideAngular(o){return this._outer.run(o)}}const vT={};function Nm(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function qv(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function ih(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function il(s){s._nesting--,Nm(s)}class Tc{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Yi,this.onMicrotaskEmpty=new Yi,this.onStable=new Yi,this.onError=new Yi}run(o,a,l){return o.apply(a,l)}runGuarded(o,a,l){return o.apply(a,l)}runOutsideAngular(o){return o()}runTask(o,a,l,d){return o.apply(a,l)}}const Zv=new vt(""),QI=new vt("");let Kv,IT=(()=>{class s{constructor(a,l,d){this._ngZone=a,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Kv||(function Pm(s){Kv=s}(d),d.addToWindow(l)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Rr.assertNotInAngularZone(),rh(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())rh(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(a)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,l,d){let p=-1;l&&l>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==p),a(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:a,timeoutId:p,updateCb:d})}whenStable(a,l,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,l,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,l,d){return[]}}return s.\u0275fac=function(a){return new(a||s)(Vn(Rr),Vn(Rm),Vn(QI))},s.\u0275prov=tn({token:s,factory:s.\u0275fac}),s})(),Rm=(()=>{class s{constructor(){this._applications=new Map}registerApplication(a,l){this._applications.set(a,l)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,l=!0){return Kv?.findTestabilityInTree(this,a,l)??null}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=tn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),pu=null;const sh=new vt("AllowMultipleToken"),oh=new vt("PlatformDestroyListeners");class XI{constructor(o,a){this.name=o,this.token=a}}function Sc(s,o,a=[]){const l=`Platform: ${o}`,d=new vt(l);return(p=[])=>{let _=ol();if(!_||_.injector.get(sh,!1)){const w=[...a,...p,{provide:d,useValue:!0}];s?s(w):function Om(s){if(pu&&!pu.get(sh,!1))throw new De(400,!1);pu=s;const o=s.get(Qv);(function Yv(s){const o=s.get(Sm,null);o&&o.forEach(a=>a())})(s)}(function sl(s=[],o){return Bu.create({name:o,providers:[{provide:Dy,useValue:"platform"},{provide:oh,useValue:new Set([()=>pu=null])},...s]})}(w,l))}return function eD(s){const o=ol();if(!o)throw new De(401,!1);return o}()}}function ol(){return pu?.get(Qv)??null}let Qv=(()=>{class s{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,l){const d=function tD(s,o){let a;return a="noop"===s?new Tc:("zone.js"===s?void 0:s)||new Rr(o),a}(l?.ngZone,function gu(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(l)),p=[{provide:Rr,useValue:d}];return d.run(()=>{const _=Bu.create({providers:p,parent:this.injector,name:a.moduleType.name}),w=a.create(_),D=w.injector.get(cd,null);if(!D)throw new De(402,!1);return d.runOutsideAngular(()=>{const T=d.onError.subscribe({next:N=>{D.handleError(N)}});w.onDestroy(()=>{Lm(this._modules,w),T.unsubscribe()})}),function nD(s,o,a){try{const l=a();return H_(l)?l.catch(d=>{throw o.runOutsideAngular(()=>s.handleError(d)),d}):l}catch(l){throw o.runOutsideAngular(()=>s.handleError(l)),l}}(D,d,()=>{const T=w.injector.get(Kf);return T.runInitializers(),T.donePromise.then(()=>(function av(s){Jt(s,"Expected localeId to be defined"),"string"==typeof s&&(q0=s.toLowerCase().replace(/_/g,"-"))}(w.injector.get(xm,tr)||tr),this._moduleDoBootstrap(w),w))})})}bootstrapModule(a,l=[]){const d=rD({},l);return function JI(s,o,a){const l=new qd(a);return Promise.resolve(l)}(0,0,a).then(p=>this.bootstrapModuleFactory(p,d))}_moduleDoBootstrap(a){const l=a.injector.get(Fm);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(d=>l.bootstrap(d));else{if(!a.instance.ngDoBootstrap)throw new De(403,!1);a.instance.ngDoBootstrap(l)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new De(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const a=this._injector.get(oh,null);a&&(a.forEach(l=>l()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(a){return new(a||s)(Vn(Bu))},s.\u0275prov=tn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function rD(s,o){return Array.isArray(o)?o.reduce(rD,s):{...s,...o}}let Fm=(()=>{class s{constructor(a,l,d){this._zone=a,this._injector=l,this._exceptionHandler=d,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const p=new R.y(w=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{w.next(this._stable),w.complete()})}),_=new R.y(w=>{let D;this._zone.runOutsideAngular(()=>{D=this._zone.onStable.subscribe(()=>{Rr.assertNotInAngularZone(),rh(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,w.next(!0))})})});const T=this._zone.onUnstable.subscribe(()=>{Rr.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{w.next(!1)}))});return()=>{D.unsubscribe(),T.unsubscribe()}});this.isStable=(0,se.T)(p,_.pipe((0,ae.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,l){const d=a instanceof Uw;if(!this._injector.get(Kf).done)throw!d&&Ic(a),new De(405,false);let _;_=d?a:this._injector.get(ld).resolveComponentFactory(a),this.componentTypes.push(_.componentType);const w=function Ji(s){return s.isBoundToModule}(_)?void 0:this._injector.get(zd),T=_.create(Bu.NULL,[],l||_.selector,w),N=T.location.nativeElement,k=T.injector.get(Zv,null);return k?.registerApplication(N),T.onDestroy(()=>{this.detachView(T.hostView),Lm(this.components,T),k?.unregisterApplication(N)}),this._loadComponent(T),T}tick(){if(this._runningTick)throw new De(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const l=a;this._views.push(l),l.attachToAppRef(this)}detachView(a){const l=a;Lm(this._views,l),l.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(Mm,[]).concat(this._bootstrapListeners).forEach(d=>d(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>Lm(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new De(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(a){return new(a||s)(Vn(Rr),Vn(Gl),Vn(cd))},s.\u0275prov=tn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function Lm(s,o){const a=s.indexOf(o);a>-1&&s.splice(a,1)}let sD=!0,Jv=!1;function bT(){return Jv=!0,sD}function oD(){if(Jv)throw new Error("Cannot enable prod mode after platform setup.");sD=!1}let aD=(()=>{class s{}return s.__NG_ELEMENT_ID__=CT,s})();function CT(s){return function uD(s,o,a){if(Sa(s)&&!a){const l=fr(s.index,o);return new Td(l,l)}return 47&s.type?new Td(o[16],o):null}($n(),Me(),16==(16&s))}class tw{constructor(){}supports(o){return Sd(o)}create(o){return new xT(o)}}const nw=(s,o)=>o;class xT{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||nw}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,l=this._removalsHead,d=0,p=null;for(;a||l;){const _=!l||a&&a.currentIndex<gD(l,d,p)?a:l,w=gD(_,d,p),D=_.currentIndex;if(_===l)d--,l=l._nextRemoved;else if(a=a._next,null==_.previousIndex)d++;else{p||(p=[]);const T=w-d,N=D-d;if(T!=N){for(let K=0;K<T;K++){const re=K<p.length?p[K]:p[K]=0,Ce=re+K;N<=Ce&&Ce<T&&(p[K]=re+1)}p[_.previousIndex]=N-T}}w!==D&&o(_,w,D)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!Sd(o))throw new De(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let d,p,_,a=this._itHead,l=!1;if(Array.isArray(o)){this.length=o.length;for(let w=0;w<this.length;w++)p=o[w],_=this._trackByFn(w,p),null!==a&&Object.is(a.trackById,_)?(l&&(a=this._verifyReinsertion(a,p,_,w)),Object.is(a.item,p)||this._addIdentityChange(a,p)):(a=this._mismatch(a,p,_,w),l=!0),a=a._next}else d=0,function Ef(s,o){if(Array.isArray(s))for(let a=0;a<s.length;a++)o(s[a]);else{const a=s[lu()]();let l;for(;!(l=a.next()).done;)o(l.value)}}(o,w=>{_=this._trackByFn(d,w),null!==a&&Object.is(a.trackById,_)?(l&&(a=this._verifyReinsertion(a,w,_,d)),Object.is(a.item,w)||this._addIdentityChange(a,w)):(a=this._mismatch(a,w,_,d),l=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,l,d){let p;return null===o?p=this._itTail:(p=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,p,d)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(l,d))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,p,d)):o=this._addAfter(new pD(a,l),p,d),o}_verifyReinsertion(o,a,l,d){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==p?o=this._reinsertAfter(p,o._prev,d):o.currentIndex!=d&&(o.currentIndex=d,this._addToMoves(o,d)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const d=o._prevRemoved,p=o._nextRemoved;return null===d?this._removalsHead=p:d._nextRemoved=p,null===p?this._removalsTail=d:p._prevRemoved=d,this._insertAfter(o,a,l),this._addToMoves(o,l),o}_moveAfter(o,a,l){return this._unlink(o),this._insertAfter(o,a,l),this._addToMoves(o,l),o}_addAfter(o,a,l){return this._insertAfter(o,a,l),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,l){const d=null===a?this._itHead:a._next;return o._next=d,o._prev=a,null===d?this._itTail=o:d._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new rw),this._linkedRecords.put(o),o.currentIndex=l,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,l=o._next;return null===a?this._itHead=l:a._next=l,null===l?this._itTail=a:l._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new rw),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class pD{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class NT{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===a||a<=l.currentIndex)&&Object.is(l.trackById,o))return l;return null}remove(o){const a=o._prevDup,l=o._nextDup;return null===a?this._head=l:a._nextDup=l,null===l?this._tail=a:l._prevDup=a,null===this._head}}class rw{constructor(){this.map=new Map}put(o){const a=o.trackById;let l=this.map.get(a);l||(l=new NT,this.map.set(a,l)),l.add(o)}get(o,a){const d=this.map.get(o);return d?d.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function gD(s,o,a){const l=s.previousIndex;if(null===l)return l;let d=0;return a&&l<a.length&&(d=a[l]),l+o+d}class xc{constructor(){}supports(o){return o instanceof Map||Og(o)}create(){return new ch}}class ch{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||Og(o)))throw new De(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(l,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,l),this._appendAfter=a,a=a._next;else{const p=this._getOrCreateRecordForKey(d,l);a=this._insertBeforeOrAppend(a,p)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let l=a;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const l=o._prev;return a._next=o,a._prev=l,o._prev=a,l&&(l._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const d=this._records.get(o);this._maybeAddToChanges(d,a);const p=d._prev,_=d._next;return p&&(p._next=_),_&&(_._prev=p),d._next=null,d._prev=null,d}const l=new iw(o);return this._records.set(o,l),l.currentValue=a,this._addToAdditions(l),l}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(l=>a(o[l],l))}}class iw{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ep(){return new jm([new tw])}let jm=(()=>{class s{constructor(a){this.factories=a}static create(a,l){if(null!=l){const d=l.factories.slice();a=a.concat(d)}return new s(a)}static extend(a){return{provide:s,useFactory:l=>s.create(a,l||ep()),deps:[[s,new Ne,new J]]}}find(a){const l=this.factories.find(d=>d.supports(a));if(null!=l)return l;throw new De(901,!1)}}return s.\u0275prov=tn({token:s,providedIn:"root",factory:ep}),s})();function sw(){return new ow([new xc])}let ow=(()=>{class s{constructor(a){this.factories=a}static create(a,l){if(l){const d=l.factories.slice();a=a.concat(d)}return new s(a)}static extend(a){return{provide:s,useFactory:l=>s.create(a,l||sw()),deps:[[s,new Ne,new J]]}}find(a){const l=this.factories.find(d=>d.supports(a));if(l)return l;throw new De(901,!1)}}return s.\u0275prov=tn({token:s,providedIn:"root",factory:sw}),s})();const yD=Sc(null,"core",[]);let uw=(()=>{class s{constructor(a){}}return s.\u0275fac=function(a){return new(a||s)(Vn(Fm))},s.\u0275mod=Ge({type:s}),s.\u0275inj=Gt({}),s})();function $m(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}},3942:(ht,Re,O)=>{O.d(Re,{Z:()=>De});var h=O(2090),V=O(4859),R=O(9681),se=O(1877);class ae{constructor(we,ge){this._delegate=we,this.firebase=ge,(0,R._addComponent)(we,new V.wA("app-compat",()=>this,"PUBLIC")),this.container=we.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(we){this._delegate.automaticDataCollectionEnabled=we}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(we=>{this._delegate.checkDestroyed(),we()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,R.deleteApp)(this._delegate)))}_getService(we,ge=R._DEFAULT_ENTRY_NAME){var et;this._delegate.checkDestroyed();const tt=this._delegate.container.getProvider(we);return!tt.isInitialized()&&"EXPLICIT"===(null===(et=tt.getComponent())||void 0===et?void 0:et.instantiationMode)&&tt.initialize(),tt.getImmediate({identifier:ge})}_removeServiceInstance(we,ge=R._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(we).clearInstance(ge)}_addComponent(we){(0,R._addComponent)(this._delegate,we)}_addOrOverwriteComponent(we){(0,R._addOrOverwriteComponent)(this._delegate,we)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const pe=new h.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),H=function ve(){const it=function he(it){const we={},ge={__esModule:!0,initializeApp:function Fe(ie,ue={}){const _e=R.initializeApp(ie,ue);if((0,h.r3)(we,_e.name))return we[_e.name];const X=new it(_e,ge);return we[_e.name]=X,X},app:tt,registerVersion:R.registerVersion,setLogLevel:R.setLogLevel,onLog:R.onLog,apps:null,SDK_VERSION:R.SDK_VERSION,INTERNAL:{registerComponent:function be(ie){const ue=ie.name,_e=ue.replace("-compat","");if(R._registerComponent(ie)&&"PUBLIC"===ie.type){const X=(te=tt())=>{if("function"!=typeof te[_e])throw pe.create("invalid-app-argument",{appName:ue});return te[_e]()};void 0!==ie.serviceProps&&(0,h.ZB)(X,ie.serviceProps),ge[_e]=X,it.prototype[_e]=function(...te){return this._getService.bind(this,ue).apply(this,ie.multipleInstances?te:[])}}return"PUBLIC"===ie.type?ge[_e]:null},removeApp:function et(ie){delete we[ie]},useAsService:function Ze(ie,ue){return"serverAuth"===ue?null:ue},modularAPIs:R}};function tt(ie){if(!(0,h.r3)(we,ie=ie||R._DEFAULT_ENTRY_NAME))throw pe.create("no-app",{appName:ie});return we[ie]}return ge.default=ge,Object.defineProperty(ge,"apps",{get:function Oe(){return Object.keys(we).map(ie=>we[ie])}}),tt.App=it,ge}(ae);return it.INTERNAL=Object.assign(Object.assign({},it.INTERNAL),{createFirebaseNamespace:ve,extendNamespace:function we(ge){(0,h.ZB)(it,ge)},createSubscribe:h.ne,ErrorFactory:h.LL,deepExtend:h.ZB}),it}(),G=new se.Yd("@firebase/app-compat");if((0,h.jU)()&&void 0!==self.firebase){G.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const it=self.firebase.SDK_VERSION;it&&it.indexOf("LITE")>=0&&G.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const De=H;!function ke(it){(0,R.registerVersion)("@firebase/app-compat","0.1.32",it)}()},9681:(ht,Re,O)=>{O.r(Re),O.d(Re,{FirebaseError:()=>se.ZR,SDK_VERSION:()=>oi,_DEFAULT_ENTRY_NAME:()=>Jt,_addComponent:()=>on,_addOrOverwriteComponent:()=>tn,_apps:()=>yn,_clearComponents:()=>Ys,_components:()=>kn,_getProvider:()=>Gt,_registerComponent:()=>Qt,_removeServiceInstance:()=>Tr,deleteApp:()=>ft,getApp:()=>Bn,getApps:()=>ns,initializeApp:()=>ai,onLog:()=>nn,registerVersion:()=>Sr,setLogLevel:()=>rr});var h=O(5861),V=O(4859),R=O(1877),se=O(2090),ae=O(8766);class ye{constructor(W){this.container=W}getPlatformInfoString(){return this.container.getProviders().map(Z=>{if(function pe(U){return"VERSION"===U.getComponent()?.type}(Z)){const Ae=Z.getImmediate();return`${Ae.library}/${Ae.version}`}return null}).filter(Z=>Z).join(" ")}}const he="@firebase/app",H=new R.Yd("@firebase/app"),Jt="[DEFAULT]",Ke={[he]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},yn=new Map,kn=new Map;function on(U,W){try{U.container.addComponent(W)}catch(Z){H.debug(`Component ${W.name} failed to register with FirebaseApp ${U.name}`,Z)}}function tn(U,W){U.container.addOrOverwriteComponent(W)}function Qt(U){const W=U.name;if(kn.has(W))return H.debug(`There were multiple attempts to register component ${W}.`),!1;kn.set(W,U);for(const Z of yn.values())on(Z,U);return!0}function Gt(U,W){const Z=U.container.getProvider("heartbeat").getImmediate({optional:!0});return Z&&Z.triggerHeartbeat(),U.container.getProvider(W)}function Tr(U,W,Z=Jt){Gt(U,W).clearInstance(Z)}function Ys(){kn.clear()}const Tn=new se.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Ri{constructor(W,Z,Ae){this._isDeleted=!1,this._options=Object.assign({},W),this._config=Object.assign({},Z),this._name=Z.name,this._automaticDataCollectionEnabled=Z.automaticDataCollectionEnabled,this._container=Ae,this.container.addComponent(new V.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(W){this.checkDestroyed(),this._automaticDataCollectionEnabled=W}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(W){this._isDeleted=W}checkDestroyed(){if(this.isDeleted)throw Tn.create("app-deleted",{appName:this._name})}}const oi="9.9.3";function ai(U,W={}){"object"!=typeof W&&(W={name:W});const Z=Object.assign({name:Jt,automaticDataCollectionEnabled:!1},W),Ae=Z.name;if("string"!=typeof Ae||!Ae)throw Tn.create("bad-app-name",{appName:String(Ae)});const Ge=yn.get(Ae);if(Ge){if((0,se.vZ)(U,Ge.options)&&(0,se.vZ)(Z,Ge.config))return Ge;throw Tn.create("duplicate-app",{appName:Ae})}const Dt=new V.H0(Ae);for(const un of kn.values())Dt.addComponent(un);const an=new Ri(U,Z,Dt);return yn.set(Ae,an),an}function Bn(U=Jt){const W=yn.get(U);if(!W)throw Tn.create("no-app",{appName:U});return W}function ns(){return Array.from(yn.values())}function ft(U){return _n.apply(this,arguments)}function _n(){return(_n=(0,h.Z)(function*(U){const W=U.name;yn.has(W)&&(yn.delete(W),yield Promise.all(U.container.getProviders().map(Z=>Z.delete())),U.isDeleted=!0)})).apply(this,arguments)}function Sr(U,W,Z){var Ae;let Ge=null!==(Ae=Ke[U])&&void 0!==Ae?Ae:U;Z&&(Ge+=`-${Z}`);const Dt=Ge.match(/\s|\//),an=W.match(/\s|\//);if(Dt||an){const un=[`Unable to register library "${Ge}" with version "${W}":`];return Dt&&un.push(`library name "${Ge}" contains illegal characters (whitespace or "/")`),Dt&&an&&un.push("and"),an&&un.push(`version name "${W}" contains illegal characters (whitespace or "/")`),void H.warn(un.join(" "))}Qt(new V.wA(`${Ge}-version`,()=>({library:Ge,version:W}),"VERSION"))}function nn(U,W){if(null!==U&&"function"!=typeof U)throw Tn.create("invalid-log-argument");(0,R.Am)(U,W)}function rr(U){(0,R.Ub)(U)}const pn="firebase-heartbeat-store";let Yr=null;function En(){return Yr||(Yr=(0,ae.X3)("firebase-heartbeat-database",1,{upgrade:(U,W)=>{0===W&&U.createObjectStore(pn)}}).catch(U=>{throw Tn.create("idb-open",{originalErrorMessage:U.message})})),Yr}function rt(){return(rt=(0,h.Z)(function*(U){var W;try{return(yield En()).transaction(pn).objectStore(pn).get(Sn(U))}catch(Z){if(Z instanceof se.ZR)H.warn(Z.message);else{const Ae=Tn.create("idb-get",{originalErrorMessage:null===(W=Z)||void 0===W?void 0:W.message});H.warn(Ae.message)}}})).apply(this,arguments)}function An(U,W){return Or.apply(this,arguments)}function Or(){return(Or=(0,h.Z)(function*(U,W){var Z;try{const Ge=(yield En()).transaction(pn,"readwrite");return yield Ge.objectStore(pn).put(W,Sn(U)),Ge.done}catch(Ae){if(Ae instanceof se.ZR)H.warn(Ae.message);else{const Ge=Tn.create("idb-set",{originalErrorMessage:null===(Z=Ae)||void 0===Z?void 0:Z.message});H.warn(Ge.message)}}})).apply(this,arguments)}function Sn(U){return`${U.name}!${U.options.appId}`}class kr{constructor(W){this.container=W,this._heartbeatsCache=null;const Z=this.container.getProvider("app").getImmediate();this._storage=new Rt(Z),this._heartbeatsCachePromise=this._storage.read().then(Ae=>(this._heartbeatsCache=Ae,Ae))}triggerHeartbeat(){var W=this;return(0,h.Z)(function*(){const Ae=W.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ge=Pt();if(null===W._heartbeatsCache&&(W._heartbeatsCache=yield W._heartbeatsCachePromise),W._heartbeatsCache.lastSentHeartbeatDate!==Ge&&!W._heartbeatsCache.heartbeats.some(Dt=>Dt.date===Ge))return W._heartbeatsCache.heartbeats.push({date:Ge,agent:Ae}),W._heartbeatsCache.heartbeats=W._heartbeatsCache.heartbeats.filter(Dt=>{const an=new Date(Dt.date).valueOf();return Date.now()-an<=2592e6}),W._storage.overwrite(W._heartbeatsCache)})()}getHeartbeatsHeader(){var W=this;return(0,h.Z)(function*(){if(null===W._heartbeatsCache&&(yield W._heartbeatsCachePromise),null===W._heartbeatsCache||0===W._heartbeatsCache.heartbeats.length)return"";const Z=Pt(),{heartbeatsToSend:Ae,unsentEntries:Ge}=function ui(U,W=1024){const Z=[];let Ae=U.slice();for(const Ge of U){const Dt=Z.find(an=>an.agent===Ge.agent);if(Dt){if(Dt.dates.push(Ge.date),Q(Z)>W){Dt.dates.pop();break}}else if(Z.push({agent:Ge.agent,dates:[Ge.date]}),Q(Z)>W){Z.pop();break}Ae=Ae.slice(1)}return{heartbeatsToSend:Z,unsentEntries:Ae}}(W._heartbeatsCache.heartbeats),Dt=(0,se.L)(JSON.stringify({version:2,heartbeats:Ae}));return W._heartbeatsCache.lastSentHeartbeatDate=Z,Ge.length>0?(W._heartbeatsCache.heartbeats=Ge,yield W._storage.overwrite(W._heartbeatsCache)):(W._heartbeatsCache.heartbeats=[],W._storage.overwrite(W._heartbeatsCache)),Dt})()}}function Pt(){return(new Date).toISOString().substring(0,10)}class Rt{constructor(W){this.app=W,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,h.Z)(function*(){return!!(0,se.hl)()&&(0,se.eu)().then(()=>!0).catch(()=>!1)})()}read(){var W=this;return(0,h.Z)(function*(){return(yield W._canUseIndexedDBPromise)&&(yield function st(U){return rt.apply(this,arguments)}(W.app))||{heartbeats:[]}})()}overwrite(W){var Z=this;return(0,h.Z)(function*(){var Ae;if(yield Z._canUseIndexedDBPromise){const Dt=yield Z.read();return An(Z.app,{lastSentHeartbeatDate:null!==(Ae=W.lastSentHeartbeatDate)&&void 0!==Ae?Ae:Dt.lastSentHeartbeatDate,heartbeats:W.heartbeats})}})()}add(W){var Z=this;return(0,h.Z)(function*(){var Ae;if(yield Z._canUseIndexedDBPromise){const Dt=yield Z.read();return An(Z.app,{lastSentHeartbeatDate:null!==(Ae=W.lastSentHeartbeatDate)&&void 0!==Ae?Ae:Dt.lastSentHeartbeatDate,heartbeats:[...Dt.heartbeats,...W.heartbeats]})}})()}}function Q(U){return(0,se.L)(JSON.stringify({version:2,heartbeats:U})).length}!function $(U){Qt(new V.wA("platform-logger",W=>new ye(W),"PRIVATE")),Qt(new V.wA("heartbeat",W=>new kr(W),"PRIVATE")),Sr(he,"0.7.31",U),Sr(he,"0.7.31","esm2017"),Sr("fire-js","")}("")},4859:(ht,Re,O)=>{O.d(Re,{H0:()=>he,wA:()=>R});var h=O(5861),V=O(2090);class R{constructor(H,G,ee){this.name=H,this.instanceFactory=G,this.type=ee,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(H){return this.instantiationMode=H,this}setMultipleInstances(H){return this.multipleInstances=H,this}setServiceProps(H){return this.serviceProps=H,this}setInstanceCreatedCallback(H){return this.onInstanceCreated=H,this}}const se="[DEFAULT]";class ae{constructor(H,G){this.name=H,this.container=G,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(H){const G=this.normalizeInstanceIdentifier(H);if(!this.instancesDeferred.has(G)){const ee=new V.BH;if(this.instancesDeferred.set(G,ee),this.isInitialized(G)||this.shouldAutoInitialize())try{const $e=this.getOrInitializeService({instanceIdentifier:G});$e&&ee.resolve($e)}catch{}}return this.instancesDeferred.get(G).promise}getImmediate(H){var G;const ee=this.normalizeInstanceIdentifier(H?.identifier),$e=null!==(G=H?.optional)&&void 0!==G&&G;if(!this.isInitialized(ee)&&!this.shouldAutoInitialize()){if($e)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ee})}catch(ke){if($e)return null;throw ke}}getComponent(){return this.component}setComponent(H){if(H.name!==this.name)throw Error(`Mismatching Component ${H.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=H,this.shouldAutoInitialize()){if(function pe(ve){return"EAGER"===ve.instantiationMode}(H))try{this.getOrInitializeService({instanceIdentifier:se})}catch{}for(const[G,ee]of this.instancesDeferred.entries()){const $e=this.normalizeInstanceIdentifier(G);try{const ke=this.getOrInitializeService({instanceIdentifier:$e});ee.resolve(ke)}catch{}}}}clearInstance(H=se){this.instancesDeferred.delete(H),this.instancesOptions.delete(H),this.instances.delete(H)}delete(){var H=this;return(0,h.Z)(function*(){const G=Array.from(H.instances.values());yield Promise.all([...G.filter(ee=>"INTERNAL"in ee).map(ee=>ee.INTERNAL.delete()),...G.filter(ee=>"_delete"in ee).map(ee=>ee._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(H=se){return this.instances.has(H)}getOptions(H=se){return this.instancesOptions.get(H)||{}}initialize(H={}){const{options:G={}}=H,ee=this.normalizeInstanceIdentifier(H.instanceIdentifier);if(this.isInitialized(ee))throw Error(`${this.name}(${ee}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const $e=this.getOrInitializeService({instanceIdentifier:ee,options:G});for(const[ke,De]of this.instancesDeferred.entries())ee===this.normalizeInstanceIdentifier(ke)&&De.resolve($e);return $e}onInit(H,G){var ee;const $e=this.normalizeInstanceIdentifier(G),ke=null!==(ee=this.onInitCallbacks.get($e))&&void 0!==ee?ee:new Set;ke.add(H),this.onInitCallbacks.set($e,ke);const De=this.instances.get($e);return De&&H(De,$e),()=>{ke.delete(H)}}invokeOnInitCallbacks(H,G){const ee=this.onInitCallbacks.get(G);if(ee)for(const $e of ee)try{$e(H,G)}catch{}}getOrInitializeService({instanceIdentifier:H,options:G={}}){let ee=this.instances.get(H);if(!ee&&this.component&&(ee=this.component.instanceFactory(this.container,{instanceIdentifier:(ve=H,ve===se?void 0:ve),options:G}),this.instances.set(H,ee),this.instancesOptions.set(H,G),this.invokeOnInitCallbacks(ee,H),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,H,ee)}catch{}var ve;return ee||null}normalizeInstanceIdentifier(H=se){return this.component?this.component.multipleInstances?H:se:H}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class he{constructor(H){this.name=H,this.providers=new Map}addComponent(H){const G=this.getProvider(H.name);if(G.isComponentSet())throw new Error(`Component ${H.name} has already been registered with ${this.name}`);G.setComponent(H)}addOrOverwriteComponent(H){this.getProvider(H.name).isComponentSet()&&this.providers.delete(H.name),this.addComponent(H)}getProvider(H){if(this.providers.has(H))return this.providers.get(H);const G=new ae(H,this);return this.providers.set(H,G),G}getProviders(){return Array.from(this.providers.values())}}},1877:(ht,Re,O)=>{O.d(Re,{Am:()=>ve,Ub:()=>he,Yd:()=>pe,in:()=>V});const h=[];var V=(()=>{return(H=V||(V={}))[H.DEBUG=0]="DEBUG",H[H.VERBOSE=1]="VERBOSE",H[H.INFO=2]="INFO",H[H.WARN=3]="WARN",H[H.ERROR=4]="ERROR",H[H.SILENT=5]="SILENT",V;var H})();const R={debug:V.DEBUG,verbose:V.VERBOSE,info:V.INFO,warn:V.WARN,error:V.ERROR,silent:V.SILENT},se=V.INFO,ae={[V.DEBUG]:"log",[V.VERBOSE]:"log",[V.INFO]:"info",[V.WARN]:"warn",[V.ERROR]:"error"},ye=(H,G,...ee)=>{if(G<H.logLevel)return;const $e=(new Date).toISOString(),ke=ae[G];if(!ke)throw new Error(`Attempted to log a message with an invalid logType (value: ${G})`);console[ke](`[${$e}]  ${H.name}:`,...ee)};class pe{constructor(G){this.name=G,this._logLevel=se,this._logHandler=ye,this._userLogHandler=null,h.push(this)}get logLevel(){return this._logLevel}set logLevel(G){if(!(G in V))throw new TypeError(`Invalid value "${G}" assigned to \`logLevel\``);this._logLevel=G}setLogLevel(G){this._logLevel="string"==typeof G?R[G]:G}get logHandler(){return this._logHandler}set logHandler(G){if("function"!=typeof G)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=G}get userLogHandler(){return this._userLogHandler}set userLogHandler(G){this._userLogHandler=G}debug(...G){this._userLogHandler&&this._userLogHandler(this,V.DEBUG,...G),this._logHandler(this,V.DEBUG,...G)}log(...G){this._userLogHandler&&this._userLogHandler(this,V.VERBOSE,...G),this._logHandler(this,V.VERBOSE,...G)}info(...G){this._userLogHandler&&this._userLogHandler(this,V.INFO,...G),this._logHandler(this,V.INFO,...G)}warn(...G){this._userLogHandler&&this._userLogHandler(this,V.WARN,...G),this._logHandler(this,V.WARN,...G)}error(...G){this._userLogHandler&&this._userLogHandler(this,V.ERROR,...G),this._logHandler(this,V.ERROR,...G)}}function he(H){h.forEach(G=>{G.setLogLevel(H)})}function ve(H,G){for(const ee of h){let $e=null;G&&G.level&&($e=R[G.level]),ee.userLogHandler=null===H?null:(ke,De,...it)=>{const we=it.map(ge=>{if(null==ge)return null;if("string"==typeof ge)return ge;if("number"==typeof ge||"boolean"==typeof ge)return ge.toString();if(ge instanceof Error)return ge.message;try{return JSON.stringify(ge)}catch{return null}}).filter(ge=>ge).join(" ");De>=($e??ke.logLevel)&&H({level:V[De].toLowerCase(),message:we,args:it,type:ke.name})}}}},8766:(ht,Re,O)=>{O.d(Re,{Lj:()=>Fe,X3:()=>tt});var h=O(5861);let R,se;const pe=new WeakMap,he=new WeakMap,ve=new WeakMap,H=new WeakMap,G=new WeakMap;let ke={get(ue,_e,X){if(ue instanceof IDBTransaction){if("done"===_e)return he.get(ue);if("objectStoreNames"===_e)return ue.objectStoreNames||ve.get(ue);if("store"===_e)return X.objectStoreNames[1]?void 0:X.objectStore(X.objectStoreNames[0])}return ge(ue[_e])},set:(ue,_e,X)=>(ue[_e]=X,!0),has:(ue,_e)=>ue instanceof IDBTransaction&&("done"===_e||"store"===_e)||_e in ue};function we(ue){return"function"==typeof ue?function it(ue){return ue!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ye(){return se||(se=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ue)?function(..._e){return ue.apply(et(this),_e),ge(pe.get(this))}:function(..._e){return ge(ue.apply(et(this),_e))}:function(_e,...X){const te=ue.call(et(this),_e,...X);return ve.set(te,_e.sort?_e.sort():[_e]),ge(te)}}(ue):(ue instanceof IDBTransaction&&function $e(ue){if(he.has(ue))return;const _e=new Promise((X,te)=>{const fe=()=>{ue.removeEventListener("complete",oe),ue.removeEventListener("error",Ve),ue.removeEventListener("abort",Ve)},oe=()=>{X(),fe()},Ve=()=>{te(ue.error||new DOMException("AbortError","AbortError")),fe()};ue.addEventListener("complete",oe),ue.addEventListener("error",Ve),ue.addEventListener("abort",Ve)});he.set(ue,_e)}(ue),((ue,_e)=>_e.some(X=>ue instanceof X))(ue,function ae(){return R||(R=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ue,ke):ue)}function ge(ue){if(ue instanceof IDBRequest)return function ee(ue){const _e=new Promise((X,te)=>{const fe=()=>{ue.removeEventListener("success",oe),ue.removeEventListener("error",Ve)},oe=()=>{X(ge(ue.result)),fe()},Ve=()=>{te(ue.error),fe()};ue.addEventListener("success",oe),ue.addEventListener("error",Ve)});return _e.then(X=>{X instanceof IDBCursor&&pe.set(X,ue)}).catch(()=>{}),G.set(_e,ue),_e}(ue);if(H.has(ue))return H.get(ue);const _e=we(ue);return _e!==ue&&(H.set(ue,_e),G.set(_e,ue)),_e}const et=ue=>G.get(ue);function tt(ue,_e,{blocked:X,upgrade:te,blocking:fe,terminated:oe}={}){const Ve=indexedDB.open(ue,_e),Ue=ge(Ve);return te&&Ve.addEventListener("upgradeneeded",gt=>{te(ge(Ve.result),gt.oldVersion,gt.newVersion,ge(Ve.transaction))}),X&&Ve.addEventListener("blocked",()=>X()),Ue.then(gt=>{oe&&gt.addEventListener("close",()=>oe()),fe&&gt.addEventListener("versionchange",()=>fe())}).catch(()=>{}),Ue}function Fe(ue,{blocked:_e}={}){const X=indexedDB.deleteDatabase(ue);return _e&&X.addEventListener("blocked",()=>_e()),ge(X).then(()=>{})}const Oe=["get","getKey","getAll","getAllKeys","count"],be=["put","add","delete","clear"],Ze=new Map;function ie(ue,_e){if(!(ue instanceof IDBDatabase)||_e in ue||"string"!=typeof _e)return;if(Ze.get(_e))return Ze.get(_e);const X=_e.replace(/FromIndex$/,""),te=_e!==X,fe=be.includes(X);if(!(X in(te?IDBIndex:IDBObjectStore).prototype)||!fe&&!Oe.includes(X))return;const oe=function(){var Ve=(0,h.Z)(function*(Ue,...gt){const en=this.transaction(Ue,fe?"readwrite":"readonly");let Jt=en.store;return te&&(Jt=Jt.index(gt.shift())),(yield Promise.all([Jt[X](...gt),fe&&en.done]))[0]});return function(gt){return Ve.apply(this,arguments)}}();return Ze.set(_e,oe),oe}!function De(ue){ke=ue(ke)}(ue=>({...ue,get:(_e,X,te)=>ie(_e,X)||ue.get(_e,X,te),has:(_e,X)=>!!ie(_e,X)||ue.has(_e,X)}))},5861:(ht,Re,O)=>{function h(R,se,ae,ye,pe,he,ve){try{var H=R[he](ve),G=H.value}catch(ee){return void ae(ee)}H.done?se(G):Promise.resolve(G).then(ye,pe)}function V(R){return function(){var se=this,ae=arguments;return new Promise(function(ye,pe){var he=R.apply(se,ae);function ve(G){h(he,ye,pe,ve,H,"next",G)}function H(G){h(he,ye,pe,ve,H,"throw",G)}ve(void 0)})}}O.d(Re,{Z:()=>V})}},ht=>{ht(ht.s=2054)}]);